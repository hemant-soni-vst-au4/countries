(this["webpackJsonpspeakypeaky-app"]=this["webpackJsonpspeakypeaky-app"]||[]).push([[1],{163:function(e,n,t){},253:function(e,n,t){},395:function(e,n,t){var s={"./pwa-action-sheet.entry.js":[680,66],"./pwa-camera-modal-instance.entry.js":[681,67],"./pwa-camera-modal.entry.js":[682,68],"./pwa-camera.entry.js":[683,69],"./pwa-toast.entry.js":[684,70]};function i(e){if(!t.o(s,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=s[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(s)},i.id=395,e.exports=i},397:function(e,n,t){var s={"./ion-action-sheet.entry.js":[686,7],"./ion-alert.entry.js":[687,8],"./ion-app_8.entry.js":[688,9],"./ion-avatar_3.entry.js":[689,19],"./ion-back-button.entry.js":[690,20],"./ion-backdrop.entry.js":[691,52],"./ion-button_2.entry.js":[692,21],"./ion-card_5.entry.js":[693,22],"./ion-checkbox.entry.js":[694,23],"./ion-chip.entry.js":[695,24],"./ion-col_3.entry.js":[696,53],"./ion-datetime_3.entry.js":[697,12],"./ion-fab_3.entry.js":[698,25],"./ion-img.entry.js":[699,54],"./ion-infinite-scroll_2.entry.js":[700,55],"./ion-input.entry.js":[701,26],"./ion-item-option_3.entry.js":[702,27],"./ion-item_8.entry.js":[703,28],"./ion-loading.entry.js":[704,29],"./ion-menu_3.entry.js":[705,30],"./ion-modal.entry.js":[706,10],"./ion-nav_2.entry.js":[707,16],"./ion-popover.entry.js":[708,11],"./ion-progress-bar.entry.js":[709,31],"./ion-radio_2.entry.js":[710,32],"./ion-range.entry.js":[711,33],"./ion-refresher_2.entry.js":[712,13],"./ion-reorder_2.entry.js":[713,18],"./ion-ripple-effect.entry.js":[714,56],"./ion-route_4.entry.js":[715,34],"./ion-searchbar.entry.js":[716,35],"./ion-segment_2.entry.js":[717,36],"./ion-select_3.entry.js":[718,37],"./ion-slide_2.entry.js":[719,57],"./ion-spinner.entry.js":[720,15],"./ion-split-pane.entry.js":[721,58],"./ion-tab-bar_2.entry.js":[722,38],"./ion-tab_2.entry.js":[723,17],"./ion-text.entry.js":[724,39],"./ion-textarea.entry.js":[725,40],"./ion-toast.entry.js":[726,41],"./ion-toggle.entry.js":[727,14],"./ion-virtual-scroll.entry.js":[728,59]};function i(e){if(!t.o(s,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=s[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(s)},i.id=397,e.exports=i},399:function(e,n,t){var s={"./ion-icon.entry.js":[729,74]};function i(e){if(!t.o(s,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=s[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(s)},i.id=399,e.exports=i},407:function(e,n,t){},409:function(e,n,t){},420:function(e,n,t){},421:function(e,n,t){},437:function(e,n,t){},443:function(e,n,t){},444:function(e,n,t){},445:function(e,n,t){},446:function(e,n,t){},447:function(e,n,t){},448:function(e,n,t){},449:function(e,n,t){},450:function(e,n,t){},451:function(e,n,t){},452:function(e,n,t){},453:function(e,n,t){},454:function(e,n,t){},455:function(e,n,t){},456:function(e,n,t){},545:function(e,n,t){var s={"./ar":255,"./ar.js":255,"./az":256,"./az.js":256,"./be":257,"./be.js":257,"./bg":258,"./bg.js":258,"./bs":259,"./bs.js":259,"./ca":260,"./ca.js":260,"./cs":261,"./cs.js":261,"./cy":262,"./cy.js":262,"./da":263,"./da.js":263,"./de":264,"./de.js":264,"./el":265,"./el.js":265,"./en":205,"./en.js":205,"./es":266,"./es.js":266,"./et":267,"./et.js":267,"./eu":268,"./eu.js":268,"./fa":269,"./fa.js":269,"./fi":270,"./fi.js":270,"./fr":271,"./fr.js":271,"./hr":272,"./hr.js":272,"./hu":273,"./hu.js":273,"./id":274,"./id.js":274,"./it":275,"./it.js":275,"./ja":276,"./ja.js":276,"./ka":277,"./ka.js":277,"./ko":278,"./ko.js":278,"./lt":279,"./lt.js":279,"./lv":280,"./lv.js":280,"./mk":281,"./mk.js":281,"./mn":282,"./mn.js":282,"./ms":283,"./ms.js":283,"./nb_NO":284,"./nb_NO.js":284,"./nl":285,"./nl.js":285,"./pl":286,"./pl.js":286,"./pt":287,"./pt.js":287,"./pt_BR":288,"./pt_BR.js":288,"./ro":289,"./ro.js":289,"./ru":290,"./ru.js":290,"./se":291,"./se.js":291,"./sl":292,"./sl.js":292,"./sq":293,"./sq.js":293,"./sr":294,"./sr.js":294,"./sv":295,"./sv.js":295,"./tr":296,"./tr.js":296,"./ua":297,"./ua.js":297,"./uk":298,"./uk.js":298,"./vi":299,"./vi.js":299,"./zh":300,"./zh.js":300,"./zh_TW":301,"./zh_TW.js":301};function i(e){var n=c(e);return t(n)}function c(e){if(!t.o(s,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=c,e.exports=i,i.id=545},548:function(e,n,t){},549:function(e,n,t){},550:function(e,n,t){},551:function(e,n,t){},552:function(e,n,t){},553:function(e,n,t){},554:function(e,n,t){},664:function(e,n,t){},665:function(e,n,t){},666:function(e,n,t){},667:function(e,n,t){},668:function(e,n,t){},669:function(e,n,t){"use strict";t.r(n);var s,i,c,a,o,r,l,d,j,u,b,h,m,p,O,x,g,f,y,v,w,N,S,k,z,L,C,I=t(2),E=t.n(I),D=t(44),P=t.n(D),T=t(370),_=t(7),A=t(9),R=t(6),M=t(5),X=t.n(M),F=t(29),U=t(1),J=t(324),B=(t(407),t(0)),q=function(){var e=Object(U.nb)(),n=Object(I.useState)(!0),t=Object(R.a)(n,2),s=t[0],i=t[1],c=function(){i(!1),e.push("/dashboard/lessons")};return Object(B.jsx)(U.A,{onClick:c,children:Object(B.jsx)(U.k,{fullscreen:!0,children:Object(B.jsx)(U.y,{isOpen:s,cssClass:"my-custom-class",children:Object(B.jsx)(U.k,{className:"modal",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-end",children:Object(B.jsx)("span",{children:Object(B.jsx)(U.o,{style:{cursor:"pointer",float:"right",padding:"10px",color:"white"},size:"large",slot:"icon-only",name:"close",onClick:c})})}),Object(B.jsxs)(U.J,{className:"content",children:[" ",Object(B.jsx)(U.j,{sizeMd:"6",sizeXs:"12",className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsx)("div",{className:"image-content",children:Object(B.jsx)("img",{src:"./assets/images/Character.svg",alt:"charachter"})})}),Object(B.jsxs)(U.j,{sizeMd:"6",sizeXs:"12",className:"ion-justify-content-center ion-align-content-center",children:[Object(B.jsx)("h2",{children:"You\u2019ve just received 5 free lessons! "}),Object(B.jsxs)("p",{children:["We sent you a verification email. Please check your email so we know you\u2019re a human."," "]})]})]})]})})})})})},W=(t(409),t(193)),V=t.n(W),Y=t(136),H={setNativeStorage:function(e,n){return Object(A.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.set({key:e,value:JSON.stringify({data:n})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getNativeStorage:function(e){return Object(A.a)(X.a.mark((function n(){var t,s;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y.a.get({key:e});case 2:return t=n.sent,(s=JSON.parse(t.value))||(s={data:null}),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()},removeNativeStorage:function(e){return Object(A.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y.a.remove({key:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},G=(t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(12)),$=t(778),K=t(326),Q=(t(760),t(761)),Z={};!function(e){e.UpperBeginner="UpperBeginner",e.Intermediate="Intermediate",e.Advanced="Advanced"}(C||(C={}));var ee=Object($.a)(s||(s=Object(G.a)(["\n  fragment LessonFields on Lesson {\n    _id\n    subLessonId\n    lessonName\n    srtFile\n    startTime\n    endTime\n    createdAt\n    updatedAt\n    lessonId\n    videoLevel\n    videoLevelLabel @client\n    videoType\n    youtubeId\n    title\n    introduction\n    tags\n    isSingle\n    day\n    savedCreatedAt\n    isCompleted\n  }\n"]))),ne=Object($.a)(i||(i=Object(G.a)(["\n  fragment DashboardLessonFields on Lesson {\n    _id\n    lessonName\n    videoLevel\n    videoLevelLabel @client\n    videoType\n    youtubeId\n  }\n"]))),te=Object($.a)(c||(c=Object(G.a)(["\n  query getProfile {\n    profile {\n      _id\n      status\n      completedLesson\n      subscriptionLesson\n      currentPackage\n      subscriptionType\n      trialLessonLimit\n      isLevel\n      isAdmin\n      signupType\n      fullName\n      email\n      platform\n      userLevelId\n      userLevelName\n      stripeSandBoxCustomerId\n      stripeLiveCustomerId\n      extraSubscriptionLesson\n      subscriptionProductId\n      subTitleLanguage\n      userSubscriptionStartDate\n      userSubscriptionEndDate\n      profilePic\n      nativeLanguage {\n        _id\n        languageKey\n        languageName\n      }\n      total\n    }\n  }\n"])));function se(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(te,n)}Object($.a)(a||(a=Object(G.a)(["\n  query popularLessons {\n    popularLessons {\n      total\n      totalLessons\n      data {\n        subLessonId\n        lessonName\n        srtFile\n        startTime\n        endTime\n        createdAt\n        updatedAt\n        lessonId\n        videoLevel\n        videoLevelLabel @client\n        youtubeId\n        title\n        introduction\n        tags\n        isSingle\n        day\n        savedCreatedAt\n        isCompleted\n      }\n    }\n  }\n"])));Object($.a)(o||(o=Object(G.a)(["\n  query myCourses($page: Int!) {\n    myCourses(page: $page) {\n      _id\n      title\n      introduction\n      youtubeId\n      videoLevel\n      videoLevelLabel @client\n      topicTitle\n      lessonCount\n    }\n  }\n"])));var ie=Object($.a)(r||(r=Object(G.a)(["\n  query getDashboard($day: String!, $videoLevel: LevelName!) {\n    todayLesson(day: $day) {\n      ...DashboardLessonFields\n    }\n    popularLessons {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n    savedLessons {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n    myCourses(size: 3) {\n      _id\n      title\n      introduction\n      youtubeId\n      videoLevel\n      videoLevelLabel @client\n      topicTitle\n      lessonCount\n    }\n    newUploadLessons(day: $day, videoLevel: $videoLevel) {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n  }\n  ","\n"])),ne);function ce(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(ie,n)}var ae=Object($.a)(l||(l=Object(G.a)(["\n  query getDashboardDraftLessons {\n    draftLessons {\n      total\n      totalLessons\n      data {\n        ...LessonFields\n      }\n    }\n  }\n  ","\n"])),ee);var oe=Object($.a)(d||(d=Object(G.a)(["\n  query getLessonDeatil($id: String!) {\n    currentLessonId @client\n    lesson(id: $id) {\n      _id\n      lessonId\n      courseId\n      youtubeId\n      lessonName\n      isSaved\n      isCompleted\n      title\n      tags\n      videoLevel\n      videoLevelLabel @client\n      introduction\n      isMy\n      scenes {\n        start\n        end\n        langs\n      }\n      phrases {\n        word\n        meaning\n        meanings {\n          lang\n          meaning\n        }\n      }\n    }\n  }\n"])));function re(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(oe,n)}var le=Object($.a)(j||(j=Object(G.a)(["\n  mutation setLessonSaved($id: String!, $isSave: Boolean!) {\n    setLessonSaved(lessonId: $id, isSave: $isSave) {\n      _id\n      isSaved\n    }\n  }\n"])));var de=Object($.a)(u||(u=Object(G.a)(["\n  mutation setLessonCompleted($lessonId: String!) {\n    setLessonCompleted(lessonId: $lessonId) {\n      _id\n      isCompleted\n    }\n  }\n"])));var je=Object($.a)(b||(b=Object(G.a)(["\n  query getCourse($id: String!) {\n    course(id: $id) {\n      _id\n      tags\n      title\n      introduction\n      topicTitle\n      videoLevel\n      videoLevelLabel @client\n      youtubeId\n      lessons {\n        _id\n        lessonName\n        completedAt\n        scenes {\n          start\n          end\n        }\n      }\n    }\n  }\n"])));var ue=Object($.a)(h||(h=Object(G.a)(["\n  mutation addToMyLesson($lessonId: String!) {\n    addToMyLesson(lessonId: $lessonId) {\n      _id\n      isMy\n    }\n  }\n"])));var be=Object($.a)(m||(m=Object(G.a)(["\n  mutation setNote($wordData: WordData!) {\n    setNote(wordData: $wordData)\n  }\n"])));function he(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(be,n)}var me=Object($.a)(p||(p=Object(G.a)(["\n  mutation reportLessonIssue($report: LessonReport!) {\n    reportLessonIssue(report: $report)\n  }\n"])));var pe=Object($.a)(O||(O=Object(G.a)(["\n  query searchDictionary($search: String!) {\n    dictionary(search: $search) {\n      entry\n      meaning {\n        korean\n        noun\n        verb\n        adverb\n        adjective\n      }\n      ipa\n    }\n  }\n"])));var Oe=Object($.a)(x||(x=Object(G.a)(["\n  query getDictation($sceneIdx: Int!) {\n    dictation(sceneIdx: $sceneIdx) @client\n  }\n"])));function xe(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(Oe,n)}var ge=Object($.a)(g||(g=Object(G.a)(["\n  query getRecords($sceneIdx: Int!) {\n    records(sceneIdx: $sceneIdx) @client {\n      audioAsBase64\n      audioUrl\n      sampleRate\n      stt {\n        error\n        confidence\n        transcript\n        percent\n      }\n    }\n  }\n"])));function fe(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(ge,n)}Object($.a)(f||(f=Object(G.a)(["\n  query getNotes($size: Int!, $page: Int!) {\n    getNotes(size: $size, page: $page) {\n      page\n      size\n      total\n      totalPage\n      data {\n        _id\n        word\n        meaning\n      }\n    }\n  }\n"])));var ye=Object($.a)(y||(y=Object(G.a)(["\n  query moreNotes($cursor: String, $size: Int!) {\n    moreNotes(cursor: $cursor, size: $size) {\n      cursor\n      hasMore @client\n      nodes {\n        _id\n        word\n        meaning\n        kor\n        noun\n        verb\n        adv\n        adj\n      }\n    }\n  }\n"])));var ve=Object($.a)(v||(v=Object(G.a)(["\n  mutation deleteNote($id: String!) {\n    deleteNote(id: $id)\n  }\n"])));var we=Object($.a)(w||(w=Object(G.a)(["\n  query gerReviewCompletedLessons($cursor: String, $size: Int!) {\n    moreCompletedLessons(cursor: $cursor, size: $size) {\n      cursor\n      hasMore @client\n      nodes {\n        _id\n        lessonName\n        completedAt\n        videoLevel\n        videoLevelLabel @client\n        videoType\n        youtubeId\n      }\n    }\n  }\n"])));function Ne(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(we,n)}var Se=Object($.a)(N||(N=Object(G.a)(["\n  mutation uploadProfilePicture($imageBase64: String!) {\n    uploadProfilePicture(imageBase64: $imageBase64) {\n      _id\n      profilePic\n    }\n  }\n"])));var ke=Object($.a)(S||(S=Object(G.a)(["\n  query getUserProgress {\n    progressState {\n      totalCount\n      datetimes\n      counts {\n        type\n        count\n      }\n    }\n  }\n"])));Object($.a)(k||(k=Object(G.a)(["\n  query getLevels {\n    levels {\n      _id\n      name\n    }\n  }\n"])));var ze=Object($.a)(z||(z=Object(G.a)(["\n  mutation setLevel($levelName: LevelName!) {\n    setLevel(levelName: $levelName) {\n      _id\n      userLevelId\n      userLevelName\n    }\n  }\n"])));var Le=Object($.a)(L||(L=Object(G.a)(["\n  query getUserGuide {\n    userGuide {\n      introduction\n      youtubeId\n    }\n  }\n"])));var Ce=t(19),Ie=t(45);function Ee(e,n){return De.apply(this,arguments)}function De(){return(De=Object(A.a)(X.a.mark((function e(n,t){var s,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getNativeStorage("token");case 2:return s=e.sent,i=t||{headers:{}},e.next=6,fetch("https://api.speakypeaky.com/api/v1"+n,Object(_.a)(Object(_.a)({},i),{},{headers:Object(_.a)(Object(_.a)({},i.headers),{},{"Content-Type":"application/json",accesstoken:null===s||void 0===s?void 0:s.data})})).then((function(e){return e.json()}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return Te.apply(this,arguments)}function Te(){return(Te=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/lesson/suggested-curriculum/");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/user/get-profile");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return Me.apply(this,arguments)}function Me(){return(Me=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/lesson/my-course");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(421);function Xe(){return Xe=Object(A.a)(X.a.mark((function e(){var n,t,s,i,c,a=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1?a[1]:void 0,s=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,e.next=6,Ee("/lesson/search-lessons/".concat(n),{method:"POST",body:JSON.stringify({videoLevel:t,day:s,searchKeyWord:i})});case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}var Fe={Monday:"/assets/images/search/news1.png",Tuesday:"/assets/images/search/general-english1.png",Wednesday:"/assets/images/search/tv-shows-movies1.png",Thursday:"/assets/images/search/business-english1.png",Friday:"/assets/images/search/speech1.png",Weekend:"/assets/images/search/pop-songs1.png"},Ue=["Weekend","Monday","Tuesday","Wednesday","Thursday","Friday","Weekend"];function Je(e){var n=e.searchKeyWord,t=E.a.useState(!1),s=Object(R.a)(t,2),i=(s[0],s[1]),c=E.a.useState(1),a=Object(R.a)(c,2),o=(a[0],a[1],se().data.profile),r=Ue[(new Date).getDay()],l=Ie.useInfiniteQuery(["searchLessons",r,n],(function(e){var t=e.pageParam;return function(){return Xe.apply(this,arguments)}(void 0===t?1:t,o.userLevelName,r,n)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1},onSuccess:function(){i(!0)}}),d=l.error,j=l.data,u=l.isLoading,b=l.fetchNextPage,h=l.hasNextPage,m=(l.isFetching,l.isFetchingNextPage);l.status;if(console.log("isLoading",u),d)return Object(B.jsx)("div",{children:"Error!"});var p=(null===j||void 0===j?void 0:j.pages)||[];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{size:"12",className:"ion-no-padding",children:u?Object(B.jsx)("div",{className:"ion-padding-top",children:Object(B.jsx)(U.O,{})}):null!==j&&void 0!==j&&j.pages[0].length?Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",className:"ion-align-self-center",children:Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:p.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsxs)(U.t,{className:"pointer",routerLink:"/lesson-details/".concat(e._id),routerDirection:"forward",mode:"md",style:{cursor:"pointer"},children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:(n=e.youtubeId,"https://img.youtube.com/vi/"+n+"/mqdefault.jpg")})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:e.lessonName}),Object(B.jsx)("p",{children:Object(B.jsx)(U.S,{children:e.videoLevel})})]}),Object(B.jsx)(U.o,{mode:"ios",icon:Ce.g,slot:"end"})]},e._id);var n}))},n)}))})})}):Object(B.jsx)(U.J,{className:"explore ion-text-center ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"6",sizeXl:"4",sizeLg:"4",className:"ion-align-self-center",children:[Object(B.jsx)("img",{className:"ion-margin-bottom",src:"/assets/images/search-lessons-not-found1.png",width:"30%",alt:"lessons not found"}),Object(B.jsxs)("h3",{children:["No results for ",Object(B.jsxs)("b",{children:['"',n,'"']}),Object(B.jsx)("br",{})]}),Object(B.jsx)(U.S,{children:"Try again using different spelling or keywords"})]})})})}),Object(B.jsx)(U.q,{disabled:!h||m,onIonInfinite:function(e){b().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})}function Be(){var e=se({fetchPolicy:"cache-only"}).data.profile,n=E.a.useState(""),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(I.useState)(0),a=Object(R.a)(c,2),o=a[0],r=a[1],l=E.a.useState(!1),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(U.nb)(),h=Ie.useQuery("suggested-curriculum",Pe),m=h.isLoading,p=h.error,O=h.data;if(m)return Object(B.jsx)(U.A,{className:"libray-page",children:Object(B.jsx)(U.k,{children:Object(B.jsx)(U.C,{type:"indeterminate"})})});if(p)return Object(B.jsx)("div",{children:"Error..."});var x=Object.keys(Fe).map((function(e){return Object(_.a)(Object(_.a)({},O.find((function(n){return n.day===e}))),{},{icon:Fe[e]})}));function g(){return(g=Object(A.a)(X.a.mark((function n(){var t;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee("/lesson/my-course");case 2:(t=n.sent)&&r(e.trialLessonLimit-t.data.length);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return e&&function(){g.apply(this,arguments)}(),Object(B.jsx)(U.A,{className:"libray-page",children:Object(B.jsx)(U.k,{children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{style:{paddingTop:"8%"},className:"ion-margin-top ion-padding-top ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"8",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:[Object(B.jsx)(U.K,{mode:"md",id:"searchKeyWord",onIonFocus:function(){u(!0)},onIonCancel:function(){u(!1)},onIonClear:function(){},onIonChange:function(e){i(e.target.value)},showCancelButton:"focus","clear-icon":"close-circle",animated:!0,placeholder:"Search your lesson"}),j||""!==s?""===s&&Object(B.jsxs)("div",{className:"explore ion-padding-top",children:[Object(B.jsx)("img",{className:"ion-margin-bottom ion-padding-top",src:"/assets/images/search-lessons1.png",width:"30%",alt:"expore lessons"}),Object(B.jsx)("h3",{children:"Explore the lessons"}),Object(B.jsx)(U.S,{children:"Search for keywords, accents, topics, and genres."})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{children:x.map((function(e){return Object(B.jsx)(U.j,{size:"6",children:Object(B.jsxs)(U.f,{mode:"ios",className:"card ion-padding",routerLink:"/library/".concat(e.lessonTopicId),children:[Object(B.jsx)(U.h,{children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.p,{style:{width:"50%",height:"8vh"},className:"search-categories-icon",src:e.icon})})}),Object(B.jsx)(U.g,{className:"search-categories",mode:"ios",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)("p",{children:Object(B.jsx)("strong",{children:e.title})})})})]},e._id)})}))}),"Subscription"===e.currentPackage?Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-no-padding ion-align-items-center",children:Object(B.jsx)(U.j,{onClick:function(){b.push("/share-app","forward")},className:"ion-align-item-center  ion-no-padding ion-align-self-center ion-justify-content-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",children:Object(B.jsx)("img",{src:"../../../assets/images/share_app-h.png",alt:"subscribe"})})})}):Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.J,{style:{backgroundImage:'url("../../../assets/images/subscribeBg-Explore.png")',backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",height:"32vh",padding:"0px 20px"},className:"ion-align-items-center",children:Object(B.jsx)(U.j,{className:"ion-align-item-center  ion-align-self-center ion-justify-content-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",children:Object(B.jsxs)("div",{className:"ion-padding-top ion-padding-bottom  ",children:[Object(B.jsx)("h6",{className:"ion-text-center ion-padding-top",children:Object(B.jsxs)("strong",{children:['"',o,'" free'," ",o<=1?"lesson is":"lessons are"," ","left. ",Object(B.jsx)("br",{})]})}),Object(B.jsx)("p",{className:"ion-text-center ion-padding-top ion-padding-bottom",children:"Subscribe to unlock more lessons."}),Object(B.jsx)(U.d,{mode:"ios",className:"Sub",shape:"round",expand:"block",routerLink:"/subscriptionplans",children:Object(B.jsx)("strong",{children:"SUBSCRIBE NOW"})})]})})})})]})]})}),Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{size:"12",className:"ion-no-padding",children:j&&""!==s&&Object(B.jsx)(Je,{searchKeyWord:s},s)})})]})})})}var qe=function(){return Object(B.jsx)(Be,{})},We=t(112),Ve=t.n(We),Ye=(t(437),{UpperBeginner:"Upper Beginner","Upper-beginner":"Upper Beginner",Elementary:"Upper Beginner",Intermediate:"Intermediate",Advanced:"Advanced"}),He=function(){var e=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(Le,n)}(),n=e.data,t=e.loading,s=E.a.useState(!1),i=Object(R.a)(s,2),c=i[0],a=i[1],o=E.a.useRef(null);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{className:"lesson ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"12",sizeXl:"12",sizeMd:"12",className:"ion-align-self-center ion-no-padding",children:[Object(B.jsxs)("h5",{className:"ion-no-margin ion-padding",children:[Object(B.jsx)(U.S,{color:"danger",children:"Level Test: "})," How much you can understand from the video below?"]}),Object(B.jsxs)("div",{className:"player-wrapper",children:[Object(B.jsx)(Ve.a,{ref:o,url:t?null:"https://www.youtube.com/watch?v=".concat(n.userGuide.youtubeId),controls:!1,playing:c,width:"100%",height:"auto",config:{youtube:{playerVars:{showinfo:0,disablekb:1,controls:0,cc_load_policy:0}}},progressInterval:500,onPause:function(){return a(!1)},onProgress:function(e){},onReady:function(e){}}),Object(B.jsx)("div",{className:"player-overlay"})]})]})}),Object(B.jsx)(U.J,{className:"youtube-handler ion-align-items-center ion-justify-content-center",children:c?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.j,{onClick:function(){return o.current.seekTo(o.current.getCurrentTime()-3)},sizeXs:"3",sizeSm:"3",sizeMd:"3",sizeLg:"3",sizeXl:"3",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.o,{className:"pointer",src:"/assets/images/lessons/3seconds-back.svg"})}),Object(B.jsx)(U.j,{onClick:function(){return a(!1)},sizeXs:"4",sizeSm:"4",sizeMd:"4",sizeLg:"4",sizeXl:"4",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.o,{className:"pointer",src:"/assets/images/lessons/pause-lesson.svg"})})]}):Object(B.jsx)(U.j,{onClick:function(){return a(!0)},sizeXs:"2",sizeSm:"2",sizeMd:"2",sizeLg:"2",sizeXl:"2",className:"ion-text-center ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.o,{className:"pointer",src:"/assets/images/lessons/play-lesson.svg"})})})]})},Ge=function(){var e=se({fetchPolicy:"cache-only"}).data.profile,n=E.a.useState(e.userLevelName),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(U.jb)(),a=Object(R.a)(c,1)[0],o=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(ze,n)}({onCompleted:function(e){a({cssClass:"user-level-alert",message:"Great! We will recommend <strong>"+Ye[e.setLevel.userLevelName]+"</strong> lessons for you.",buttons:[{text:"Ok",handler:function(e){console.log("ok pressed")}}]})}}),r=Object(R.a)(o,1)[0],l=[{value:C.UpperBeginner,label:"Not much (0-40%)"},{value:C.Intermediate,label:"About half (40-70%)"},{value:C.Advanced,label:"Quite a lot (70%~)"}];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"12",sizeXl:"12",sizeMd:"12",className:"ion-align-self-center",children:Object(B.jsx)(U.E,{value:s,onIonChange:function(e){console.log(e.detail.value);var n=s;i(e.detail.value),r({variables:{levelName:e.detail.value}}).catch((function(){i(n)}))},id:"selectedLevel",name:"selectedLevel",children:l.map((function(e){return Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsx)(U.v,{children:e.label}),Object(B.jsx)(U.D,{color:"danger",mode:"md",slot:"end",value:e.value})]},e.value)}))})})})," "]})},$e=function(){var e=se().data.profile;return Object(B.jsxs)(U.m,{class:"user-level-panel ion-no-padding ",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"12",sizeXl:"12",sizeMd:"12",className:"ion-padding-start ion-padding-end ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin",mode:"ios",children:Object(B.jsxs)(U.g,{children:["We're currently recommending",Object(B.jsxs)(U.S,{color:"danger",children:[' "',Ye[e.userLevelName],'" ']}),"lessons for you."]})})})}),Object(B.jsx)(He,{}),Object(B.jsx)(Ge,{}),Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{children:Object(B.jsx)(U.p,{src:"/assets/images/level-up-guideline.svg",style:{paddingTop:"5px",borderTop:"2px solid #f8f6f6"}})})})]})},Ke=t(88),Qe=t(328),Ze=t.n(Qe);t(438);var en=function(e){return new Promise((function(n,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return n(s.result.toString())},s.onerror=function(e){return t(e)}}))},nn=function(e){var n=e.loading,t=e.onDismiss,s=e.onSubmit,i=E.a.useState({aspect:1}),c=Object(R.a)(i,2),a=c[0],o=c[1],r=E.a.useState(),l=Object(R.a)(r,2),d=l[0],j=l[1],u=E.a.useState(),b=Object(R.a)(u,2),h=b[0],m=b[1],p=E.a.useState(),O=Object(R.a)(p,2),x=O[0],g=O[1];function f(){return(f=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.target.files.item(0))){e.next=6;break}return e.next=4,en(t);case 4:s=e.sent,g(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.a.getPhoto({quality:100,allowEditing:!1,resultType:Ke.c.Base64,source:Ke.d.Photos,correctOrientation:!0});case 3:(n=e.sent).base64String&&g("data:image/jpeg;base64,"+n.base64String),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return console.log(d),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.n,{children:Object(B.jsxs)(U.X,{color:"dark",children:[Object(B.jsx)(U.e,{slot:"secondary",children:Object(B.jsx)(U.d,{color:"light",onClick:t,children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.i})})}),Object(B.jsx)(U.V,{children:"Update Profile Picture"})]})}),Object(B.jsx)(U.k,{children:Object(B.jsx)(U.m,{className:"ion-padding h-100",children:Object(B.jsx)(U.J,{className:"ion-justify-content-center h-100",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:x?Object(B.jsx)(Ze.a,{src:x,crop:a,onChange:function(e){return o(e)},keepSelection:!0,onImageLoaded:function(e){var n=Math.min(e.width,e.height);return o({x:0,y:0,width:n,aspect:1}),m(e),!1}}):Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsxs)(U.j,{"size-xs":"12","size-sm":"12","size-md":"12","size-xl":"6","size-lg":"6",className:"ion-align-self-center",children:[Object(B.jsxs)("label",{className:"profile-image ion-margin-bottom",children:["Choose Image",Object(B.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:function(e){return f.apply(this,arguments)}})]}),Object(B.jsx)(U.d,{mode:"ios",className:"ion-margin-top",color:"danger",shape:"round",expand:"block",onClick:function(){return y.apply(this,arguments)},children:"Capture Image"})]})})})})})}),x&&Object(B.jsx)(U.l,{children:Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"12","size-xl":"8","size-lg":"8",className:"ion-align-self-center",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",shape:"round",expand:"block",disabled:n,onClick:function(){var e=function(e,n){var t=document.createElement("canvas"),s=e.naturalWidth/e.width,i=e.naturalHeight/e.height;return t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(e,n.x*s,n.y*i,n.width*s,n.height*i,0,0,n.width,n.height),t.toDataURL("image/jpeg")}(h,a);j(e),s(e)},children:Object(B.jsx)("strong",{children:"UPLOAD"})})})})})]})};function tn(){var e=se().data.profile,n=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(Se,n)}({onCompleted:function(e){a("Profile updated successfully.",2e3),j()},onError:function(e){a("Error! While updating user profile picture.",2e3)}}),t=Object(R.a)(n,2),s=t[0],i=t[1].loading,c=Object(U.ob)(),a=Object(R.a)(c,1)[0],o=Object(U.ib)(),r=(Object(R.a)(o,1)[0],Object(U.lb)(nn,{loading:i,onDismiss:function(){return j()},onSubmit:function(e){s({variables:{imageBase64:e}})}})),l=Object(R.a)(r,2),d=l[0],j=l[1];function u(e){return b.apply(this,arguments)}function b(){return(b=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.a.getPhoto({quality:20,allowEditing:!0,resultType:Ke.c.Base64,source:n,direction:Ke.b.Front,promptLabelHeader:"Update profile picture",promptLabelCancel:"Cancel",promptLabelPhoto:"Load from Library",promptLabelPicture:"Use Camera"});case 3:(t=e.sent).base64String&&s({variables:{imageBase64:"data:image/jpeg;base64,"+t.base64String}}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){Object(U.hb)("desktop")?d({cssClass:"profile-upload-modal"}):u(Ke.d.Prompt)}return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.x,{isOpen:i,message:"Please wait..."}),Object(B.jsx)(U.c,{className:"pointer",onClick:h,children:Object(B.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePic)||"/assets/images/defaultProfile.svg",alt:"profile"})}),Object(B.jsx)(U.o,{onClick:h,className:"update-picture",src:"/assets/images/update-profile-plus-icon.svg"}),Object(B.jsx)("h3",{className:"ion-text-center",children:Object(B.jsx)("strong",{style:{textTransform:"capitalize"},children:e.fullName})})]})}var sn=t(13),cn=t(329),an=t(762),on=t(763),rn=t(786),ln=t(764),dn=t(56),jn=(t(443),[{value:1,label:"January",shortForm:"JAN"},{value:2,label:"February",shortForm:"FEB"},{value:3,label:"March",shortForm:"MAR"},{value:4,label:"April",shortForm:"APR"},{value:5,label:"May",shortForm:"MAY"},{value:6,label:"June",shortForm:"JUN"},{value:7,label:"July",shortForm:"JUL"},{value:8,label:"August",shortForm:"AUG"},{value:9,label:"September",shortForm:"SEP"},{value:10,label:"October",shortForm:"OCT"},{value:11,label:"November",shortForm:"NOV"},{value:12,label:"December",shortForm:"DEC"}]);function un(){var e=se({fetchPolicy:"cache-only"}).data.profile,n=Object(U.nb)();Object(I.useEffect)((function(){_e()}),[]);var t=new Date,s=E.a.useState(Object(an.a)(new Date)),i=Object(R.a)(s,2),c=i[0],a=i[1],o=E.a.useState(null),r=Object(R.a)(o,2),l=r[0],d=r[1],j=Object(on.a)(Object(rn.a)(t,c)),u=Object(ln.a)(j,1),b=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(ke,n)}({fetchPolicy:"cache-and-network"}),h=b.loading,m=b.error,p=b.data;if(h)return Object(B.jsx)("div",{className:"ion-text-center ion-padding-top",children:Object(B.jsx)(U.O,{name:"dots"})});if(m)return Object(B.jsx)("div",{children:"Error"});var O=p.progressState,x=Object(cn.indexBy)("type",O.counts),g=O.datetimes.filter((function(e){return Object(dn.inRange)(+e,+j,+u)})).length;return Object(B.jsxs)("div",{className:"profile-progress-tab",children:[Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-margin-top profile-progress",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"12",sizeXl:"12",sizeMd:"12",className:"ion-align-self-center ion-no-padding",children:[Object(B.jsx)(U.B,{isOpen:!!l,event:l,mode:"md",cssClass:"months-popover",onDidDismiss:function(){return d(null)},children:Object(B.jsx)(U.w,{lines:"none",children:jn.map((function(e,n){return Object(B.jsx)(U.t,{onClick:function(){d(null),a(n)},children:Object(B.jsx)(U.v,{className:Object(sn.a)(n===c&&"c-red"),children:e.label})},n)}))})}),Object(B.jsxs)("h5",{className:"current-month",children:[Object(B.jsx)("img",{src:"/assets/images/user-progress/completed.svg",alt:"COMPLETED"}),"COMPLETED IN"," ",Object(B.jsxs)("span",{children:[jn[c].shortForm,Object(B.jsx)(U.o,{className:"drop-down",mode:"md",icon:Ce.c,onClick:function(e){e.persist(),d(e)}})]})]}),Object(B.jsxs)("h1",{className:"lessons-count",children:[Object(B.jsxs)("strong",{children:[" ",g," "]})," ",Object(B.jsx)("small",{children:"lessons"})]}),Object(B.jsxs)("h5",{className:"current-month ion-padding-top",children:[Object(B.jsx)("img",{src:"/assets/images/user-progress/total-completed.svg",alt:"TOTAL COMPLETED"}),"TOTAL COMPLETED"]}),Object(B.jsxs)("h1",{className:"lessons-count",children:[Object(B.jsxs)("strong",{id:"total",children:[" ",O.totalCount]})," ",Object(B.jsx)("small",{children:"lessons"})]}),Object(B.jsxs)("h5",{className:"current-month ion-padding-top",children:[Object(B.jsx)("img",{src:"/assets/images/user-progress/upper-beginner.svg",alt:"UPPER-BEGINNER STUDIED"}),"UPPER-BEGINNER STUDIED"]}),Object(B.jsxs)("h1",{className:"lessons-count",children:[Object(B.jsxs)("strong",{children:[" ",x["Upper-beginner"].count]})," ",Object(B.jsx)("small",{children:"lessons"})]}),Object(B.jsxs)("h5",{className:"current-month ion-padding-top",children:[Object(B.jsx)("img",{src:"/assets/images/user-progress/intermediate.svg",alt:"INTERMEDIATE STUDIED"}),"INTERMEDIATE STUDIED"]}),Object(B.jsxs)("h1",{className:"lessons-count",children:[Object(B.jsxs)("strong",{children:[" ",x.Intermediate.count]})," ",Object(B.jsx)("small",{children:"lessons"})]}),Object(B.jsxs)("h5",{className:"current-month ion-padding-top",children:[Object(B.jsx)("img",{src:"/assets/images/user-progress/advanced.svg",alt:"ADVANCED"}),"ADVANCED STUDIED"]}),Object(B.jsxs)("h1",{className:"lessons-count",children:[Object(B.jsxs)("strong",{id:"advance",children:[" ",x.Advanced.count]})," ",Object(B.jsx)("small",{children:"lessons"})]}),Object(B.jsx)("p",{className:"current-month pointer",style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){n.push("/subscription","forward")},children:"Manage Subscription"})]})}),Object(B.jsx)(U.J,{className:"ion-justify-content-center profile-bg-yellow",children:"Subscription"===(null===e||void 0===e?void 0:e.currentPackage)?Object(B.jsxs)(U.j,{sizeXs:"10",sizeSm:"10",sizeLg:"7",sizeXl:"6",sizeMd:"8",className:"ion-no-padding ion-align-self-center",children:[Object(B.jsx)("h3",{className:"ion-no-margin ion-text-center",children:Object(B.jsx)("strong",{children:"Help your friends and family speak English"})}),Object(B.jsx)(U.d,{mode:"ios",color:"danger",shape:"round",expand:"block",onClick:function(){n.push("/share-app","forward")},children:Object(B.jsx)("strong",{children:"INVITE A FRIEND"})})]}):Object(B.jsxs)(U.j,{sizeXs:"10",sizeSm:"10",sizeLg:"7",sizeXl:"6",sizeMd:"8",className:"ion-no-padding ion-align-self-center",children:[Object(B.jsx)("h3",{className:"ion-no-margin ion-text-center",children:Object(B.jsx)("strong",{children:"Unlock your journey"})}),Object(B.jsx)(U.d,{mode:"ios",color:"danger",shape:"round",expand:"block",onClick:function(){n.push("/subscriptionplans","forward")},children:Object(B.jsx)("strong",{children:"SUBSCRIBE NOW"})})]})})]})}t(444);var bn=function(){var e=Object(U.nb)(),n=Object(I.useState)("progress"),t=Object(R.a)(n,2),s=t[0],i=t[1];return Object(B.jsx)(U.A,{children:Object(B.jsx)(U.k,{fullscreen:!0,className:"profile-page",children:Object(B.jsxs)(U.m,{className:"ion-padding-top",children:[Object(B.jsxs)(U.J,{className:"ion-justify-content-center ion-margin-top",children:[Object(B.jsx)(U.j,{sizeXs:"2",sizeSm:"2",sizeLg:"3",sizeXl:"2",sizeMd:"3",className:"ion-align-self-end",children:" "}),Object(B.jsx)(U.j,{sizeXs:"8",sizeSm:"8",sizeLg:"5",sizeXl:"4",sizeMd:"5",className:"ion-align-self-center",children:Object(B.jsx)(tn,{})}),Object(B.jsx)(U.j,{sizeXs:"2",sizeSm:"2",sizeLg:"3",sizeXl:"2",sizeMd:"3",className:"ion-align-self-start",children:Object(B.jsx)(U.e,{className:"ion-float-right",children:Object(B.jsx)(U.d,{onClick:function(){e.push("/setting","forward")},children:Object(B.jsx)(U.o,{color:"dark",mode:"ios",slot:"icon-only",icon:Ce.l})})})})]}),Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"9",sizeXl:"7",sizeMd:"9",className:"ion-no-padding ion-align-self-center",children:Object(B.jsxs)(U.L,{color:"danger",mode:"md",value:s,onIonChange:function(e){i(e.detail.value)},children:[Object(B.jsx)(U.M,{mode:"md",value:"progress",children:Object(B.jsx)(U.v,{children:"My Progress"})}),Object(B.jsx)(U.M,{mode:"md",value:"level",children:Object(B.jsx)(U.v,{children:"My Level"})})]})})}),Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"7",sizeXl:"6",sizeMd:"8",className:"ion-no-padding ion-align-self-center",children:"progress"===s?Object(B.jsx)(un,{}):Object(B.jsx)($e,{})})})]})})})},hn=t(776),mn=t(181),pn=t.n(mn);t(252);function On(e){var n=e.steps,t=e.onClose,s=e.delay;setTimeout((function(){var e=new pn.a({animate:!1,allowClose:!1,overlayClickNext:!0,doneBtnText:"Done",closeBtnText:"Skip",nextBtnText:"Next",prevBtnText:"Previous",keyboardControl:!1,onHighlightStarted:function(e){e.getNode().scrollIntoView(!1)},onDeselected:function(n){console.log("onDeselected"),e.isActivated||t()}});e.defineSteps(n),e.start()}),void 0===s?1e3:s)}function xn(e,n){function t(){return(t=Object(A.a)(X.a.mark((function t(){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.getNativeStorage(e);case 2:if(!0===(null===(s=t.sent)||void 0===s?void 0:s.data)){t.next=5;break}return t.abrupt("return",new Promise((function(t,s){On({steps:n,onClose:function(){H.setNativeStorage(e,!0).then((function(){document.getElementsByTagName("ion-content");t(!0)}))},delay:200})})));case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{showHelpGuide:function(){return t.apply(this,arguments)}}}var gn=t(330),fn=t(32),yn=t(372);function vn(){function e(){return(e=Object(A.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"!==fn.a.getPlatform()){e.next=11;break}return e.prev=1,e.next=4,gn.a.speak({text:n,locale:"en",rate:1.5});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("An error occured while initializing : ",e.t0);case 9:e.next=13;break;case 11:return e.next=13,yn.a.speak({value:n,language:"en"});case 13:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return function(n){return e.apply(this,arguments)}}t(445);var wn=function(){var e=E.a.useState("lesson"),n=Object(R.a)(e,2),t=n[0],s=n[1],i=xn("isReviewHelpModeDone",[{element:"#completedLessons",popover:{title:"Review past lessons",description:"Past lessons you've completed. You can re-study them as much as you like",position:"bottom"}},{element:"#phrases",popover:{title:"Review saves words",description:"Save words and expressions while you study lessons.",position:"bottom"}}]).showHelpGuide;return E.a.useEffect((function(){i()}),[]),Object(B.jsx)(U.A,{className:"review-page",children:Object(B.jsx)(U.k,{className:"ion-no-padding",children:Object(B.jsxs)(U.m,{className:"ion-padding-top",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"9",sizeLg:"8",sizeXl:"8",className:"ion-align-self-center",children:Object(B.jsx)("h1",{children:Object(B.jsx)("strong",{children:"Review"})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:Object(B.jsxs)(U.L,{value:t,onIonChange:function(e){return s(e.detail.value)},color:"danger",mode:"md",children:[Object(B.jsx)(U.M,{id:"completedLessons",mode:"md",value:"lesson",children:Object(B.jsx)(U.v,{children:"Lesson"})}),Object(B.jsx)(U.M,{id:"phrases",mode:"md",value:"phrasesAndVocab",children:Object(B.jsx)(U.v,{children:"Phrase & Vocab"})})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",className:"ion-align-self-center ion-padding-top",children:"lesson"===t?Object(B.jsx)(kn,{}):Object(B.jsx)(zn,{})})})]})})})};function Nn(e){var n=e.userNote,t=e.onDismiss,s=vn();return Object(B.jsx)(U.J,{className:"usernote-content",children:Object(B.jsxs)(U.j,{children:[Object(B.jsxs)("div",{className:"modal-header",children:[Object(B.jsx)("div",{className:"title ion-no-margin c-red",children:Object(B.jsx)("img",{onClick:function(){s(n.word)},className:"play play-icon",src:"/assets/images/icon_play.svg",alt:"speak word"})}),Object(B.jsx)("div",{className:"title-word  c-red",children:null===n||void 0===n?void 0:n.word}),Object(B.jsx)(U.o,{mode:"md",icon:Ce.i,className:"modal-dismiss pointer",onClick:t})]}),Object(B.jsx)(U.J,{className:"modal-body ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:null!==n&&void 0!==n&&n.meaning?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("p",{children:[Object(B.jsx)("strong",{className:"c-orange",children:"English: "})," ",null===n||void 0===n?void 0:n.meaning]}),Object(B.jsx)("p",{children:null===n||void 0===n?void 0:n.kor})]}):Object(B.jsxs)(B.Fragment,{children:[(null===n||void 0===n?void 0:n.kor)&&Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Korean):"})," ",null===n||void 0===n?void 0:n.kor]}),(null===n||void 0===n?void 0:n.noun)&&Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Noun):"})," ",null===n||void 0===n?void 0:n.noun]}),(null===n||void 0===n?void 0:n.verb)&&Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Verb):"})," ",null===n||void 0===n?void 0:n.verb]}),(null===n||void 0===n?void 0:n.adv)&&Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Adverb):"})," ",null===n||void 0===n?void 0:n.adv]}),(null===n||void 0===n?void 0:n.adj)&&Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Adjective):"})," ",null===n||void 0===n?void 0:n.adj]})]})})})]})})}var Sn=Object(hn.a)("MMM d, y");function kn(){var e=Ne({variables:{size:20}}),n=e.loading,t=e.error,s=e.data,i=e.fetchMore,c=e.refetch;Object(U.rb)((function(){c()}));var a=Object(U.nb)();if(n)return Object(B.jsx)("div",{className:"ion-text-center ion-padding-top",children:Object(B.jsx)(U.O,{name:"dots"})});if(t)return Object(B.jsx)("div",{children:"Error..."});var o=s.moreCompletedLessons.nodes||[];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.w,{className:"completed-lessons",children:o.map((function(e,n){return Object(B.jsxs)(U.t,{button:!0,onClick:function(){a.push("/lesson-details/".concat(e._id,"/true/false"),"forward")},className:"ion-align-self-center",detail:!1,lines:"none",children:[Object(B.jsx)(U.z,{className:"review-num ion-align-self-center ion-text-center",children:Object(B.jsx)("strong",{children:n+1})}),Object(B.jsx)(U.U,{children:Object(B.jsx)("img",{src:(t=e.youtubeId,"https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg")),alt:e.lessonName})}),Object(B.jsxs)(U.v,{className:"ion-align-self-center",children:[Object(B.jsxs)("div",{className:"lesson-level",children:[e.videoLevelLabel," - ",e.videoType]}),Object(B.jsxs)("div",{className:"lesson-name",children:[" ",e.lessonName," "]}),Object(B.jsxs)("div",{className:"lesson-completed-date",children:["Studied on ",Sn(new Date(e.completedAt))]})]})]},e._id);var t}))}),0===o.length&&Object(B.jsx)(U.J,{className:"ion-padding-top",children:Object(B.jsx)(U.j,{className:"ion-text-center ion-padding-top",children:Object(B.jsx)("h5",{className:"ion-padding-top",children:Object(B.jsx)("strong",{children:"You haven\u2019t completed any lessons yet."})})})}),Object(B.jsx)(U.q,{disabled:!s.moreCompletedLessons.hasMore,onIonInfinite:function(e){i({variables:{cursor:s.moreCompletedLessons.cursor}}),e.target.complete()},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})}function zn(){var e=vn(),n=Object(U.ob)(),t=Object(R.a)(n,1)[0],s=E.a.useState(),i=Object(R.a)(s,2),c=i[0],a=i[1],o=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(ve,n)}({onCompleted:function(e){t("Delete successfully.",2e3)},onError:function(e){t("Oops! Something went wrong. Please try again.",2e3)},update:function(e,n){var t=n.data;if(t.deleteNote){var s=t.deleteNote;e.modify({fields:{moreNotes:function(e,n){n.readField;var t=Object(dn.omit)(e.nodes,s);return Object(_.a)(Object(_.a)({},e),{},{nodes:t})}}})}}}),r=Object(R.a)(o,1)[0],l=E.a.useState(),d=Object(R.a)(l,2),j=d[0],u=d[1],b=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(ye,n)}({variables:{size:20},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),h=b.loading,m=b.error,p=b.data,O=b.fetchMore;if(h)return Object(B.jsx)("div",{className:"ion-text-center ion-padding-top",children:Object(B.jsx)(U.O,{name:"dots"})});if(m)return Object(B.jsx)("div",{children:"Error..."});var x=p.moreNotes.nodes;return Object(B.jsx)("div",{style:{position:"relative"},className:"phrase-n-vocab",children:Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsxs)(U.j,{className:"ion-align-self-center","size-xs":"12","size-sm":"12","size-md":"10","size-lg":"9","size-xl":"9",children:[x.map((function(n){return Object(B.jsxs)(U.J,{className:"hover-pointer  ripple-parent ion-align-items-center ion-justify-content-center completed-lessons border-bottom",children:[Object(B.jsx)(U.j,{"size-xs":"9","size-sm":"9","size-md":"9","size-lg":"9","size-xl":"9",className:"ion-align-self-center ",onClick:function(){return a(n)},children:Object(B.jsx)("div",{className:"usernote-word",children:n.word})}),Object(B.jsx)(U.j,{size:"3",className:"ion-align-self-center ion-no-padding",children:Object(B.jsxs)(U.J,{className:"ion-align-items-center",children:[Object(B.jsx)(U.j,{size:"6",className:"ion-align-self-center",onClick:function(){return e(n.word)},children:Object(B.jsx)("img",{className:"play-icon",src:"/assets/images/icon_play.svg",alt:"speak word"})}),Object(B.jsx)(U.j,{size:"6",className:"ion-align-self-center",children:Object(B.jsx)(U.o,{onClick:function(){return u(n)},icon:Ce.i,color:"medium",mode:"md"})})]})}),Object(B.jsx)(U.F,{})]},n._id)})),h?Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{children:Object(B.jsx)(U.O,{})})}):0===x.length&&Object(B.jsx)(U.J,{className:"ion-padding-top",children:Object(B.jsx)(U.j,{className:"ion-text-center ion-padding-top",children:Object(B.jsx)("h5",{className:"ion-padding-top",children:Object(B.jsx)("strong",{children:"You haven\u2019t saved any words yet."})})})}),Object(B.jsx)(U.q,{disabled:!p.moreNotes.hasMore,onIonInfinite:function(e){O({variables:{cursor:p.moreNotes.cursor}}).finally((function(){e.target.complete&&e.target.complete()}))},threshold:"100px",children:Object(B.jsx)(U.r,{loadingSpinner:"circular"})})]}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!c,cssClass:"userNoteModal",onDidDismiss:function(){return a(void 0)},children:Object(B.jsx)(Nn,{userNote:c,onDismiss:function(){return a(void 0)}})}),Object(B.jsx)(U.a,{isOpen:!!j,onDidDismiss:function(){return u(void 0)},message:"Are you sure you want to delete this?",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Yes",handler:function(){r({variables:{id:j._id}}).then((function(e){})).catch((function(e){console.log(e)}))}}]})]})})}t(446),t(447);var Ln=H;function Cn(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")}var In=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],En=function(e){var n=e.children;return Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-padding-start ion-padding-end ion-padding-top ion-padding-bottom",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",className:"ion-align-self-center",children:n})})};function Dn(e){var n=e.onClick,t=e.thumbnail,s=e.lessonName,i=e.videoLevel,c=e.videoType;return Object(B.jsxs)(U.J,{className:"pointer today-lesson lesson pt-0 ion-justify-content-center",onClick:n,children:[Object(B.jsx)(U.j,{className:"ion-align-self-center",sizeXs:"6",sizeSm:"6",sizeMd:"4",sizeLg:"4",sizeXl:"3",children:Object(B.jsx)(U.U,{children:Object(B.jsx)(U.p,{src:t,style:{width:"100%"}})})}),Object(B.jsxs)(U.j,{sizeXs:"6",sizeSm:"6",sizeMd:"8",sizeLg:"8",sizeXl:"9",children:[Object(B.jsx)("h5",{className:"video-title mt-0 ",children:s}),Object(B.jsxs)(U.S,{color:"medium",children:[i&&Object(B.jsx)("h6",{className:"video-category-label",children:i}),c&&Object(B.jsx)("h6",{className:"video-category-label",children:c})]})]})]})}var Pn=function(e){var n=e.loading,t=e.todaysLesson,s=Object(U.nb)();return n?Object(B.jsx)(Dn,{thumbnail:"../../../assets/images/thumbnail-youtube.jpg",lessonName:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"100%",height:19}})}),videoLevel:Object(B.jsx)(U.N,{animated:!0,style:{width:"50%"}}),videoType:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}}),onClick:function(){}}):t?Object(B.jsx)(Dn,{thumbnail:Cn(t.youtubeId),lessonName:t.lessonName,videoLevel:t.videoLevelLabel,videoType:t.videoType,onClick:function(){s.push("/lesson-details/".concat(t._id))}}):Object(B.jsx)(Dn,{thumbnail:"../../../assets/images/movie.svg",lessonName:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("strong",{children:"Good job!"})," You've studied all the lessons prepared in 'Business English'. Feel free to explore other lessons."]}),videoLevel:null,videoType:null,onClick:function(){}})};function Tn(e){var n=e.thumbnail,t=e.title,s=e.desc,i=e.onClick,c=void 0===i?null:i;return Object(B.jsxs)(U.t,{lines:"none",mode:"md",onClick:function(e){e.preventDefault(),c&&c(e)},routerLink:"link",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:n})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t}),Object(B.jsx)(U.S,{color:"medium",children:s})]})]})}function _n(){return Object(B.jsx)(Tn,{title:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"80%"}})}),thumbnail:"../../../../assets/images/thumbnail-youtube.jpg",desc:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"30%"}})})]})})}function An(e){var n=e.loading,t=e.myCourses,s=void 0===t?[]:t,i=Object(U.nb)();return n?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)(_n,{}),Object(B.jsx)(_n,{}),Object(B.jsx)(_n,{})]}):0===s.length?null:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:s.slice(0,3).map((function(e){return Object(B.jsx)(Tn,{onClick:function(){i.push("/course-details/".concat(e._id))},title:e.title||e.introduction,thumbnail:Cn(e.youtubeId),desc:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("p",{children:e.videoLevel}),Object(B.jsx)("p",{children:e.topicDetails.title})]})},e._id)}))})})}function Rn(){return Object(B.jsxs)(U.t,{className:"pointer horizontal-lesson ion-activatable",children:[Object(B.jsx)(U.U,{children:Object(B.jsx)(U.p,{style:{width:"100%"},src:"../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)("h5",{className:" mt-0",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"30%"}})]}),Object(B.jsxs)(U.S,{color:"medium",children:[Object(B.jsx)("h6",{className:"video-category-label",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})}),Object(B.jsx)("h6",{className:"video-category-label",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})})]})]})}function Mn(){var e=Object(U.nb)();return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-align-items-center",children:Object(B.jsx)(U.j,{onClick:function(){e.push("/share-app","forward")},className:"ion-align-item-center  ion-no-padding ion-align-self-center ion-justify-content-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",children:Object(B.jsx)("img",{src:"../../../assets/images/share_app-h.png",alt:"subscribe"})})})})}function Xn(){var e=Object(U.nb)(),n=Object(I.useState)(0),t=Object(R.a)(n,2),s=(t[0],t[1]),i=se().data.profile;function c(){return(c=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/lesson/my-course");case 2:(n=e.sent)&&s(i.trialLessonLimit-n.data.length);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i&&function(){c.apply(this,arguments)}(),"Subscription"===(null===i||void 0===i?void 0:i.currentPackage)?null:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-align-items-center",children:Object(B.jsx)(U.j,{className:"ion-align-item-center  ion-no-padding ion-align-self-center ion-justify-content-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",onClick:function(){e.push("/subscriptionplans","forward")},children:Object(B.jsx)("img",{src:"../../../assets/images/subscribe_app_h.png",alt:"subscribe Now"})})})})}function Fn(e){var n=e.loading,t=e.lessons,s=e.isDraft,i=void 0!==s&&s,c=Object(U.nb)();return n?Object(B.jsxs)("ul",{children:[Object(B.jsx)(Rn,{}),Object(B.jsx)(Rn,{}),Object(B.jsx)(Rn,{})]}):Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("ul",{children:t.map((function(e){return Object(B.jsxs)("li",{className:"pointer horizontal-lesson ion-activatable",onClick:function(){return c.push("/lesson-details/".concat(e._id,"/false/").concat(i),"forward")},children:[Object(B.jsx)(U.U,{children:Object(B.jsx)(U.p,{style:{width:"100%"},src:Cn(e.youtubeId)})}),Object(B.jsx)("h5",{className:"video-title mt-0",children:e.lessonName}),Object(B.jsxs)(U.S,{color:"medium",children:[Object(B.jsx)("h6",{className:"video-category-label",children:(n=e.videoLevelLabel,"Elementary"===n?"Upper-beginner":n)}),Object(B.jsx)("h6",{className:"video-category-label",children:e.videoType})]})]},e._id);var n}))})})}var Un=function(){var e,n=Object(U.nb)(),t=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(ae,n)}({fetchPolicy:"network-only"}),s=t.data,i=t.loading;t.error;return Object(B.jsxs)(En,{children:[Object(B.jsxs)(U.J,{className:"ion-padding-bottom",children:[Object(B.jsx)(U.j,{children:Object(B.jsx)("h3",{className:"mt-0 font-weight-400",children:Object(B.jsx)("strong",{children:"Draft Lessons"})})}),Object(B.jsx)(U.j,{children:Object(B.jsx)(U.S,{color:"danger",className:"ion-float-right pointer",onClick:function(){n.push("/draft-lessons","forward")},children:"See All"})})]}),Object(B.jsx)(Fn,{loading:i,lessons:null===s||void 0===s||null===(e=s.draftLessons)||void 0===e?void 0:e.data,isDraft:!0})]})};function Jn(){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/lesson/my-course");case 2:return n=e.sent,e.next=5,Ee("/lesson/completedLessons");case 5:return t=e.sent,s=n.data.filter((function(e){if(e.subLessons.some((function(e){return!t.data.some((function(n){return n.lessonId.includes(e.lessonId)}))})))return e})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qn=function(){var e,n,t,s,i,c=Ie.useQuery("my-cources",Jn,{refetchInterval:20});Object(I.useEffect)((function(){}),[c.data]);var a,o=In[(new Date).getDay()],r=se().data.profile,l=ce({variables:{day:"Saturday"===o||"Sunday"===o?"Weekend":o,videoLevel:r.userLevelName},fetchPolicy:"cache-and-network"}),d=(Ne({variables:{size:20}}),l.data),j=l.loading,u=(l.error,l.refetch);Object(U.rb)((function(){Jn()}));var b=Object(I.useState)(!1),h=Object(R.a)(b,2),m=h[0],p=h[1],O=Object(U.nb)(),x=Object(U.ib)(),g=Object(R.a)(x,2),f=g[0],y=(g[1],Ln),v=!d&&j;E.a.useEffect((function(){}),[o]);var w=function(){var e=Object(A.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({buttons:[{text:"Resume where I left off",handler:function(){O.push("/lesson-steps/".concat(n.lessonID,"/false"))}},{text:"Begin today's recommended lesson",handler:function(){O.push("/lesson-details/".concat(null===d||void 0===d?void 0:d.todayLesson._id),"forward")}},{text:"Explore other lessons",handler:function(){O.push("/dashboard/library")}},{text:"Cancel",role:"cancel"}]});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function N(){return S.apply(this,arguments)}function S(){return(S=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getNativeStorage("isTodayLessonHelpModeDone");case 2:return t=e.sent,e.next=5,y.getNativeStorage("isOnBoarding");case 5:if(a=e.sent,null===(n=a)||void 0===n||!n.data){e.next=10;break}p(!0),e.next=15;break;case 10:if(null===t||void 0===t||!t.data){e.next=12;break}return e.abrupt("return");case 12:s=[{element:"#today-lesson",popover:{title:"Recommendation",description:"We recommend a new lesson each day based on your level and from different categories.",position:"bottom"}}],document.getElementById("my-course")&&s.push({element:"#my-course",popover:{title:"My Course",description:"Lessons you've started but not completed yet.",position:"top"}}),Wn({steps:s,onClose:function(){y.setNativeStorage("isTodayLessonHelpModeDone",!0)}});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E.a.useEffect((function(){j||(y.getNativeStorage("leftOfData").then((function(e){null!==e&&void 0!==e&&e.data&&w(e.data)})).catch((function(e){console.log(e)})),N())}),[j]),E.a.useEffect((function(){j||N()}),[m]),E.a.useEffect((function(){u()}),[r]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.y,{isOpen:m,cssClass:"my-custom",children:Object(B.jsx)(U.k,{className:"modal",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-end",children:Object(B.jsx)("span",{children:Object(B.jsx)(U.o,{style:{cursor:"pointer",float:"right",padding:"10px",color:"white"},size:"large",slot:"icon-only",name:"close",onClick:function(){p(!1),H.setNativeStorage("isOnBoarding",!1)}})})}),Object(B.jsxs)(U.J,{className:"content ion-align-items-center ion-justify-content",children:[Object(B.jsx)(U.j,{sizeMd:"6",sizeXs:"12",className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsx)("div",{className:"image-content",children:Object(B.jsx)("img",{src:"./assets/images/Character.svg",alt:"charachter"})})}),Object(B.jsxs)(U.j,{sizeMd:"5",sizeXs:"11",className:"ion-justify-content-center ion-align-content-center",children:[Object(B.jsx)("h2",{children:"You\u2019ve just received 5 free lessons! "}),Object(B.jsxs)("p",{children:["We sent you a verification email. Please check your email so we know you\u2019re a human."," "]})]})]})]})})}),Object(B.jsxs)(U.m,{className:"lessons-page ion-no-padding ion-margin-top",children:[Object(U.hb)("mobile")&&Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsxs)(U.j,{style:{display:"flex",alignItems:"center",paddingTop:"8%"},className:"ion-padding-top ion-padding-right ion-padding-left",children:[Object(B.jsx)("img",{src:"/assets/images/logo.png",width:"12%",alt:"logo",className:"logo"}),Object(B.jsxs)("h3",{style:{fontWeight:"bolder"},children:["Hi ",null===r||void 0===r?void 0:r.fullName,"!"]})]})}),Object(B.jsxs)(En,{children:[Object(U.hb)("desktop")&&Object(B.jsx)("div",{className:"ion-margin-top"}),Object(B.jsxs)("div",{style:{backgroundColor:"#EFEFFF",padding:"2%",borderRadius:"12px"},children:[Object(B.jsx)("h2",{id:"today-lesson",className:"ion-no-margin todaysLessonsHeading",children:Object(B.jsx)("strong",{children:"Study Today's Lesson For You"})}),Object(B.jsx)("p",{className:"c-medium m-5 ion-padding-bottom",children:Object(B.jsx)("strong",{children:"Recommendation"})}),Object(B.jsx)(Pn,{loading:v,todaysLesson:null===d||void 0===d?void 0:d.todayLesson})]})]}),c.data&&c.data.length>0?Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(En,{children:[Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{size:"auto",children:Object(B.jsx)("h3",{id:"my-course",className:"mt-0 font-weight-400",children:Object(B.jsx)("strong",{children:"My Unfinished Courses"})})}),Object(B.jsx)(U.j,{children:Object(B.jsx)(U.S,{color:"danger",className:"ion-float-right pointer",style:{cursor:"pointer"},onClick:function(){O.push("/my-courses","forward")},children:"See All"})})]}),Object(B.jsx)(An,{loading:v,myCourses:c.data})]})}):"",(null===d||void 0===d||null===(e=d.savedLessons)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)>0?Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(En,{children:[Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{children:Object(B.jsx)("h3",{className:"mt-0 font-weight-400",children:Object(B.jsx)("strong",{children:"Saved For Later"})})}),Object(B.jsx)(U.j,{children:Object(B.jsx)(U.S,{color:"danger",className:"ion-float-right pointer",style:{cursor:"pointer"},onClick:function(){O.push("/saved-lessons","forward")},children:"See All"})})]}),Object(B.jsx)(Fn,{loading:v,lessons:null===d||void 0===d||null===(t=d.savedLessons)||void 0===t?void 0:t.data})]})}):"",Object(B.jsxs)(En,{children:[Object(B.jsxs)(U.J,{className:"ion-padding-bottom",children:[Object(B.jsx)(U.j,{size:"auto",children:Object(B.jsx)("h3",{className:"mt-0 font-weight-400",children:Object(B.jsx)("strong",{children:"Popular Lessons"})})}),Object(B.jsx)(U.j,{children:Object(B.jsx)(U.S,{color:"danger",className:"ion-float-right pointer",style:{cursor:"pointer"},onClick:function(){O.push("/popular","forward")},children:"See All"})})]}),Object(B.jsx)(Fn,{loading:v,lessons:null===d||void 0===d||null===(s=d.popularLessons)||void 0===s?void 0:s.data})]}),Object(B.jsxs)(En,{children:[Object(B.jsxs)(U.J,{className:"ion-padding-bottom",children:[Object(B.jsx)(U.j,{children:Object(B.jsx)("h3",{className:"mt-0 font-weight-400",children:Object(B.jsx)("strong",{children:"New Uploads"})})}),Object(B.jsx)(U.j,{children:Object(B.jsx)(U.S,{color:"danger",className:"ion-float-right pointer",style:{cursor:"pointer"},onClick:function(){O.push("/new-uploads","forward")},children:"See All"})})]}),Object(B.jsx)(Fn,{loading:v,lessons:null===d||void 0===d||null===(i=d.newUploadLessons)||void 0===i?void 0:i.data})]}),r.isAdmin&&Object(B.jsx)(Un,{}),"Trial"===r.currentPackage?Object(B.jsx)(Xn,{}):Object(B.jsx)(Mn,{})]})]})};function Wn(e){var n=e.steps,t=e.onClose;setTimeout((function(){var e=new pn.a({allowClose:!1,overlayClickNext:!0,doneBtnText:"Done",closeBtnText:"Skip",nextBtnText:"Next",prevBtnText:"Previous",keyboardControl:!1,onHighlightStarted:function(e){e.getNode().scrollIntoView(!1)},onDeselected:function(n){e.isActivated||t()}});e.defineSteps(n),e.start()}),1e3)}var Vn=function(){return Object(B.jsx)(U.A,{children:Object(B.jsx)(U.k,{fullscreen:!0,children:Object(B.jsx)(qn,{})})})},Yn=t(18),Hn=t(16),Gn=function(){function e(){Object(Yn.a)(this,e),this.loadScript()}return Object(Hn.a)(e,[{key:"loadScript",value:function(){var e=window;if(e.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var n=function e(){e.c(arguments)};function t(){if(!e.ChannelIOInitialized){e.ChannelIOInitialized=!0;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://cdn.channel.io/plugin/ch-plugin-web.js",n.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}}n.q=[],n.c=function(e){n.q.push(e)},e.ChannelIO=n,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}},{key:"boot",value:function(e){window.ChannelIO("boot",e)}},{key:"shutdown",value:function(){window.ChannelIO("shutdown")}},{key:"clearCallbacks",value:function(){window.ChannelIO("clearCallbacks")}}]),e}(),$n=new Gn,Kn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Qn(e){var n=e.active,t=e.image;return Object(B.jsx)(U.o,{src:"/assets/images/bottom-tab/".concat(t).concat(n?"-active":"",".svg")})}var Zn,et,nt,tt,st,it,ct,at,ot,rt,lt,dt,jt,ut=function(){return Object(B.jsx)(F.a,{to:"/dashboard/lessons"})},bt=function(){var e=se({fetchPolicy:"cache-and-network"}),n=e.data.profile,t=(e.loading,e.refetch),s=Kn[(new Date).getDay()],i=ce({variables:{day:"Saturday"===s||"Sunday"===s?"Weekend":s,videoLevel:n.userLevelName},fetchPolicy:"cache-and-network"}),c=(i.data,i.error,Object(U.nb)(),Object(U.hb)("mobile")),a=Object(F.g)({path:"/dashboard/:tab",exact:!0}),o=null===a||void 0===a?void 0:a.params.tab;Object(U.hb)("desktop");return E.a.useEffect((function(){$n.boot({pluginKey:"8fbfb1cc-1a70-4f31-bf0c-05573008f269",channelButtonOption:{xMargin:16,yMargin:16,position:"right"},memberId:"".concat(null===n||void 0===n?void 0:n._id),profile:{name:"".concat(null===n||void 0===n?void 0:n.fullName),mobileNumber:"YOUR_USER_MOBILE_NUMBER",email:"".concat(null===n||void 0===n?void 0:n.email)}})}),[]),E.a.useEffect((function(){}),[s]),Object(U.rb)((function(){t()}),[n]),E.a.useEffect((function(){}),[n]),Object(B.jsxs)(B.Fragment,{children:[!c&&Object(B.jsx)("div",{className:"logo-desktop",children:Object(B.jsx)(U.H,{routerLink:"/dashboard/lessons",children:Object(B.jsx)(U.p,{src:"/assets/images/speaky-peaky_logo.png"})})}),Object(B.jsxs)(U.R,{className:c?"mobile-tab":"desktop-tab",children:[Object(B.jsxs)(U.P,{slot:c?"bottom":"top",children:[Object(B.jsxs)(U.Q,{tab:"lessons",href:"/dashboard/lessons",children:[Object(B.jsx)(Qn,{active:"lessons"===o,image:"lessons"}),Object(B.jsx)(U.v,{children:"Home"})]}),Object(B.jsxs)(U.Q,{tab:"library",href:"/dashboard/library",children:[Object(B.jsx)(Qn,{active:"library"===o,image:"search"}),Object(B.jsx)(U.v,{children:"Explore"})]}),Object(B.jsxs)(U.Q,{tab:"review",href:"/dashboard/review",children:[Object(B.jsx)(Qn,{active:"review"===o,image:"review"}),Object(B.jsx)(U.v,{children:"Review"})]}),Object(B.jsxs)(U.Q,{tab:"profile",href:"/dashboard/profile",children:[Object(B.jsx)(Qn,{active:"profile"===o,image:"profile"}),Object(B.jsx)(U.v,{id:"user-name",children:n.fullName||"Profile"})]})]}),Object(B.jsxs)(U.I,{children:[Object(B.jsx)(F.b,{path:"/dashboard/:tab(lessons)",component:Vn,exact:!0}),Object(B.jsx)(F.b,{path:"/dashboard/:tab(library)",component:qe}),Object(B.jsx)(F.b,{path:"/dashboard/:tab(review)",component:wn}),Object(B.jsx)(F.b,{path:"/dashboard/:tab(profile)",component:bn}),Object(B.jsx)(F.b,{path:"/dashboard/",component:ut,exact:!0})]})]})]})},ht=function(){return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{children:Object(B.jsx)(U.X,{children:Object(B.jsx)(U.V,{children:"Lesson Intro"})})}),Object(B.jsx)(U.k,{fullscreen:!0,children:Object(B.jsxs)("div",{children:["LessonIntro",Object(B.jsx)(U.d,{routerLink:"/dashboard/lessons",routerDirection:"back",children:"Back"})]})})]})},mt=(t(448),function(){var e=Object(U.nb)(),n=Object(I.useState)({fullName:"",email:"",currentPackage:"",subscriptionLabel:"",subscriptionType:"",promotionalLesson:"",endDate:"",startDate:""}),t=Object(R.a)(n,2),s=t[0],i=t[1],c=function(){var e=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee("/userSubscription/getUserSubscription",{method:"POST",body:JSON.stringify({subscriptionType:n})});case 3:return t=e.sent,e.abrupt("return","Your subscription has been canceled."===t.message);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),a=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Subscription:"Subscription",SubscriptionExpired:"Subscription Expired",Trial:"Free Trial"},e.prev=1,e.next=4,Ee("/user/get-profile");case 4:if(t=e.sent,s=t.data,console.log("function account",s),e.t0="Subscription"===s.currentPackage&&s.subscriptionType,!e.t0){e.next=12;break}return e.next=11,c(s.subscriptionType);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=14;break}s.currentPackage="SubscriptionExpired";case 14:i({fullName:s.fullName,email:s.email,currentPackage:s.currentPackage,subscriptionLabel:n[s.currentPackage],subscriptionType:s.subscriptionType,promotionalLesson:s.subscriptionLesson,endDate:new Date("".concat(s.userSubscriptionEndDate)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),startDate:new Date("".concat(s.userSubscriptionStartDate)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return Object(U.qb)((function(){})),Object(U.sb)((function(){})),Object(U.rb)((function(){a()})),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Account"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding account",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsxs)(U.v,{children:["User name",Object(B.jsx)("h2",{className:"ion-padding-top",children:s.fullName})]}),Object(B.jsx)(U.d,{routerLink:"/setting/edit-name",routerDirection:"forward",slot:"end",color:"danger",mode:"ios",fill:"clear",children:"Edit"})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsxs)(U.v,{children:["Email",Object(B.jsx)("h2",{className:"ion-padding-top",children:s.email})]}),Object(B.jsx)(U.d,{routerLink:"/setting/edit-email",slot:"end",color:"danger",mode:"ios",fill:"clear",children:"Edit"})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsx)(U.v,{children:"Update password"}),Object(B.jsx)(U.d,{routerLink:"/setting/edit-password",slot:"end",color:"danger",mode:"ios",fill:"clear",children:"Manage"})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsxs)(U.v,{children:["Subscription Status",Object(B.jsx)("h2",{className:"ion-padding-top",children:s.subscriptionLabel})]}),Object(B.jsx)(U.d,{onClick:function(){"Subscription"===s.currentPackage?e.push("/subscription"):e.push("/subscriptionplans")},slot:"end",color:"danger",mode:"ios",fill:"clear",children:"Manage"})]})})}),"Promtion"===(null===s||void 0===s?void 0:s.subscriptionType)?Object(B.jsx)(U.J,{class:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",class:"ion-align-self-center",children:Object(B.jsx)(U.t,{mode:"ios",children:Object(B.jsxs)(U.v,{children:["Promotional Lessons",Object(B.jsxs)("h2",{className:"ion-padding-top",children:[s.promotionalLesson," ( ",s.startDate," - ",s.endDate," )"]})]})})})}):" "]})})]})}),pt=(t(253),function(){var e=Object(U.nb)(),n=Object(U.ob)(),t=Object(R.a)(n,1)[0],s=Object(U.kb)(),i=Object(R.a)(s,2),c=i[0],a=i[1],o=Object(I.useState)(""),r=Object(R.a)(o,2),l=r[0],d=r[1],j=se().data,u=function(){var n=Object(A.a)(X.a.mark((function n(){var s;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({message:"Loading..."}),n.next=3,Ee("/user/update-name",{method:"POST",body:JSON.stringify({fullName:l,_id:null===j||void 0===j?void 0:j.profile._id})});case 3:(s=n.sent).error?(a(),t("".concat(s.error),3e3)):(a(),t("".concat(s.message),3e3),e.push("/setting/account","back"));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting/account",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Edit Name"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding",children:Object(B.jsx)(U.m,{children:Object(B.jsxs)("form",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsxs)(U.t,{mode:"ios",className:"ion-no-padding auth-inputs",children:[Object(B.jsx)(U.v,{position:"floating",children:"User name"}),Object(B.jsx)(U.s,{name:"Name",type:"text",value:l,onIonChange:function(e){return d(e.detail.value)},placeholder:"fullName",required:!0,children:" "})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return u()},children:"Save"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"medium",fill:"outline",shape:"round",expand:"block",routerLink:"/setting/account",children:"Cancel"})})})]})})})]})}),Ot=function(){var e=Object(U.nb)(),n=Object(U.kb)(),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(I.useState)(""),a=Object(R.a)(c,2),o=a[0],r=a[1],l=Object(U.ob)(),d=Object(R.a)(l,1)[0],j=Object(I.useState)(!1),u=Object(R.a)(j,2),b=u[0],h=u[1],m=se().data;Object(I.useEffect)((function(){_e()}),[]);var p=function(){var n=Object(A.a)(X.a.mark((function n(){var t;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({message:"Loading..."}),n.next=3,Ee("/user/update-email",{method:"POST",body:JSON.stringify({email:o.toLowerCase(),_id:null===m||void 0===m?void 0:m.profile._id})});case 3:(t=n.sent).error?(i(),d("".concat(t.error),3e3)):(i(),d("".concat(t.message),3e3),e.push("/setting/account","back"));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting/account",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Edit Email"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsx)(U.x,{cssClass:"custom-class",isOpen:b,onDidDismiss:function(){return h(!1)},message:"Please wait...",duration:2e3}),Object(B.jsx)(U.m,{children:Object(B.jsxs)("form",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsxs)(U.t,{mode:"ios",className:"ion-no-padding auth-inputs",children:[Object(B.jsx)(U.v,{position:"floating",children:"User Email"}),Object(B.jsx)(U.s,{value:o,onIonChange:function(e){return r(e.detail.value)},type:"text",placeholder:"Email",required:!0,children:" "})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return p()},children:"Save"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"medium",fill:"outline",shape:"round",expand:"block",routerLink:"/setting/account",children:"Cancel"})})})]})})]})]})},xt=function(){var e=Object(U.nb)(),n=Object(U.ob)(),t=Object(R.a)(n,1)[0],s=Object(U.kb)(),i=Object(R.a)(s,2),c=i[0],a=i[1],o=Object(I.useState)(""),r=Object(R.a)(o,2),l=r[0],d=r[1],j=Object(I.useState)(""),u=Object(R.a)(j,2),b=u[0],h=u[1],m=Object(I.useState)(!1),p=Object(R.a)(m,2),O=p[0],x=p[1],g=se().data;Object(I.useEffect)((function(){_e()}),[]);var f=function(){var n=Object(A.a)(X.a.mark((function n(){var s;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({message:"Loading..."}),n.next=3,Ee("/user/update-password",{method:"POST",body:JSON.stringify({password:l,newPassword:b,_id:null===g||void 0===g?void 0:g.profile._id})});case 3:(s=n.sent).error?(a(),t("".concat(s.error),3e3)):(a(),t("".concat(s.message),3e3),e.push("/setting/account","back"));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting/account",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Edit Password"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsx)(U.x,{cssClass:"custom-class",isOpen:O,onDidDismiss:function(){return x(!1)},message:"Please wait...",duration:2e3}),Object(B.jsx)(U.m,{children:Object(B.jsxs)("form",{children:[Object(B.jsx)(U.J,{class:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsxs)(U.t,{mode:"ios",class:"ion-no-padding auth-inputs",children:[Object(B.jsx)(U.v,{position:"floating",children:"Current Password"}),Object(B.jsx)(U.s,{value:l,onIonChange:function(e){return d(e.detail.value)},type:"password",placeholder:"password",required:!0,children:" "})]})})}),Object(B.jsx)(U.J,{class:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsxs)(U.t,{mode:"ios",class:"ion-no-padding auth-inputs",children:[Object(B.jsx)(U.v,{position:"floating",children:"New Password"}),Object(B.jsx)(U.s,{value:b,onIonChange:function(e){return h(e.detail.value)},type:"password",placeholder:"newPassword",required:!0,children:" "})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return f()},children:"Save"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"medium",fill:"outline",shape:"round",expand:"block",routerLink:"/setting/account",children:"Cancel"})})})]})})]})]})},gt=t(371),ft=t(332),yt=(t(449),function(){var e=Object(U.ob)(),n=Object(R.a)(e,1)[0],t="https://speakypeaky.page.link/home",s=function(){var e=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.a.share({title:"Speaky Peaky",text:"Speaky Peaky",url:t,dialogTitle:"Share with buddies"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Share The App"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{children:Object(B.jsxs)(U.m,{className:"share-app ion-no-padding",style:{backgroundImage:"url('./assets/images/profile-bg-yellow copy.jpg')",width:"100%",height:"100%"},children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",style:{padding:"0px 16px 16px 16px;"},children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)("p",{children:"Because you can help your friends and family improve their English skills and live their best lives speaking English fluently!"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"share ion-no-padding ion-align-self-center ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)("div",{className:"share-img ion-align-items-center ion-justify-content-center",children:Object(B.jsx)("img",{src:"./assets/images/share1.svg",alt:"share"})}),Object(U.hb)("mobile")?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.d,{mode:"ios",color:"danger",shape:"round",expand:"block",type:"button",onClick:s,children:Object(B.jsx)("strong",{children:"SHARE NOW"})}),Object(B.jsx)("p",{className:"ion-text-center",children:"or copy link"})]}):"",Object(B.jsx)(U.J,{className:"copy-link ion-margin ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-no-padding ion-align-self-center",children:Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{id:"app-link",className:"ion-no-padding link",size:"10",children:t}),Object(B.jsx)(U.j,{className:"ion-no-padding IonText-right c-red pointer",size:"2",onClick:function(){return function(e){Object(U.hb)("mobile")&&!Object(U.hb)("mobileweb")?ft.a.copy(e).then((function(){n("It\u2019s copied!",2e3)})):navigator.clipboard.writeText(e).then((function(e){n("It\u2019s copied!",2e3)}),(function(e){console.error("Async: Could not copy text: ",e)}))}(t)},children:Object(B.jsx)("strong",{className:"c-red pointer",children:"COPY"})})]})})})]})})]})})]})}),vt=t(94),wt=t.n(vt),Nt=t(87),St=t(132),kt=(t(450),function(){var e=Object(I.useState)(!1),n=Object(R.a)(e,1)[0],t=Object(I.useState)(!1),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Object(U.jb)(),o=Object(R.a)(a,1)[0],r=Object(I.useState)(!1),l=Object(R.a)(r,2),d=l[0],j=l[1],u=Object(I.useState)(""),b=Object(R.a)(u,2),h=b[0],m=b[1],p=function(e){!1===e?(H.removeNativeStorage("reminder"),j(!1),m(void 0),Nt.a.cancel({notifications:[{id:42}]})):e?x():(H.removeNativeStorage("reminder"),m(void 0),Nt.a.cancel({notifications:[{id:42}]}))},O=function(){var e=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(n.getTime()),e.next=3,Nt.a.schedule({notifications:[{id:42,title:"SpeakyPeaky",body:"20 mins a day = big gains in 3 months",schedule:{repeats:!0,every:"day",on:{hour:t.getHours(),minute:t.getMinutes()}},sound:null,attachments:null,actionTypeId:"",extra:null}]});case 3:s=e.sent,console.log("notify",s);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.a.show({date:new Date,mode:"time",androidTheme:St.a.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT});case 3:return n=e.sent,H.setNativeStorage("reminder",n.getTime()),e.next=7,O(n);case 7:m(n.getTime().toString()),j(!0),o({header:"Reminder is set!",message:"Perfect. We will send you a nudge at <strong>"+"".concat(wt()(n).format("LT"))+"</strong> everyday",cssClass:"user-level-alert",buttons:["OK"]}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(U.rb)((function(){Nt.a.requestPermissions(),H.getNativeStorage("reminder").then((function(e){console.log("reminder",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&e.data&&(m(new Date(e.data).toString()),j(!0),O(new Date(e.data))),c(!0)}))})),Object(I.useEffect)((function(){H.getNativeStorage("reminder").then((function(e){console.log("reminder",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&e.data&&(m(new Date(e.data).toString()),j(!0),O(new Date(e.data))),c(!0)}))}),[n,d,h]),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Reminder"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding",children:i?Object(B.jsx)(U.m,{children:Object(B.jsx)(U.J,{className:"reminder-block ion-align-items-center",children:Object(B.jsxs)(U.j,{className:"ion-align-self-center",children:[void 0===h||""===h?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-text-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"6",sizeMd:"7",sizeXl:"4",className:"ion-align-self-center",children:[Object(B.jsx)(U.o,{className:"alarm",src:"../../../../../assets/images/alarm.svg"}),Object(B.jsx)("h3",{className:"ion-text-center ion-margin-bottom",children:"Would you like to receive a reminder?"})]})}):Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"6",sizeMd:"7",sizeXl:"4",className:"ion-align-self-center ion-text-center ion-margin-top",children:[Object(B.jsx)(U.o,{className:"alarm",src:"../../../../../assets/images/alarm.svg"}),Object(B.jsxs)("h3",{className:"ion-text-center ion-margin-bottom",children:["We will send you a nudge ",Object(B.jsx)("br",{}),"at"," ",Object(B.jsxs)("span",{className:"c-orange",children:[" ",wt()(h).format("LT")," "]})," ","everyday"]})]})}),void 0===h||""===h?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"10",sizeSm:"10",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsxs)(U.v,{color:"danger",children:["Yes, set a reminder. ",Object(B.jsx)("br",{}),Object(B.jsx)(U.S,{color:"medium",children:"(Push notification)"})]}),Object(B.jsx)(U.W,{mode:"ios",checked:d,onIonChange:function(e){p(e.detail.checked)}})]})})}):Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"10",sizeSm:"10",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center ion-text-center",children:[Object(B.jsx)(U.t,{lines:"none",children:Object(B.jsx)(U.W,{mode:"ios",checked:d,onIonChange:function(e){p(e.detail.checked)}})}),Object(B.jsx)("p",{style:{cursor:"pointer"},className:"c-orange ion-margin-top ion-align-self-center",onClick:x,children:"Edit"})]})})]})})}):[0,1,2,3,4].map((function(e){return Object(B.jsx)(U.J,{class:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",class:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsxs)(U.v,{children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}}),Object(B.jsx)("h3",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"70%"}})})]}),Object(B.jsx)(U.d,{slot:"end",color:"danger",mode:"ios",fill:"clear",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"20%"}})})]})})})}))})]})}),zt=(t(451),function(){var e=se().data,n=null===e||void 0===e?void 0:e.profile.nativeLanguage.languageName,t=Object(U.kb)(),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Object(U.ob)(),o=Object(R.a)(a,1)[0],r=Object(I.useState)(n),l=Object(R.a)(r,2),d=l[0],j=l[1];Object(I.useEffect)((function(){_e()}),[]),Object(I.useEffect)((function(){j(n)}),[n,null===e||void 0===e?void 0:e.profile.nativeLanguage.languageName]),Object(U.sb)((function(){}));var u=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("Please wait ..."),e.next=3,Ee("/subTitleLanguages/list");case 3:return n=e.sent,t=n.data.filter((function(e){return e.languageName===d})),e.next=7,Ee("/user/set-subtitleLanguage",{method:"POST",body:JSON.stringify({subTitleLanguageId:t[0]._id})});case 7:(s=e.sent).error?(c(),o("".concat(s.error),3e3)):(c(),o("".concat(s.message),3e3));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Language"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding myCSS",children:Object(B.jsx)(U.m,{children:Object(B.jsx)(U.J,{className:"ion-align-items-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:[Object(B.jsx)("h1",{className:"ion-no-margin",children:Object(B.jsx)("strong",{children:"Language for Subtitles"})}),Object(B.jsx)("p",{className:"ion-margin-bottom",children:"Choose your language for translation"})]})}),Object(B.jsxs)(U.E,{class:"my-custom-class",value:d,onIonChange:function(e){return j(e.detail.value)},children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin",mode:"ios",children:Object(B.jsx)(U.g,{className:"ion-no-margin ion-no-padding",children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsx)(U.v,{children:"Portuguese"}),Object(B.jsx)(U.D,{onClick:u,color:"danger",mode:"md",slot:"start",value:"Portuguese",name:"Portuguese",children:" "})]})})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin",mode:"ios",children:Object(B.jsx)(U.g,{children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsx)(U.v,{children:"Spanish"}),Object(B.jsx)(U.D,{onClick:u,color:"danger",mode:"md",slot:"start",value:"Spanish",name:"Spanish",children:" "})]})})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin ion-no-padding",mode:"ios",children:Object(B.jsx)(U.g,{children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsx)(U.v,{children:"Vietnamese"}),Object(B.jsx)(U.D,{onClick:u,color:"danger",mode:"md",slot:"start",value:"Vietnamese",name:"Vietnamese",children:" "})]})})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin",mode:"ios",children:Object(B.jsx)(U.g,{children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsx)(U.v,{children:"Korean"}),Object(B.jsx)(U.D,{onClick:u,color:"danger",mode:"md",slot:"start",value:"Korean",name:"korean",children:" "})]})})})})})]})]})})})})]})}),Lt=t(22),Ct=[{title:"Subscriptions and Billing",type:"Subscriptions_and_Billing"},{title:"App Features",type:"App_Features"},{title:"Study Methods",type:"Study_Methods"},{title:"Suggestions",type:"Suggestions"}],It=[{question:"If I become a subscriber, can I select different levels?",answer:"Yes! You can choose any level any time you like! If you select a level, we will recommend you lessons within that level. \nIf you feel that your recommended lessons are too easy or difficult for you, you can change your level in Profile (your username in the bottom bar).",expanded:!1},{question:"Can I review the previous lessons I have studied?",answer:"Yes, you can review any lesson you want at any point in time!  If you want to look at all \nthe lessons you\u2019ve studied so far, please visit Review in the bottom bar.",expanded:!1},{question:"How can I cancel my subscription?",answer:"In order to turn off auto-renewal, please go to Profile (your username in the bottom bar) \n> Settings > Account > Subscription Status",expanded:!1},{question:"I\u2019m a monthly subscriber so I have 30 lessons per month to study. However, I didn\u2019t \nstudy all the 30 lessons. Will the remaining lessons be carried forward to the next \nsubscription month?",answer:"The remaining number of lessons won\u2019t be carried forward to the next subscription \nmonth. \n\n If you become an annual subscriber or a 6-month subscriber, you will have unlimited \nnumber of lessons throughout the subscription period at a discounted price by 20% and \n40% respectively",expanded:!1},{question:"How does a subscription period work?",answer:"We have three types of subscription plans. The first one is a monthly subscription. For example, if you subscribed on August 15, 2019, this month\u2019s subscription period is until September 14, 2019.\n\nThe second plan is a 6-month subscription and the annual subscription lasts for a year.\n\nAll of our subscription plans are auto-renewal. That means you will be automatically charged when the next subscription period starts. If you want to turn off auto-renewal, you can do so at anytime you want in Profile (your username in the bottom bar) > Settings > Account > Subscription Status",expanded:!1}],Et=[{question:"I want to see the list of lessons I\u2019ve studied.",answer:"If you want to look at all the lessons you\u2019ve studied so far, please visit Review in the bottom bar.",expanded:!1},{question:"I\u2019m a monthly subscriber and I\u2019ve studied all 30 lessons. Can I buy more lessons?",answer:"Yes, you can. Please go to Profile (your username in the bottom bar) > Settings > Account > Subscription Status, this is where you can purchase extra lessons. The additional number of lessons should be studied within the current subscription month as they are not carried forward to the next month. For example, let\u2019s say, your current subscription month is from August 15 to September 14 and you purchased 5 additional lessons on September 5. You need to study the additional lessons by September 14.",expanded:!1},{question:"When I get my pronunciation evaluated, I don\u2019t get a 100 even though the app types exactly what I say.",answer:"First of all, don\u2019t feel frustrated! If you get over a 90, your pronunciation is great. Even if the app understands you perfectly, our app evaluates how well you pronounce, not how much the app can understand you. That means, even though your speech is understandable, it doesn't mean your pronunciation is 100% perfect. \nWe use Google API, one of the best speech recognition APIs (Application Program Interfaces) in the world, which has a high accuracy rate at 97%. What it means is that even if you make all the sounds correct, there is still a 3% chance that the Google speech API can make a mistake. The technology is getting better, but not perfect yet.  \nWe experimented on this technology with English native speakers. The average grade they got was 98. Therefore, if you get over a 90 as a non English native speaker, I would say it\u2019s great! Don\u2019t get stressed out that you don\u2019t get a 100. If you see over 90 and the app understands you please move on to the next scene.",expanded:!1},{question:"I\u2019m using an Android phone. The pronunciation evaluation feature doesn\u2019t work. The mic does not seem to be working.",answer:"Please follow the instructions below. If it still doesn't work, please email us at hi@speakypeaky.com.\n1) Go to Google Play Store \n2) Search for \u201cGoogle\u201d \n3) If you see a button that says \u201cEnable\u201d, please click on it. \n4) After number 3, you will see either a \u201cUpdate\u201d button or an \u201cOpen\u201d button. Click on either of them. Please click on the \u201cOpen\u201d button to see if the Google app is working fine. \n5) After checking the Google app is working fine, open our app Speaky Peaky again. The mic in the evaluation step should be working now.",expanded:!1}],Dt=[{question:"Should I learn English only using this app?",answer:"Our app will definitely help improve your English. However, we don't claim that you ONLY need our app to learn English. To be fluent in English, you need a holistic approach. Not only do you need to improve listening skills, but also grammar, vocabulary, and writing. Speaky Peaky especially helps you with English listening skills and sounds (intonation, linking, tone), vocabulary, and speaking. If you feel that you\u2019re not confident with English grammar, we recommend that you study it separately. Grammar can be boring, but we believe it would be ideal if you went over English grammar at least once. You don\u2019t need to master English grammar but you need to know basic grammar, especially if the grammar of your native language is very different from English",expanded:!1},{question:"It seems that I just can\u2019t make English sounds correctly? The app doesn\u2019t exactly type what I say. ",answer:"Well, it might be because you\u2019re not familiar with basic English sounds. For example, do you know the difference in sound between sit and seat, or mad and med, or do you know how to correctly pronounce \u2018pleasure\u2019? If you\u2019re not sure, we strongly, strongly recommend you learn English phonetics as well, through which you can learn accurate sounds of English vowels and consonants. If you learn English phonetics on top of using Speaky Peaky, the effect will be much bigger.",expanded:!1},{question:"Can I improve English speaking skills using Speaky Peaky?",answer:"Absolutely. There are two major effects in spoken English with Speaky Peaky\u2019s methods: \nAutomaticity: By repeating English sentences multiple times, your automaticity will improve significantly. This means that you will speak sentences that you\u2019ve practiced automatically without trying too hard. A lot of English expressions are very commonly used. It\u2019s a great practice to get used to set expressions and sentences by repetition and practice. \nStronger memory building: With Speaky Peaky, all lessons are based off of videos with stories. Stories give us emotions and feelings. Learning something with stories and emotions is the most effective way of memorizing things scientifically. Amygdala, the emotional center of our brain is closely connected to the hippocampus, the part of our brain that deals with memorization. Therefore, if you\u2019re emotionally connected, it allows yours brain to form a more detailed and stronger memory.  That\u2019s why we always recommend you memorize words and expressions from stories rather than making a list of unrelated words.  \nHowever, please don\u2019t forget to go out and meet real people to speak English with. You are learning English to communicate with people, right? Conversations are interpersonal. Go out there and start real conversations with people when you feel like you are ready. Use the words and expressions you learned with Speaky Peaky, and practice asking questions and engaging in conversations. Good luck Speaky Speaky fam! :)",expanded:!1},{question:"There are some words I just can\u2019t hear well no matter how many times I try to listen. Should I listen to it more? How many times should I listen to it?",answer:'We understand your frustration. There could be 2 main reasons why you can\u2019t hear exactly as the script says. \n Firstly, it may be because the native speaker spoke it with inaccurate pronunciation. Speaky Peaky is using real-life videos which are not made for only English learners unlike many English text books. Therefore, English native speakers may have mispronounced or may have not enunciated the sounds. In this case, no matter how many times you listen, it won\u2019t be clear to your ears. But, that\u2019s okay. You\u2019re not supposed to listen to it clearly. You should guess what the speaker may have said out of the context. That is what we do in our native language as well. \nSecondly, you may not be familiar with the rule of emphasized and unemphasized sounds and linking sounds. If they are the issues you\u2019re experiencing, are issues with you, try to find patterns. Here are some patterns that might be helpful for you. \nEnglish is like a song. Even in one word, a sound can go up and down. This is because there are stressed syllables and unstressed syllables. Let me explain what syllables are first. A word can be composed of multiple syllables. For example, \u201cMatter\u201d has 2 syllables -- Ma / tter. \u201cPronunciation\u201d has 5 syllables -- pro / nun / ci / a / tion. In one word, there must be at least one primary stressed syllable. In a long word, there can be multiple syllables and there is one primary stressed syllable and sometimes there is one secondary stressed syllable. When a syllable is stressed,  that should be pronounced as it is originally supposed to be pronounced.  When a syllable is NOT stressed, the sound becomes very weak and the sound changes; the unstressed sound is called schwa sound (\u0259). When syllables are not stressed, you pronounce it more softly and at a lower tone. Let\u2019s take \u2018pronunciation\u2019 as an example. The 4th syllable, \u201ca\u201d is the prime stressed one and you pronounce it as \u201cey\u201d and the secondary stressed syllable is the second syllable, \u201cnun\u201d, so you pronounce it as \u201cn\u028cn\u201d. You should pronounce the rest of the syllables more weakly. Especially, the first and the last syllables become a schwa sound (\u0259). \nOnce you get each word right, the next one you want to pay attention to is linking sounds. When you speak English sentences, some sounds are linked. Here are some examples; \nWhen the /t/ and /y/ are next to each other, for example, don\u2019t you, the sounds become one to the \'ch sound\' /\u02a7/. This makes the phrase "don\'t you" /do\u028antyu/ to be pronounced as "donchou" /do\u028an\u02a7u/.\nWhen the /d/ and the /y/ are next to each other, they are pronounced as a \'j sound\' /\u02a4/. This makes the phrase "did you" /d\u026adyu/ to be pronounced as "dijou" /d\u026a\u02a4u/.\nSometimes, a sound is removed from a word. For example, when a /t/ or /d/ is between two other consonant sounds (but not the first sound of a word), the /t/ or /d/ can be omitted. In the phrase \u201ckep-going\u201d, the /t/ is between two consonant sounds and can be omitted. \nSo it is pronounced as \u201ckep-going\u201d \nIn the phrase \u201cSam\'s first\u203fday\u201d, the /t/ can be omitted. So it is pronounced as \u201cSam\u2019s firs-day\u201d \nWhen a word ends with a consonant and the next word begins with a vowel, or when a word ends with a vowel and the next word begins with a consonant, the consonant and vowel sounds blend. For example, \u201cpress\u203fenter\u201d is pronounced as \u201cpresenter\u201d  and \u201cfix\u203fit\u201d is pronounced as \u201cfi-xit\u201d.',expanded:!1},{question:"Why do I need to do dictation?",answer:"Sometimes you may think you have listened to all the words correctly when, in fact, you didn\u2019t. By doing dictation, you will be able to learn what sounds are familiar to you and what sounds you cannot listen to well. This will help you objectively evaluate your listening skill and you will know which sounds you need to focus on. I understand that this might take a long time and can be tedious, however, this method has academically been proven to be effective.",expanded:!1}],Pt=[{question:"Can I suggest videos I want to study with to the team?",answer:"Absolutely! Please email us at at hi@speakypeaky.com Can\u2019t wait to get your suggestions!! :)",expanded:!1},{question:"I have found errors / typos in the app. What should I do?",answer:"I am so sorry for the error or typo. Our team tries our best to provide the best quality lessons. However, sometimes we make mistakes. Thank you for your understanding. You can report any errors or typos in lessons you\u2019ve found by clicking the exclamation mark on the right upper corner in any page of all lessons.",expanded:!1},{question:"Everything is in English in the app.",answer:"We\u2019ve had many discussions on this. We\u2019ve decided to make everything in English except for subtitles in your native language. That\u2019s because we thought that you should be exposed to English as much as possible since this app is to help you learn English. If you don\u2019t understand any parts of the app, please feel free to email us at hi@speakypeaky.com.",expanded:!1}],Tt=(t(452),function(){var e=Object(U.nb)(),n=Object(I.useState)(!1),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(I.useState)(""),a=Object(R.a)(c,2),o=a[0],r=a[1],l=Ct,d=It,j=Et,u=Dt,b=Pt,h=[].concat(Object(Lt.a)(b),Object(Lt.a)(d),Object(Lt.a)(j),Object(Lt.a)(u)),m=Object(I.useState)(h),p=Object(R.a)(m,2),O=p[0],x=p[1],g=function(e){x(Object(Lt.a)(O).map((function(n){return n.question===e.question?n.expanded?Object(_.a)(Object(_.a)({},n),{},{expanded:!1}):Object(_.a)(Object(_.a)({},n),{},{expanded:!0}):n})))},f=O.filter((function(e){return e.question.includes("".concat(o))}));return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Support"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding support-content",children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{sizeXs:"6",sizeSm:"6",sizeMd:"3",sizeLg:"2",sizeXl:"2",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin"})}),Object(B.jsx)(U.j,{sizeXs:"6",sizeSm:"6",sizeMd:"3",sizeLg:"2",sizeXl:"2",className:"ion-align-self-center",children:Object(B.jsx)(U.S,{onClick:function(){e.push("/email-the-team")},className:"email ion-float-right",children:"Email the team"})})]}),Object(B.jsx)(U.J,{className:"ion-margin-top ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:Object(B.jsx)(U.K,{mode:"md",id:"searchFaq",type:"text",showCancelButton:"focus",value:o,onFocus:function(){return i(!0)},onIonChange:function(e){return r(e.detail.value)},onIonCancel:function(){return i(!1)},animated:!0,placeholder:"Search in FAQs"})})}),s?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-no-padding ion-align-self-center",children:""===o?Object(B.jsx)(U.w,{children:O.map((function(e){return Object(B.jsx)(U.t,{onClick:function(){return g(e)},children:Object(B.jsxs)("div",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding",sizeXs:"12",sizeSm:"12",sizeMd:"12",sizeXl:"12",sizeLg:"12",children:Object(B.jsxs)("p",{children:["Q. ",e.question]})})}),e.expanded?Object(B.jsx)(U.J,{id:"expandWrapper",style:{color:"orange",display:"block"},className:"expand-wrapper",children:e.answer}):""]})},e.question)}))}):Object(B.jsx)(U.w,{children:f.map((function(e){return Object(B.jsx)(U.t,{onClick:function(){return g(e)},children:Object(B.jsxs)("div",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding",sizeXs:"12",sizeSm:"12",sizeMd:"12",sizeXl:"12",sizeLg:"12",children:Object(B.jsxs)("p",{children:["Q. ",e.question]})})}),e.expanded?Object(B.jsx)(U.J,{id:"expandWrapper",style:{color:"orange",display:"block"},className:"expand-wrapper",children:e.answer}):""]})},e.question)}))})})}):l.map((function(e){return Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{size:"12",className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{routerLink:"/faqs/".concat(e.type),mode:"ios",className:"card",style:{cursor:"pointer"},children:Object(B.jsx)(U.g,{mode:"ios",children:Object(B.jsx)(U.S,{color:"dark",children:e.title})})})})})})},e.title)}))]})})]})}),_t=t(93),At=(t(453),function(){var e=Object(I.useState)(""),n=Object(R.a)(e,2),t=n[0],s=n[1],i=Object(I.useState)(""),c=Object(R.a)(i,2),a=c[0],o=c[1],r=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,i,c,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.a.getInfo();case 2:t=e.sent,i=["ios","android"].includes(t.platform),c="web"===t.platform&&["ios","android"].includes(t.operatingSystem),a="web"===t.platform&&!c,(n=Object(_.a)(Object(_.a)({},t),{},{isApp:i,isMobileWeb:c,isDesktop:a})).isApp?(s(n.appVersion),o(n.appBuild)):(s("RA003"),o(""));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.qb)((function(){})),Object(U.sb)((function(){})),Object(U.rb)((function(){r()})),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"App Information"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding app-info",children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",style:{padding:"16px"},children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",class:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin",children:Object(B.jsx)("strong",{children:"App Information"})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",style:{padding:"16px"},children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:[Object(B.jsxs)("p",{children:["Build Version: ",t," "]}),Object(B.jsxs)("p",{children:["Build Number: ",a," "]})]})})]})})]})}),Rt=function(){return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Rate App"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)("h1",{className:"ion-no-margin",children:Object(B.jsx)("strong",{children:"Edit Name"})})})}),Object(B.jsxs)("form",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsxs)(U.t,{mode:"ios",className:"ion-no-padding auth-inputs",children:[Object(B.jsx)(U.v,{position:"floating",children:"User name"}),Object(B.jsx)(U.s,{type:"text",placeholder:"fullName",required:!0,children:" "})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",type:"submit",children:"Save"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",children:Object(B.jsx)(U.d,{mode:"ios",color:"medium",fill:"outline",shape:"round",expand:"block",routerLink:"/setting/account",children:"Cancel"})})})]})]})})]})},Mt=(t(454),function(){var e=se().data,n=Object(U.ob)(),t=Object(R.a)(n,1)[0],s=Object(U.nb)(),i=Object(U.kb)(),c=Object(R.a)(i,2),a=c[0],o=c[1],r=Object(I.useState)(""),l=Object(R.a)(r,2),d=l[0],j=l[1],u=Object(I.useState)(""),b=Object(R.a)(u,2),h=b[0],m=b[1];Object(I.useEffect)((function(){_e()}),[]);var p=function(){var n=Object(A.a)(X.a.mark((function n(){var i;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({message:"Loading..."}),n.next=3,Ee("/contactus/user/set-contact-us",{method:"POST",body:JSON.stringify({email:null===e||void 0===e?void 0:e.profile.email,message:d})});case 3:(i=n.sent).error?(o(),t("".concat(i.error),3e3)):(o(),t("".concat(i.message),3e3),s.push("/setting","back"));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/support",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Email Us"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding email-team",children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:Object(B.jsxs)("p",{children:["Hi there! We will personally reply to you as soon as possible. If you want to find a solution to an issue immediately, check our",Object(B.jsxs)("span",{className:"c-orange",style:{color:"orange"},children:[" ","FAQ"]}),", you may find most answers you need with just a few clicks."]})})}),Object(B.jsxs)("form",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:[Object(B.jsx)(U.t,{children:Object(B.jsx)(U.s,{value:h,onIonChange:function(e){return m(e.detail.value)},placeholder:"Subject*",name:"subject"})}),Object(B.jsx)(U.t,{className:"ion-margin-top",children:Object(B.jsx)(U.T,{value:d,onIonChange:function(e){return j(e.detail.value)},rows:6,placeholder:"Description*",name:"message"})})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return p()},children:"Submit"})})})]})]})})]})}),Xt=(t(455),function(){var e=Object(U.nb)();Object(I.useEffect)((function(){_e()}),[]);var n,t=Object(F.g)({path:"/faqs/:type",exact:!0}),s=null===t||void 0===t?void 0:t.params.type;"Subscriptions_and_Billing"===s?n=It:"App_Features"===s?n=Et:"Study_Methods"===s?n=Dt:"Suggestions"===s&&(n=Pt);var i=Object(I.useState)(n),c=Object(R.a)(i,2),a=c[0],o=c[1];return Object(I.useEffect)((function(){}),[n]),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/support",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"FAQ"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding Faq",children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{sizeXs:"6",sizeSm:"6",sizeMd:"3",sizeLg:"2",sizeXl:"2",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin"})}),Object(B.jsx)(U.j,{sizeXs:"6",sizeSm:"6",sizeMd:"3",sizeLg:"2",sizeXl:"2",className:"ion-align-self-center",children:Object(B.jsx)(U.S,{onClick:function(){e.push("/email-the-team")},style:{color:"orange",cursor:"pointer"},className:"email ion-float-right",children:"Email the team"})})]}),Object(B.jsx)(U.J,{className:"ion-margin-top ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-align-self-center",children:Object(B.jsx)(U.K,{mode:"md",id:"searchFaq",showCancelButton:"focus",animated:!0,placeholder:"Search in FAQs"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeXl:"4",sizeLg:"6",className:"ion-no-padding ion-align-self-center",children:Object(B.jsx)(U.w,{children:a.map((function(e){return Object(B.jsx)(U.t,{style:{cursor:"pointer"},onClick:function(){return function(e){o(Object(Lt.a)(a).map((function(n){return n.question===e.question?n.expanded?Object(_.a)(Object(_.a)({},n),{},{expanded:!1}):Object(_.a)(Object(_.a)({},n),{},{expanded:!0}):n})))}(e)},children:Object(B.jsxs)("div",{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding",sizeXs:"12",sizeSm:"12",sizeMd:"12",sizeXl:"12",sizeLg:"12",children:Object(B.jsxs)("p",{children:["Q. ",e.question]})})}),e.expanded?Object(B.jsx)("div",{id:"expandWrapper",style:{color:"orange",display:"block"},className:"expand-wrapper",children:e.answer}):Object(B.jsx)("div",{id:"expandWrapper",style:{color:"orange",display:"none"},className:"expand-wrapper",children:e.answer})]})},e.question)}))})})})]})})]})}),Ft=(t(456),function(){var e=Object(U.nb)(),n=Object(F.g)({path:"/faqs/:type",exact:!0}),t=null===n||void 0===n?void 0:n.params.type;function s(){return(s=Object(A.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:H.removeNativeStorage("leftOfData"),H.setNativeStorage("isAdmin",!1),H.removeNativeStorage("token"),$n.shutdown(),$n.clearCallbacks(),e.push("/sign-up","root");case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return console.log("tab",t),Object(B.jsxs)(U.A,{id:"setting-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/profile",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Setting"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"setting",children:Object(B.jsx)(U.m,{children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:[Object(B.jsxs)(U.t,{mode:"md",routerLink:"/setting/account",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Account"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(U.hb)("capacitor")||Object(U.hb)("cordova")?Object(B.jsxs)(U.t,{mode:"md",routerLink:"/reminder",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Reminder"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}):"",Object(B.jsxs)(U.t,{mode:"md",routerLink:"/language",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Language"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(B.jsxs)(U.t,{mode:"md",routerLink:"/support",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Support"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(B.jsxs)(U.t,{mode:"md",routerLink:"/share-app",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Share this app"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(B.jsxs)(U.t,{mode:"md",routerLink:"/app-info",routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"App Information"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(U.hb)("capacitor")||Object(U.hb)("cordova")?Object(B.jsxs)(U.t,{mode:"md",onClick:function(){Object(U.hb)("ios")?window.open("https://apps.apple.com/us/app/speaky-peaky/id1486127431","_blank"):Object(U.hb)("android")&&window.open("https://play.google.com/store/apps/details?id=com.summer.startenglishnow","_blank")},routerDirection:"forward",children:[Object(B.jsx)(U.v,{children:"Rate this app"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}):"",Object(B.jsxs)(U.t,{mode:"md",onClick:function(){window.open("https://www.newsite.speakypeaky.com/terms-and-conditions","_blank")},style:{cursor:"pointer"},children:[Object(B.jsx)(U.v,{children:"Term of Use"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(B.jsxs)(U.t,{mode:"md",onClick:function(){window.open("https://www.newsite.speakypeaky.com/privacypolicy","_blank")},style:{cursor:"pointer"},children:[Object(B.jsx)(U.v,{children:"Privacy Policy"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]}),Object(B.jsxs)(U.t,{mode:"md",onClick:function(){return s.apply(this,arguments)},style:{cursor:"pointer"},children:[Object(B.jsx)(U.v,{children:"Log Out"}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})]})})})})]})}),Ut=[{path:"/setting",exact:!0,component:Ft},{path:"/setting/account",exact:!0,component:mt},{path:"/setting/edit-name",exact:!0,component:pt},{path:"/setting/edit-email",exact:!0,component:Ot},{path:"/setting/edit-password",exact:!0,component:xt},{path:"/share-app",exact:!0,component:yt},{path:"/reminder",exact:!0,component:kt},{path:"/language",exact:!0,component:zt},{path:"/support",exact:!0,component:Tt},{path:"/app-info",exact:!0,component:At},{path:"/rate-app",exact:!0,component:Rt},{path:"/email-the-team",exact:!0,component:Mt},{path:"/faqs/:type",exact:!0,component:Xt}],Jt=t(15),Bt=t(11),qt=Bt.c.div(Zn||(Zn=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Wt=Bt.c.div(et||(et=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]))),Vt=Bt.c.div(nt||(nt=Object(G.a)(["\n  width: 10px;\n  height: 10px;\n  background-color: #cfc5fa;\n  position: relative;\n  border-radius: 20px;\n  margin-right: 4px;\n  overflow: hidden;\n"]))),Yt=Bt.c.div(tt||(tt=Object(G.a)(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 15px;\n  height: 10px;\n  border-radius: 15px;\n  background-color: #1e2d47;\n  transition: transform 0.5s ease;\n"]))),Ht=function(e){var n=e.position,t=e.size,s=Object(Lt.a)(Array(t).keys()),i=Object(I.useState)(n-1),c=Object(R.a)(i,2);c[0],c[1],Object(I.useRef)(1);return Object(I.useEffect)((function(){var e=setInterval((function(){s.length}),200);return function(){return clearInterval(e)}})),Object(B.jsx)(qt,{children:Object(B.jsx)(Wt,{children:s.map((function(e){return Object(B.jsx)(Vt,{children:Object(B.jsx)(Yt,{style:{transform:"translateX(".concat(40*(n-e),"px)")}})},e)}))})})},Gt=t(766),$t=t(28),Kt=["variant","color","size","label"],Qt=Object($t.a)({root:{"&:disabled":{color:"#747474"}}})((function(e){return Object(B.jsx)(Gt.a,Object(_.a)({color:"default"},e))})),Zt=function(e){var n=e.variant,t=void 0===n?"contained":n,s=e.color,i=void 0===s?"primary":s,c=e.size,a=void 0===c?"small":c,o=e.label,r=Object(Jt.a)(e,Kt);return Object(B.jsx)(Qt,Object(_.a)(Object(_.a)({variant:t,color:i,size:a},r),{},{fullWidth:!0,children:o}))},es=Zt,ns=t(767),ts=t(337),ss=t.n(ts),is=t(336),cs=t.n(is),as=t(338),os=t.n(as),rs=t(339),ls=t.n(rs),ds=["color","size","direction"],js=Object(Bt.c)(ns.a)(st||(st=Object(G.a)(["\n  && {\n    color: #e22d2d;\n    background-color: #ffffff;\n    border-color: #e22d2d;\n    border: 1.8px solid;\n    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    &:focus {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n    &:active {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n    &:disabled {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n  }\n"]))),us=function(e){e.color;var n=e.size,t=e.direction,s=Object(Jt.a)(e,ds);return"right"===t?Object(B.jsx)(js,Object(_.a)(Object(_.a)({size:n},s),{},{children:Object(B.jsx)(cs.a,{fontSize:"large"})})):"left"===t?Object(B.jsx)(js,Object(_.a)(Object(_.a)({size:n},s),{},{children:Object(B.jsx)(ss.a,{fontSize:"large"})})):"next"===t?Object(B.jsx)(js,Object(_.a)(Object(_.a)({size:n},s),{},{children:Object(B.jsx)(os.a,{fontSize:"large"})})):"cancel"===t?Object(B.jsx)(js,Object(_.a)(Object(_.a)({size:n},s),{},{children:Object(B.jsx)(ls.a,{fontSize:"large"})})):void 0},bs=t(341),hs=t.n(bs),ms=t(340),ps=t.n(ms),Os=t(217),xs=t.n(Os),gs=t(768),fs=t(63),ys=Bt.c.div(it||(it=Object(G.a)(["\n  z-index: 1000 !important;\n  cursor: pointer;\n"]))),vs=Bt.c.div(ct||(ct=Object(G.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: space-evenly;\n  align-items: center;\n"])),(function(e){return e.row?"row":"column"})),ws=Bt.c.div(at||(at=Object(G.a)(["\n  display: flex;\n  height: 100%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n"]))),Ns=Bt.c.div(ot||(ot=Object(G.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n"]))),Ss=Bt.c.div(rt||(rt=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n  padding-left: 7%;\n"]))),ks=Bt.c.div(lt||(lt=Object(G.a)(["\n  padding: 5%;\n"]))),zs=Bt.c.img(dt||(dt=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: 1.5s ",";\n  padding: 1%;\n"])),Object(Bt.d)(jt||(jt=Object(G.a)(["",""])),fs.fadeIn));var Ls,Cs,Is,Es,Ds,Ps,Ts,_s,As,Rs,Ms,Xs,Fs,Us,Js,Bs,qs,Ws,Vs=function(e){var n=e.applyLanguage,t=e.lang,s=void 0===t?"ENGLISH":t,i=Object(I.useState)(!1),c=Object(R.a)(i,2),a=c[0],o=c[1],r=Object(I.useState)(s),l=Object(R.a)(r,2),d=l[0],j=l[1];Object(I.useEffect)((function(){n(navigator.language),navigator.language.includes("en")?j("ENGLISH"):navigator.language.includes("ko")&&j("KOREAN")}),[]),Object(I.useEffect)((function(){"ENGLISH"===d?n("en"):"KOREAN"==d&&n("ko")}),[d]);var u=function(e){j(e.currentTarget.attributes.value.value),o(!1)};return a?Object(B.jsxs)(ys,{children:[Object(B.jsxs)(vs,{row:!0,onClick:function(){return o(!1)},children:[Object(B.jsxs)(Ns,{style:{whiteSpace:"nowrap"},children:[Object(B.jsx)(xs.a,{}),Object(B.jsx)("span",{children:"\xa0"})," "]}),Object(B.jsxs)(vs,{row:!0,onClick:function(){return o(!1)},children:[Object(B.jsx)(ws,{children:d}),Object(B.jsx)(ps.a,{style:{color:"#626262"}})]})]}),Object(B.jsx)(gs.a,{style:{position:"absolute",zIndex:1e3,width:"150px",height:"90px"},elevation:3,children:Object(B.jsxs)(ks,{children:[Object(B.jsxs)(Ss,{onClick:u,value:"ENGLISH",name:"english",children:[Object(B.jsx)(zs,{src:"/assets/images/onboarding/english.svg"}),Object(B.jsx)(ws,{children:"ENGLISH"})]}),Object(B.jsxs)(Ss,{onClick:u,value:"KOREAN",name:"korean",children:[Object(B.jsx)(zs,{src:"/assets/images/onboarding/korean.svg"}),Object(B.jsx)(ws,{children:"\ud55c\uad6d\uc5b4"})]})]})})]}):Object(B.jsx)(ys,{children:Object(B.jsxs)(vs,{row:!0,onClick:function(){return o(!0)},children:[Object(B.jsxs)(Ns,{style:{whiteSpace:"nowrap"},children:[Object(B.jsx)(xs.a,{}),Object(B.jsx)("span",{children:"\xa0"})," "]}),Object(B.jsxs)(vs,{row:!0,children:[Object(B.jsx)(ws,{children:d}),Object(B.jsx)(hs.a,{style:{color:"#626262"}})]})]})})},Ys=t(769),Hs=t(342),Gs=t(770),$s=t(367),Ks=Object($s.a)({palette:{primary:{main:"#E22D2D"},secondary:{main:"#CFC5FA"},warning:{main:"#fff176"}},shape:{borderRadius:16},typography:{fontFamily:"Open Sans"},overrides:{MuiButton:{root:{fontFamily:"Open Sans",fontWeight:"bold",fontStyle:"normal",borderRadius:"16px"},outlinedPrimary:{border:"2px solid","&:hover":{border:"2px solid"}}}}}),Qs=Object(Bt.a)(Ls||(Ls=Object(G.a)(["\n\n:root {\n    --primary-color:#E22D2D;\n    --primary-dark:#B41818;\n    --primary-lite:#E95D5D;\n    --pimary-extra-lite:#FCCECE;\n\n    --secondary-color:#5F6DCB;\n    --secondary-dark:#394179;\n    --secondary-lite:#8D98F5;\n    --secondary-extra-lite:#D4D4FF;\n\n    --text-black: #000000;\n    --text-gray:#706E6E;\n    --text-highlite:#4870B8;\n}\n\n p{\n    font-family: 'Open Sans';\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n\n }\n  \n  h1{\n  \n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 26px;\n    line-height: 27px;\n    text-align: center;\n    letter-spacing: 0.164211px;\n  }\n\n  h3{\n    \n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 18px;\n    text-align: center;\n    letter-spacing: -0.0853333px;\n  }\n  \n  body {\n    \n    margin: 0;\n    padding: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    font-Weight: \"bold\";\n    font-Style: \"normal\";\n    border-Radius: \"16px\";\n  \n    line-height: 22px;\n    text-align: center;\n    letter-spacing: -0.0693333px;\n    }\n\n  \n"]))),Zs=t(345),ei=["current","cards"],ni=Bt.c.div(Cs||(Cs=Object(G.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n    padding-top: 5%;\n    padding-bottom: 5%;\n  }\n"]))),ti=Bt.c.div(Is||(Is=Object(G.a)(["\n  width: 80%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  }\n"]))),si=Bt.c.div(Es||(Es=Object(G.a)(["\n  height: 80%;\n  padding: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 600px) {\n    height: 6%;\n    width: 100%;\n    padding: 2%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  }\n"]))),ii=Bt.c.div(Ds||(Ds=Object(G.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),ci=Bt.c.div(Ps||(Ps=Object(G.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),ai=Bt.c.div(Ts||(Ts=Object(G.a)(["\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),oi=Bt.c.div(_s||(_s=Object(G.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 5%;\n  padding-left: 5%;\n  @media (min-width: 600px) {\n    display: none;\n  }\n"]))),ri=Bt.c.div(As||(As=Object(G.a)(["\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-self: center;\n  align-items: center;\n  @media only screen and (min-width: 600px) {\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n  }\n  @media (min-width: 600px) {\n    height: 80%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  @media (min-width: 1200px) {\n    width: 80%;\n    height: 80%;\n  }\n"]))),li=Bt.c.p(Rs||(Rs=Object(G.a)(["\n  padding: 1%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n  width: max-content;\n  cursor: pointer;\n"]))),di=Bt.c.div(Ms||(Ms=Object(G.a)(["\n  height: 5%;\n  width: 80%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  @media (min-width: 600px) {\n    display: none;\n  }\n"]))),ji=Bt.c.div(Xs||(Xs=Object(G.a)(["\n  height: 20%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),ui=Bt.c.div(Fs||(Fs=Object(G.a)(["\n  height: 80%;\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]))),bi=Bt.c.img(Us||(Us=Object(G.a)(["\n  animation: 1.5s ",";\n  width: 100%;\n  height: 70%;\n"])),Object(Bt.d)(Js||(Js=Object(G.a)(["",""])),fs.fadeIn)),hi=Bt.c.h3(Bs||(Bs=Object(G.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n"]))),mi=Bt.c.div(qs||(qs=Object(G.a)(["\n  animation: 1.5s ",";\n  padding-top: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),Object(Bt.d)(Ws||(Ws=Object(G.a)(["",""])),fs.fadeIn));function pi(e){var n=e.current,t=e.cards,s=(Object(Jt.a)(e,ei),Object(I.useRef)());return E.a.useEffect((function(){if(s.current){var e=Object(U.eb)({el:s.current,threshold:15,gestureName:"my-gesture",onMove:function(e){return console.log(e)}});return e.enable(),function(){e.destroy()}}}),[s]),Object(B.jsxs)(ui,{ref:s,children:[Object(B.jsx)(bi,{src:t[n].image,alt:"ilustration"}),Object(B.jsxs)(mi,{children:[Object(B.jsx)(hi,{children:t[n].title}),Object(B.jsx)("div",{style:{width:"100%",whiteSpace:"pre-line"},children:Object(B.jsx)("p",{children:t[n].description})})]})]},n)}var Oi,xi,gi,fi,yi=Object(Ys.a)()((function(){var e=Object(F.e)(),n=Object(I.useState)(0),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(Hs.a)(),a=c.t,o=c.i18n,r=function(e){o.changeLanguage(e)},l=function(){e.push("/sign-up","forward")},d=function(){i(Math.min(h.length-1,s+1))},j=function(){i(Math.max(0,s-1))},u=function(){i(h.length-1)},b=Object(Zs.useSwipeable)({onSwipedLeft:function(){return d()},onSwipedRight:function(){return j()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),h=[{id:1,title:a("onbording.title1"),image:"/assets/images/onboarding/feature1.min.svg",description:a("onbording.description1")},{id:2,title:a("onbording.title2"),image:"/assets/images/onboarding/feature2.min.svg",description:a("onbording.description2")},{id:3,title:a("onbording.title3"),image:"/assets/images/onboarding/feature3.min.svg",description:a("onbording.description3")}],m=s===h.length-1,p=0===s;return Object(B.jsx)(ni,{children:Object(B.jsxs)(ti,Object(_.a)(Object(_.a)({},b),{},{children:[Object(B.jsxs)(si,{children:[Object(B.jsxs)(oi,{children:[Object(B.jsx)(Vs,{applyLanguage:r}),Object(B.jsx)(li,{style:m?{opacity:0}:{opacity:100},onClick:u,children:a("onbording.skip")})]}),Object(B.jsxs)(ii,{children:[Object(B.jsx)(ai,{children:Object(B.jsx)(Vs,{applyLanguage:r})}),Object(B.jsx)(us,{color:"secondary",size:"medium",direction:"left",style:0===s?{opacity:0}:{opacity:100},onClick:j}),Object(B.jsx)("div",{})]})]}),Object(B.jsxs)(ri,{children:[Object(B.jsx)(pi,{styles:{height:"100%"},current:s,cards:h}),Object(B.jsxs)(ji,{children:[Object(B.jsx)("div",{style:{display:m?"none":"inline"},children:Object(B.jsx)(Ht,{size:3,position:s})}),Object(B.jsx)("div",{style:{display:m?"inline":"none",width:"40%"},children:Object(B.jsx)(es,{label:a("onbording.button"),onClick:l})})]})]}),Object(B.jsxs)(si,{children:[Object(B.jsxs)(ci,{children:[Object(B.jsx)(ai,{children:Object(B.jsx)(li,{style:m?{opacity:0}:{opacity:100},onClick:u,children:Object(B.jsx)("div",{children:a("onbording.skip")})})}),Object(B.jsx)(us,{color:"secondary",size:"medium",direction:"right",style:2!==s?{display:"flex"}:{display:"none"},onClick:d}),Object(B.jsx)("div",{})]}),Object(B.jsxs)(di,{children:[Object(B.jsx)(li,{style:{opacity:p?0:100},onClick:j,children:a("onbording.prev")}),Object(B.jsx)("div",{style:{display:m?"none":"inline"},children:Object(B.jsx)(Ht,{size:3,position:s})}),Object(B.jsx)(li,{style:{display:m?"none":"inline"},onClick:d,children:a("onbording.next")}),Object(B.jsx)(es,{style:m?{display:"inline",width:"50%"}:{display:"none"},label:a("onbording.button"),onClick:l})]})]})]}))})})),vi=function(){return Object(B.jsx)(Gs.a,{theme:Ks,children:Object(B.jsxs)(I.Suspense,{fallback:Object(B.jsx)("div",{children:"Loading..."}),children:[Object(B.jsx)(Qs,{}),Object(B.jsx)(yi,{})]})})},wi=t(24),Ni=t(782),Si=["error","type","value","placeholder"],ki=Bt.c.div(Oi||(Oi=Object(G.a)(["\n  padding: 2%;\n  border-radius: 16px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]))),zi=Object(Bt.c)(gs.a)(xi||(xi=Object(G.a)(["\n  && {\n    box-shadow: 0px 4px 10px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 16px;\n    margin-top: 3%;\n    margin-bottom: 3%;\n    caret-color: red;\n  }\n"]))),Li=Bt.c.img(gi||(gi=Object(G.a)(["\n  margin-right: 2.5%;\n"]))),Ci=function(e){var n=e.error,t=e.type,s=e.value,i=e.placeholder,c=Object(Jt.a)(e,Si);return Object(I.useEffect)((function(){}),[n]),Object(B.jsx)(zi,{elevation:3,children:Object(B.jsxs)(ki,{style:{boxShadow:n?"0px 0px 0px 1.5px #E22D2D":"none"},children:[Object(B.jsx)(Ni.a,Object(_.a)({color:"secondary",autoComplete:"new-password",placeholder:i,error:n,type:t,value:s,fullWidth:!0},c)),Object(B.jsx)(Li,{style:{opacity:n?"100%":"0%"},src:"/assets/images/authentication/invalid.svg",alt:"warning"})]})})},Ii=t(771),Ei=t(675),Di=t(772),Pi=t(347),Ti=t.n(Pi),_i=t(348),Ai=t.n(_i),Ri=["error","type","label","value"],Mi=Object(Bt.c)(gs.a)(fi||(fi=Object(G.a)(["\n  && {\n    box-shadow: 0px 4px 10px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 16px;\n    margin-top: 3%;\n    margin-bottom: 3%;\n    caret-color: red;\n  }\n"])));function Xi(e){var n=e.error,t=(e.type,e.label,e.value),s=Object(Jt.a)(e,Ri),i=E.a.useState({showPassword:!1}),c=Object(R.a)(i,2),a=c[0],o=c[1];Object(I.useEffect)((function(){}),[n]);var r;return Object(B.jsx)(Mi,{elevation:3,style:{marginTop:"2%",marginBottom:"2%"},children:Object(B.jsx)(Ii.a,{style:{padding:"2%",display:"flex",borderRadius:"16px",boxShadow:n?"0px 0px 0px 1.5px #E22D2D":"none"},children:Object(B.jsx)(Ni.a,Object(_.a)(Object(_.a)({name:"Password",color:"secondary",error:n,type:a.showPassword?"text":"password",value:t,onChange:(r="password",function(e){o(Object(_.a)(Object(_.a)({},a),{},Object(wi.a)({},r,e.target.value)))})},s),{},{endAdornment:Object(B.jsx)(Di.a,{position:"end",children:Object(B.jsx)(Ei.a,{style:{color:"#212121"},"aria-label":"toggle password visibility",onClick:function(){o(Object(_.a)(Object(_.a)({},a),{},{showPassword:!a.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:a.showPassword?Object(B.jsx)(Ti.a,{}):Object(B.jsx)(Ai.a,{})})})}))})})}var Fi=t(159),Ui=t.n(Fi),Ji=t(135),Bi=t(223),qi=t(349),Wi=t(161);Bi.a.use(qi.a).use(Wi.e).init({backend:{loadPath:"/assets/locales/{{lng}}/{{ns}}.json",addPath:"/assets/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1}});Bi.a;var Vi,Yi,Hi,Gi,$i,Ki,Qi,Zi,ec,nc,tc,sc,ic,cc,ac,oc,rc,lc,dc,jc,uc,bc,hc,mc,pc,Oc,xc,gc,fc,yc,vc,wc,Nc,Sc,kc=t(781),zc=t(134),Lc=t.n(zc),Cc=(Lc()((function(e,n){return{language:"en"}})),Lc()((function(e,n){return{category:"General",setCategory:function(n){return e({category:n})}}})),Lc()((function(e,n){return{authComponentState:"auth",userName:"",userEmail:""}}))),Ic=(t(548),t(160)),Ec=Bt.c.div(Vi||(Vi=Object(G.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-top: 8%;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n"]))),Dc=Bt.c.div(Yi||(Yi=Object(G.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Small devices (portrait tablets and large phones, 600px and up) */\n  @media only screen and (min-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Medium devices (landscape tablets, 768px and up) */\n  @media only screen and (min-width: 768px) {\n    width: 50%;\n    height: 100%;\n  }\n\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 40%;\n    height: 90%;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 30%;\n    height: 90%;\n  }\n"]))),Pc=Bt.c.div(Hi||(Hi=Object(G.a)(["\n  position: relative;\n  padding-top: 5%;\n  height: 10%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ","\n"])),(function(e){return e.login&&Object(Bt.b)(Gi||(Gi=Object(G.a)(["\n      height: 10%;\n    "])))})),Tc=Bt.c.div($i||($i=Object(G.a)(["\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ","\n"])),(function(e){return e.login&&Object(Bt.b)(Ki||(Ki=Object(G.a)(["\n      height: 70%;\n    "])))})),_c=Bt.c.div(Qi||(Qi=Object(G.a)(["\n  height: 10%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  ","\n"])),(function(e){return e.login&&Object(Bt.b)(Zi||(Zi=Object(G.a)(["\n      height: 10%;\n    "])))})),Ac=Bt.c.div(ec||(ec=Object(G.a)(["\n  padding-top: 2%;\n  line-height: 5px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]))),Rc=Bt.c.div(nc||(nc=Object(G.a)(["\n  height: 20%;\n  display: flex;\n  padding: 3%;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Mc=Bt.c.div(tc||(tc=Object(G.a)(["\n  margin-left: 2%;\n  margin-right: 2%;\n  padding-left: 2%;\n  padding-right: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Xc=Bt.c.div(sc||(sc=Object(G.a)(["\n  padding: 2%;\n  position: fixed;\n  top: 0px !important;\n  left: 0px !important;\n  @media only screen and (max-width: 1200px) {\n    opacity: 0;\n  }\n"]))),Fc=Bt.c.div(ic||(ic=Object(G.a)(["\n  margin: 2%;\n  padding: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n"]))),Uc=Bt.c.div(cc||(cc=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    align-self: flex-end;\n  }\n  @media only screen and (min-width: 1200px) {\n    opacity: 0;\n  }\n"]))),Jc=Bt.c.div(ac||(ac=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    align-self: flex-end;\n  }\n"]))),Bc=Bt.c.img(oc||(oc=Object(G.a)(["\n  animation: 1s ",";\n  padding: 2%;\n"])),Object(Bt.d)(rc||(rc=Object(G.a)(["",""])),fs.fadeIn)),qc=Bt.c.h1(lc||(lc=Object(G.a)(["\n  padding-left: 5%;\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: bold;\n  text-align: start;\n  letter-spacing: -0.0853333px;\n  color: #212121;\n"]))),Wc=Bt.c.p(dc||(dc=Object(G.a)(["\n  margin: 1%;\n  padding-left: 5%;\n\n  font-style: normal;\n  font-weight: normal;\n  text-align: start;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n"]))),Vc=Bt.c.p(jc||(jc=Object(G.a)(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n  ","\n"])),(function(e){return e.noMargin&&Object(Bt.b)(uc||(uc=Object(G.a)(["\n      margin: 0%;\n    "])))})),Yc=Bt.c.span(bc||(bc=Object(G.a)(["\n  font-weight: 600;\n  color: #4870b8;\n  font-style: normal;\n  font-weight: bold;\n  line-height: 16px;\n  letter-spacing: -0.288px;\n  '&:hover': {\n    cursor: pointer;\n  }\n"]))),Hc=Bt.c.div(hc||(hc=Object(G.a)(["\n  display: flex;\n"]))),Gc=(Bt.c.div(mc||(mc=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 2% 5%;\n"]))),Bt.c.p(pc||(pc=Object(G.a)(["\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid #747474;\n  line-height: 0.1em;\n  margin: 10px 0 20px;\n"]))),Bt.c.span(Oc||(Oc=Object(G.a)(["\n  padding-left: 5%;\n  padding-right: 5%;\n  color: #747474;\n  background: #fff;\n  font-weight: 600;\n  font-size: 10px;\n"]))),Bt.c.div(xc||(xc=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 5%;\n"])))),$c=function(){var e=Object(Hs.a)(),n=e.t,t=e.i18n,s=Object(U.nb)(),i=Object(F.e)(),c=Cc((function(e){return e.authComponentState})),a=Object(Ji.b)().enqueueSnackbar,o=Object(U.kb)(),r=Object(R.a)(o,2),l=r[0],d=r[1],j=Object(U.jb)(),u=Object(R.a)(j,1)[0],b=Object(I.useState)({Name:"",Email:"",Confirmation:"",Password:"",Terms:null,Privacy:null}),h=Object(R.a)(b,2),m=h[0],p=h[1],O=Object(I.useState)({Name:!1,Email:!1,Confirmation:!1,Password:!1,Terms:!1,Privacy:!1}),x=Object(R.a)(O,2),g=x[0],f=x[1];Object(I.useEffect)((function(){t.changeLanguage("en")}),[g]);var y=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s,c,o,r,j,u,b,h;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(_.a)({},m),t={Email:"required|email",Password:"required"},!(s=new Ui.a(n,t)).fails()){e.next=10;break}c=Object(Lt.a)(Object.values(s.errors.errors)),o=Object(Lt.a)(Object.keys(s.errors.errors)),w(o),a(c[0],{preventDuplicate:!0}),e.next=37;break;case 10:return l({message:"Please Wait..."}),e.prev=11,e.next=14,Ic.a.getInfo();case 14:j=e.sent,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(11);case 19:return e.next=21,_t.a.getInfo();case 21:return u=e.sent,b="".concat(u.manufacturer," ( ").concat(u.platform," ) ").concat(u.model," ( ").concat(u.osVersion," ) - ").concat(null===(r=j)||void 0===r?void 0:r.version),"https://api.speakypeaky.com/api/v1",e.next=26,fetch("https://api.speakypeaky.com/api/v1/user/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.Email,password:m.Password,loginType:"Email",userPlatform:b})}).then((function(e){return e.json()}));case 26:if(!(h=e.sent).error){e.next=32;break}d(),a(h.error,{preventDuplicate:!0}),e.next=37;break;case 32:if(!h.token){e.next=37;break}return d(),e.next=36,H.setNativeStorage("token",h.token);case 36:i.push("/dashboard/lessons");case 37:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,c,o,r,j,b,h,p,O,x,g,f;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(_.a)({},m),t={Name:"required",Email:"required|email",Confirmation:"required|same:Email",Password:"required",Terms:"accepted",Privacy:"accepted"},c="https://api.speakypeaky.com/api/v1",!(o=new Ui.a(n,t)).fails()){e.next=12;break}r=Object(Lt.a)(Object.values(o.errors.errors)),j=Object(Lt.a)(Object.keys(o.errors.errors)),w(j),b=r[0][0].includes("Privacy")?" You must accept Privacy Policy":r[0][0].includes("Terms")?" You must accept Terms of Service":r[0][0],a(b,{preventDuplicate:!0}),e.next=43;break;case 12:return l({message:"Please Wait..."}),e.prev=13,e.next=16,Ic.a.getInfo();case 16:p=e.sent,e.next=21;break;case 19:e.prev=19,e.t0=e.catch(13);case 21:return e.next=23,_t.a.getInfo();case 23:return O=e.sent,x="".concat(O.manufacturer," ( ").concat(O.platform," ) ").concat(O.model," ( ").concat(O.osVersion," ) - ").concat(null===(h=p)||void 0===h?void 0:h.version),e.next=27,fetch(c+"/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.Email,password:m.Password,loginType:"Email",userPlatform:x,fullName:m.Name})}).then((function(e){return e.json()}));case 27:if(!(g=e.sent).error){e.next=34;break}d(),"An account with this email address already exists.",a("An account with this email address already exists.",{preventDuplicate:!0}),e.next=43;break;case 34:if(!g){e.next=41;break}return e.next=37,fetch(c+"/user/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.Email,password:m.Password,loginType:"Email",userPlatform:x})}).then((function(e){return e.json()}));case 37:(f=e.sent).token&&(d(),H.setNativeStorage("token",f.token),H.setNativeStorage("isOnBoarding",!0),H.setNativeStorage("isHelpModeDone",!1),H.setNativeStorage("isHelpScreenForDictationStepDone",!1),H.setNativeStorage("isHelpScreenForReviewStepDone",!1),H.setNativeStorage("isHelpScreenForPracticeStepDone",!1),H.setNativeStorage("isTodayLessonHelpModeDone",!1),H.setNativeStorage("isReviewHelpModeDone",!1),s.push("/post-boarding","forward"),u({mode:"md",cssClass:"signupAlert",subHeader:"Welcome! your account has been successfully created!",message:"I have some questions for you to personalize your learning.",buttons:[{text:"Okay",role:"cancel",cssClass:"startLessonCancelBtn"}]})),e.next=43;break;case 41:i.push("/login"),Cc.setState({authComponentState:"login"});case 43:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){var n={Name:g.Name,Email:g.Email,Confirmation:g.Confirmation,Password:g.Password,Terms:g.Terms,Privacy:g.Privacy};for(var t in n)e.includes(t)?n[t]=!0:n[t]=!1;f(n)},N=function(e){p(Object(_.a)(Object(_.a)({},m),{},Object(wi.a)({},e.target.name,e.target.checked)))},S=function(e){p(Object(_.a)(Object(_.a)({},m),{},Object(wi.a)({},e.target.name,e.target.value)))},k=function(){p({Name:"",Email:"",Confirmation:"",Password:"",Terms:null,Privacy:null}),f({Name:!1,Email:!1,Confirmation:!1,Password:!1,Terms:!1,Privacy:!1})};return"auth"===c?Object(B.jsx)(Ec,{children:Object(B.jsxs)(Dc,{children:[Object(B.jsx)(Fc,{style:{},children:Object(B.jsx)(Vs,{applyLanguage:function(e){t.changeLanguage(e)}})}),Object(B.jsx)(Bc,{src:"/assets/images/authentication/logo.min.svg",alt:"Logo"},1),Object(B.jsx)(Rc,{children:Object(B.jsx)(Bc,{src:"/assets/images/authentication/title.svg",alt:"img"})}),Object(B.jsx)(Rc,{style:{alignItems:"start"},children:Object(B.jsx)(Bc,{src:"/assets/images/authentication/cloud.min.svg",alt:"img"})}),Object(B.jsxs)(Gc,{children:[Object(B.jsx)(es,{style:{margin:"3%"},label:n("authentication.button1"),size:"medium",onClick:function(){Cc.setState({authComponentState:"signUp"})}}),Object(B.jsx)(es,{style:{margin:"3%"},variant:"outlined",size:"medium",label:n("authentication.button3"),onClick:function(){Cc.setState({authComponentState:"login"})}})]})]})}):"login"===c?Object(B.jsx)(Ec,{children:Object(B.jsxs)(Dc,{children:[Object(B.jsx)(Pc,{login:!0,children:Object(B.jsx)(Jc,{children:Object(B.jsx)(Bc,{src:"/assets/images/authentication/logo3.min.svg",alt:"Logo"},1)})}),Object(B.jsxs)(Tc,{login:!0,children:[Object(B.jsx)(qc,{children:n("authentication.login")}),Object(B.jsx)("br",{}),Object(B.jsxs)(Mc,{children:[Object(B.jsx)(Ci,{name:"Email",type:"Email",label:"Email",placeholder:"Email",error:g.Email,value:m.Email,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Email:!1}))}},"Email"),Object(B.jsx)(Xi,{name:"Password",type:"Password",label:"Password",placeholder:"Password",error:g.Password,value:m.Password,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Password:!1}))}}),Object(B.jsx)(Hc,{style:{justifyContent:"flex-end"},children:Object(B.jsx)("span",{onClick:function(){return i.push("/forgot-pw","forward")},children:Object(B.jsx)(Vc,{children:Object(B.jsx)(Yc,{style:{cursor:"pointer"},children:n("authentication.forgot")})})})})]},"login"),Object(B.jsx)(Gc,{children:Object(B.jsx)(es,{style:{margin:"3%"},size:"medium",label:n("authentication.button2"),onClick:function(){return y()}})}),Object(B.jsx)(_c,{login:!0,children:Object(B.jsxs)(Vc,{children:[n("authentication.noAccount"),Object(B.jsxs)(Yc,{style:{cursor:"pointer"},onClick:function(){k(),Cc.setState({authComponentState:"signUp"})},children:[" ",n("authentication.noAccount2")," "]}),n("authentication.noAccount3")]})})]})]})}):"signUp"===c?Object(B.jsx)(Ec,{children:Object(B.jsxs)(Dc,{children:[Object(B.jsx)(Xc,{children:Object(B.jsx)(Bc,{src:"/assets/images/authentication/logo3.min.svg",alt:"Logo"},1)}),Object(B.jsx)(Pc,{children:Object(B.jsx)(Uc,{children:Object(B.jsx)(Bc,{src:"/assets/images/authentication/logo3.min.svg",alt:"Logo"},2)})}),Object(B.jsxs)(Tc,{children:[Object(B.jsx)(qc,{children:n("authentication.signUp")}),Object(B.jsxs)(Wc,{children:[n("authentication.subtitle1"),Object(B.jsxs)(Yc,{children:[" ",n("authentication.subtitle2")," "]}),n("authentication.subtitle3")]}),Object(B.jsx)("br",{}),Object(B.jsxs)(Mc,{children:[Object(B.jsx)(Ci,{name:"Name",type:"Text",label:"Name",error:g.Name,placeholder:"Name",value:m.Name,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Name:!1}))}},"Name"),Object(B.jsx)(Ci,{name:"Email",type:"Email",label:"Email",placeholder:"Email",error:g.Email,value:m.Email,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Email:!1}))}},"Email"),Object(B.jsx)(Ci,{name:"Confirmation",type:"Email",label:"confirmEmail",error:g.Confirmation,placeholder:"Confirm Email",value:m.Confirmation,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Confirmation:!1}))}},"Confirmation"),Object(B.jsx)(Xi,{name:"Password",type:"Password",label:"Password",placeholder:"Password",error:g.Password,value:m.Password,onChange:function(e){S(e),f(Object(_.a)(Object(_.a)({},g),{},{Password:!1}))}}),Object(B.jsxs)(Ac,{style:{marginTop:"2%"},children:[Object(B.jsx)(kc.a,{style:{padding:"2px"},checked:m.Terms,onChange:N,name:"Terms",color:"primary"}),Object(B.jsxs)(Vc,{noMargin:!0,children:[n("authentication.terms1"),Object(B.jsxs)(Yc,{children:[" ",Object(B.jsx)("a",{rel:"noopener noreferrer",style:{textDecoration:"none",color:"#4870B8"},href:"https://www.speakypeaky.com/terms-and-conditions",target:"_blank",children:n("authentication.terms2")})]})]})]}),Object(B.jsxs)(Ac,{children:[Object(B.jsx)(kc.a,{style:{padding:"2px"},checked:m.Privacy,onChange:N,name:"Privacy",color:"primary"}),Object(B.jsxs)(Vc,{noMargin:!0,children:[n("authentication.terms1"),Object(B.jsxs)(Yc,{children:[" ",Object(B.jsx)("a",{rel:"noopener noreferrer",style:{textDecoration:"none",color:"#4870B8"},href:"https://www.speakypeaky.com/privacypolicy",target:"_blank",children:n("authentication.terms3")})," "]})]})]})]},"signUp"),Object(B.jsx)(Gc,{children:Object(B.jsx)(es,{style:{margin:"3%"},size:"medium",label:n("authentication.button1"),onClick:function(){return v()}})}),Object(B.jsx)(_c,{children:Object(B.jsxs)(Vc,{children:[n("authentication.existAccount"),Object(B.jsxs)(Yc,{style:{cursor:"pointer"},onClick:function(){k(),Cc.setState({authComponentState:"login"})},children:[" ",n("authentication.existAccount2")," "]}),n("authentication.noAccount3")]})})]})]})}):void 0},Kc=function(){return Object(B.jsx)(Gs.a,{theme:Ks,children:Object(B.jsx)(Ji.a,{style:{width:"95vw",textAlign:"center",fontFamily:"Open Sans",fontStyle:"normal",fontWeight:600},anchorOrigin:{vertical:"top",horizontal:"center"},maxSnack:1,children:Object(B.jsx)(I.Suspense,{fallback:Object(B.jsx)(U.O,{}),children:Object(B.jsx)(U.A,{children:Object(B.jsx)(U.k,{children:Object(B.jsx)($c,{})})})})})})},Qc=Object(Bt.c)(gs.a).withConfig({displayName:"Notification__Wrapper",componentId:"sc-q2lvw5-0"})(["position:absolute;width:295px;height:234px;display:flex;flex-direction:column;justify-content:center;align-items:center;align-self:center;z-index:4;filter:drop-shadow(2px 2px 10px rgba(0,0,0,0.5));"]),Zc=Bt.c.h1.withConfig({displayName:"Notification__Title",componentId:"sc-q2lvw5-1"})(["font-family:Open Sans;font-style:normal;font-weight:bold;font-size:20px;line-height:27px;letter-spacing:-0.288px;color:#212121;"]),ea=Bt.c.p.withConfig({displayName:"Notification__SubTitle",componentId:"sc-q2lvw5-2"})(["font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:19px;letter-spacing:-0.288px;color:#212121;"]),na=Bt.c.div.withConfig({displayName:"Notification__Text",componentId:"sc-q2lvw5-3"})(["padding:1%;font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;letter-spacing:-0.0853333px;color:#000000;",""],(function(e){return e.noMargin&&Object(Bt.b)(gc||(gc=Object(G.a)(["\n      margin: 0%;\n    "])))})),ta=function(e){var n=e.visible,t=e.dismiss,s=Object(Hs.a)().t;return Object(B.jsx)(Qc,{style:{display:n?"flex":"none"},children:Object(B.jsxs)(na,{children:[Object(B.jsx)(Zc,{children:s("forgotPassword.notificationTitle")}),Object(B.jsxs)(ea,{children:[s("forgotPassword.notificationMessage")," "]}),Object(B.jsx)("br",{}),Object(B.jsx)(es,{label:"okay",variant:"outlined",onClick:t})]})})},sa=t(783),ia=t(187),ca=t.n(ia),aa=Bt.c.div.withConfig({displayName:"ForgotPassword__Wrapper",componentId:"sc-1qnlcfv-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;@media only screen and (max-height:600px){width:100%;height:100%;}@media only screen and (min-width:992px){width:100%;height:100vh;align-self:center;}@media only screen and (min-width:1200px){width:100%;height:100vh;align-self:center;}"]),oa=Bt.c.div.withConfig({displayName:"ForgotPassword__Container",componentId:"sc-1qnlcfv-1"})(["width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;@media only screen and (max-width:600px){width:100%;height:100%;}@media only screen and (min-width:600px){width:100%;height:100%;}@media only screen and (min-width:768px){width:60%;height:80%;}@media only screen and (min-width:1200px){width:30%;height:80%;}"]),ra=Bt.c.div.withConfig({displayName:"ForgotPassword__Body",componentId:"sc-1qnlcfv-2"})(["padding:5%;height:100%;display:flex;flex-direction:column;justify-content:space-around;"]),la=Bt.c.div.withConfig({displayName:"ForgotPassword__Box",componentId:"sc-1qnlcfv-3"})(["padding:5%;height:50%;display:flex;flex-direction:column;justify-content:space-between;"]),da=Object(Bt.c)(Ei.a).withConfig({displayName:"ForgotPassword__BackButton",componentId:"sc-1qnlcfv-4"})(["&&{padding:5%;display:inline;align-self:flex-start;color:#979797;}"]),ja=Bt.c.div.withConfig({displayName:"ForgotPassword__Logo",componentId:"sc-1qnlcfv-5"})(["height:50%;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),ua=Bt.c.img.withConfig({displayName:"ForgotPassword__Image",componentId:"sc-1qnlcfv-6"})(["animation:1s ",";padding:2%;height:80%;"],Object(Bt.d)(fc||(fc=Object(G.a)(["",""])),fs.fadeIn)),ba=Bt.c.h1.withConfig({displayName:"ForgotPassword__Title",componentId:"sc-1qnlcfv-7"})(["text-align:start;font-family:Open Sans;font-style:normal;font-weight:bold;font-size:20px;line-height:27px;letter-spacing:-0.288px;color:#212121;"]),ha=Bt.c.p.withConfig({displayName:"ForgotPassword__SubTitle",componentId:"sc-1qnlcfv-8"})(["text-align:start;font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:19px;letter-spacing:-0.288px;color:#212121;"]),ma=Bt.c.div.withConfig({displayName:"ForgotPassword__Form",componentId:"sc-1qnlcfv-9"})(["height:66%;display:flex;flex-direction:column;justify-content:space-around;"]),pa=Bt.c.div.withConfig({displayName:"ForgotPassword__Text",componentId:"sc-1qnlcfv-10"})(["height:33%;padding:1%;font-family:Open Sans;font-style:normal;font-weight:normal;font-size:14px;letter-spacing:-0.0853333px;color:#000000;",""],(function(e){return e.noMargin&&Object(Bt.b)(yc||(yc=Object(G.a)(["\n      margin: 0%;\n    "])))})),Oa=function(){var e=Object(U.nb)(),n=Object(I.useState)(!1),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(I.useState)(""),a=Object(R.a)(c,2),o=a[0],r=a[1],l=Object(I.useState)(!1),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(Ji.b)().enqueueSnackbar,h=Object(Hs.a)(),m=h.t,p=h.i18n;Object(I.useEffect)((function(){}),[p]);var O=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s,c,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=new Fi({Email:o},{Email:"required|email"})).fails()){e.next=8;break}t=n.errors.get("Email"),i(!0),b(t[0],{preventDuplicate:!0}),e.next=24;break;case 8:return s="https://api.speakypeaky.com/api/v1",e.next=11,fetch(s+"/user/check-user-exist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,loginType:"Email"})}).then((function(e){return e.json()}));case 11:if(!1!==(c=e.sent).isExist){e.next=16;break}b("Email does not exist",{preventDuplicate:!0}),e.next=24;break;case 16:if(!c.error){e.next=20;break}b(c.error,{preventDuplicate:!0}),e.next=24;break;case 20:return e.next=22,fetch(s+"/user/requestPasswordURL",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}).then((function(e){return e.json()}));case 22:(a=e.sent).error?b(a.error,{preventDuplicate:!0}):u(!j);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)(aa,{children:[Object(B.jsx)(ta,{visible:j,dismiss:function(){u(!1),e.push("/login")}}),Object(B.jsx)(sa.a,{style:{background:"rgba(0, 0, 0, 0.5)",zIndex:2},open:j}),Object(B.jsx)(oa,{children:Object(B.jsxs)(ra,{children:[Object(B.jsx)(da,{onClick:function(){e.push("/login")},children:Object(B.jsx)(ca.a,{})}),Object(B.jsx)(ja,{children:Object(B.jsx)(ua,{src:"/assets/images/authentication/forgotPassword.min.svg",alt:"Logo"},1)}),Object(B.jsxs)(la,{children:[Object(B.jsxs)(pa,{children:[Object(B.jsx)(ba,{children:m("forgotPassword.title")}),Object(B.jsx)(ha,{children:m("forgotPassword.message")})]}),Object(B.jsxs)(ma,{style:{marginTop:15},children:[Object(B.jsx)(Ci,{name:"Email",type:"Email",label:"Email",error:s,placeholder:m("forgotPassword.placeholder"),value:o,onChange:function(e){r(e.target.value),i(!1)}}),Object(B.jsx)(es,{size:"medium",label:m("forgotPassword.button"),onClick:function(){O()}})]})]})]})})]})},xa=function(){return Object(B.jsx)(Gs.a,{theme:Ks,children:Object(B.jsx)(Ji.a,{style:{width:"95vw",textAlign:"center",fontFamily:"Open Sans",fontStyle:"normal",fontWeight:600},anchorOrigin:{vertical:"top",horizontal:"center"},maxSnack:1,children:Object(B.jsx)(I.Suspense,{fallback:Object(B.jsx)(U.O,{}),children:Object(B.jsx)(U.A,{children:Object(B.jsx)(U.k,{children:Object(B.jsx)(Oa,{})})})})})})},ga=t(351),fa=t.n(ga),ya=t(780),va=t(784),wa=t(773),Na=(t(549),["activeCard","cards","t","formOne","formTwo","handleFormOne","handleFormTwo"]),Sa=Bt.c.div.withConfig({displayName:"PostBording__Wrapper",componentId:"sc-1h1ulo-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;@media only screen and (max-height:600px){width:100%;height:100%;}"]),ka=Bt.c.div.withConfig({displayName:"PostBording__Container",componentId:"sc-1h1ulo-1"})(["width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;@media only screen and (max-width:600px){width:100%;height:95%;}@media only screen and (min-width:600px){width:100%;height:95%;}@media only screen and (min-width:600px){overflow-y:auto;}@media only screen and (min-width:768px){width:60%;}@media only screen and (min-width:992px){width:80%;height:70%;flex-direction:row;}"]),za=Bt.c.div.withConfig({displayName:"PostBording__Header",componentId:"sc-1h1ulo-2"})(["display:flex;flex:1;flex-direction:column;justify-content:center;align-items:center;@media only screen and (min-width:992px){height:50%;flex-direction:row;}"]),La=Bt.c.div.withConfig({displayName:"PostBording__Footer",componentId:"sc-1h1ulo-3"})(["display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;"]),Ca=Bt.c.div.withConfig({displayName:"PostBording__Content",componentId:"sc-1h1ulo-4"})(["flex:6;display:flex;flex-direction:column;justify-content:center;@media only screen and (min-width:992px){height:80%;}@media only screen and (min-width:1200px){height:80%;}"]),Ia=Object(Bt.c)(Ei.a).withConfig({displayName:"PostBording__BackButton",componentId:"sc-1h1ulo-5"})(["&&{padding:5%;display:inline;align-self:flex-start;color:#979797;@media only screen and (min-width:992px){display:none;}}"]),Ea=Bt.c.div.withConfig({displayName:"PostBording__Navigator",componentId:"sc-1h1ulo-6"})(["display:none;flex:1;flex-direction:column;justify-content:center;@media only screen and (min-width:992px){display:flex;padding-top:7%;}"]),Da=Bt.c.div.withConfig({displayName:"PostBording__Body",componentId:"sc-1h1ulo-7"})(["height:100%;width:100%;display:flex;flex:8;flex-direction:column;justify-content:center;"]),Pa=Bt.c.div.withConfig({displayName:"PostBording__Mobile",componentId:"sc-1h1ulo-8"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;@media only screen and (min-width:992px){display:none;}"]),Ta=Bt.c.div.withConfig({displayName:"PostBording__Desktop",componentId:"sc-1h1ulo-9"})(["display:none;flex-direction:row;justify-content:center;align-items:center;@media only screen and (min-width:992px){display:flex;}"]),_a=Bt.c.div.withConfig({displayName:"PostBording__GroupDesktop",componentId:"sc-1h1ulo-10"})(["height:100%;width:100%;display:none;flex-direction:row;justify-content:space-evenly;align-items:center;@media only screen and (min-width:992px){display:flex;}"]),Aa=Bt.c.div.withConfig({displayName:"PostBording__GroupDesktop2",componentId:"sc-1h1ulo-11"})(["width:100%;display:none;flex-direction:row;justify-content:space-evenly;align-items:center;@media only screen and (min-width:992px){display:flex;height:70%;}"]),Ra=Object(Bt.c)(gs.a).withConfig({displayName:"PostBording__DesktopCard",componentId:"sc-1h1ulo-12"})(["&&{margin:2%;height:50%;display:flex;cursor:pointer;flex:1;flex-direction:column;justify-content:center;align-items:center;background:#fdfdfd;box-shadow:2px 2px 20px 4px rgba(0,0,0,0.1);border-radius:17px;}"]),Ma=Bt.c.div.withConfig({displayName:"PostBording__GroupMobile",componentId:"sc-1h1ulo-13"})(["height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;@media only screen and (min-width:992px){display:none;}@media only screen and (min-width:1200px){display:none;}"]),Xa=Object($t.a)({root:{color:"#979797","&$checked":{color:"primary"}},checked:{}})((function(e){return Object(B.jsx)(ya.a,Object(_.a)({color:"primary"},e))})),Fa=Bt.c.p.withConfig({displayName:"PostBording__Question",componentId:"sc-1h1ulo-14"})(["font-family:Open Sans;font-style:normal;font-weight:600;font-size:12px;line-height:18px;text-align:center;letter-spacing:1.2px;color:#e22d2d;mix-blend-mode:normal;"]),Ua=Bt.c.div.withConfig({displayName:"PostBording__Internals",componentId:"sc-1h1ulo-15"})(["padding:2%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;@media only screen and (min-width:992px){padding:0%;}"]),Ja=Bt.c.div.withConfig({displayName:"PostBording__VideoWrapper",componentId:"sc-1h1ulo-16"})(["width:100%;border-radius:10%;display:flex;flex-direction:center;justify-content:center;align-items:center;"]),Ba=Bt.c.div.withConfig({displayName:"PostBording__Video",componentId:"sc-1h1ulo-17"})(["width:100%;padding:2%;border-radius:10%;display:flex;flex-direction:center;justify-content:center;align-items:center;align-self:center;@media only screen and (min-width:992px){width:50%;}"]),qa=Bt.c.div.withConfig({displayName:"PostBording__ButtonWrapper",componentId:"sc-1h1ulo-18"})(["width:90%;@media only screen and (min-width:992px){width:40%;}"]),Wa=Object(Bt.c)(gs.a).withConfig({displayName:"PostBording__Option",componentId:"sc-1h1ulo-19"})(["margin:2%;padding:4%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;&&{box-shadow:0px 2px 5px rgba(0,0,0,0.2);border-radius:10px;}"]),Va=Bt.c.img.withConfig({displayName:"PostBording__Image",componentId:"sc-1h1ulo-20"})(["animation:1.5s ",";margin:0px;"],Object(Bt.d)(vc||(vc=Object(G.a)(["",""])),fs.fadeIn)),Ya=Bt.c.div.withConfig({displayName:"PostBording__Text",componentId:"sc-1h1ulo-21"})(["animation:1.5s ",";text-align:center;font-family:Open Sans;"],Object(Bt.d)(wc||(wc=Object(G.a)(["",""])),fs.fadeIn)),Ha=Bt.c.h3.withConfig({displayName:"PostBording__Title",componentId:"sc-1h1ulo-22"})(["padding-left:4%;padding-right:4%;margin:1%;animation:1.5s ",";text-align:center;font-family:Open Sans;font-style:normal;font-weight:bold;text-align:center;color:#000000;@media only screen and (min-width:992px){text-align:center;font-size:1.1em;}"],Object(Bt.d)(Nc||(Nc=Object(G.a)(["",""])),fs.fadeIn)),Ga=Bt.c.span.withConfig({displayName:"PostBording__SubTitle",componentId:"sc-1h1ulo-23"})(["padding:5%;text-align:center;font-family:Open Sans;font-style:normal;font-size:1em;font-weight:600;font-size:14px;line-height:19px;letter-spacing:-0.432px;color:#979797;@media only screen and (min-width:992px){text-align:center;font-size:1.1em;padding:2%;}"]),$a=Bt.c.div.withConfig({displayName:"PostBording__Box",componentId:"sc-1h1ulo-24"})(["height:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;",""],(function(e){return e.col&&Object(Bt.b)(Sc||(Sc=Object(G.a)(["\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    "])))})),Ka=function(){var e=Object(U.nb)(),n=Object(U.jb)(),t=Object(R.a)(n,1)[0],s=Object(U.ob)(),i=Object(R.a)(s,1)[0],c=(Cc((function(e){return e.authComponentState})),Object(I.useState)(1)),a=Object(R.a)(c,2),o=a[0],r=a[1],l=Object(I.useState)(0),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(I.useState)(!0),h=Object(R.a)(b,2),m=h[0],p=h[1],O=Object(I.useState)(!1),x=Object(R.a)(O,1)[0],g=Object(I.useState)(!1),f=Object(R.a)(g,2),y=f[0],v=f[1],w=E.a.useState(null),N=Object(R.a)(w,2),S=N[0],k=N[1],z=E.a.useState(null),L=Object(R.a)(z,2),C=L[0],D=L[1],P=Object(I.useState)(!1),T=Object(R.a)(P,2),_=T[0],M=T[1],F=Object(I.useState)(""),J=Object(R.a)(F,2),q=J[0],W=J[1],V=Object(Hs.a)().t,Y=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/subTitleLanguages/list");case 2:return n=e.sent,e.next=5,n.data.filter((function(e){return e.languageName===S}));case 5:if(t=e.sent,"Korean"!==S){e.next=17;break}return e.next=9,Ee("/user/set-subtitleLanguage",{method:"POST",body:JSON.stringify({subTitleLanguageId:t[0]._id})});case 9:if(!(s=e.sent).error){e.next=15;break}return e.next=13,i("".concat(s.error),1e3);case 13:e.next=17;break;case 15:return e.next=17,i("".concat(s.message),1e3);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/changelevel/list");case 2:return n=e.sent,t=n.data.filter((function(e){return e.name===C})),e.next=6,Ee("/changelevel/update",{method:"POST",body:JSON.stringify({userLevelId:t[0]._id})});case 6:if(!(s=e.sent).error){e.next=12;break}return e.next=10,i("".concat(s.error),1e3);case 10:e.next=14;break;case 12:return e.next=14,i("".concat(s.message),1e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){1===o?e.push("/login"):o>1&&(u(Math.min(Q.length-1,j-1)),r(o-1))},K=function(){var n=Object(A.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:1===o?(Y(),u(Math.min(Q.length-1,j+1)),r(o+1),p(!0)):2===o?(G(),u(Math.min(Q.length-1,j+1)),r(o+1),D(null)):(v(!0),setTimeout((function(){e.push("/dashboard/lessons","forward")}),2e3));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Q=[{id:1,title:V("postbording.title1"),subTitle:V("postbording.subTitle1"),description:V("description1")},{id:2,title:V("postbording.title2"),title2:V("postbording.title2p2"),titleDesktop:V("postbording.titleDesktop"),description:V("description2")},{id:3,title:V("postbording.title3"),title2:V("postbording.title3p3"),description:V("description2")}],Z=function(e){!1===e?(H.removeNativeStorage("reminder"),M(!1),W(void 0),Nt.a.cancel({notifications:[{id:42}]})):e?ne():(H.removeNativeStorage("reminder"),W(void 0),Nt.a.cancel({notifications:[{id:42}]}))},ee=function(){var e=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(n.getTime()),e.next=3,Nt.a.schedule({notifications:[{id:42,title:"SpeakyPeaky",body:"20 mins a day = big gains in 3 months",schedule:{repeats:!0,every:"day",on:{hour:t.getHours(),minute:t.getMinutes()}},sound:null,attachments:null,actionTypeId:"",extra:null}]});case 3:s=e.sent,console.log("notify",s);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.a.show({date:new Date,mode:"time",androidTheme:St.a.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT});case 3:return n=e.sent,H.setNativeStorage("reminder",n.getTime()),e.next=7,ee(n);case 7:W(n.getTime().toString()),M(!0),t({header:"Reminder is set!",message:"Perfect. We will send you a nudge at <strong>"+"".concat(wt()(n).format("LT"))+"</strong> everyday",cssClass:"user-level-alert",buttons:["OK"]}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(U.rb)((function(){Nt.a.requestPermissions(),H.getNativeStorage("reminder").then((function(e){console.log("reminder",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&e.data&&(W(new Date(e.data).toString()),M(!0),ee(new Date(e.data)))}))})),Object(I.useEffect)((function(){H.getNativeStorage("reminder").then((function(e){null!==e&&void 0!==e&&e.data&&(W(new Date(e.data).toString()),M(!0),ee(new Date(e.data)))}))}),[x,_,q]),Object(B.jsx)(Sa,{children:y?Object(B.jsxs)(U.j,{style:{paddingTop:"10%"},size:"12",class:"ion-align-item-center ion-justify-content-center",children:[Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-margin-top ion-margin-bottom",children:Object(B.jsx)(U.j,{sizeXs:"7",sizeSm:"7",sizeLg:"2",sizeXl:"2",sizeMd:"2",className:"ion-align-self-center ion-text-center",children:Object(B.jsx)("img",{src:"./assets/images/loading.gif",alt:"loading",width:"75%"})})}),Object(B.jsx)(U.J,{className:"ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"4",sizeXl:"4",sizeMd:"6",className:"ion-text-center ion-align-self-center",children:Object(B.jsxs)("h1",{className:"on-boarding-text ion-padding-end",children:["Just a moment... ",Object(B.jsx)("br",{}),"while we\u2019re developing",Object(B.jsx)("br",{}),"your personalized lessons"]})})})]}):Object(B.jsxs)(ka,{children:[Object(B.jsx)(Ea,{children:Object(B.jsx)(us,{color:"secondary",size:"medium",direction:"left",onClick:$})}),Object(B.jsxs)(Da,{children:[Object(B.jsxs)(za,{children:[Object(B.jsx)(Ia,{onClick:$,children:Object(B.jsx)(ca.a,{})}),Object(B.jsxs)(Fa,{children:[V("postbording.question")," ",o," / ",3]})]}),Object(B.jsxs)(Ca,{children:[o<=2?Object(B.jsx)(Qa,{style:{height:"100%"},activeCard:j,cards:Q,t:V,formOne:S,formTwo:C,handleFormOne:function(e){k(e.currentTarget.getAttribute("value")),p(!1),"Korean"!=e.currentTarget.getAttribute("value")&&1!=e.currentTarget.getAttribute("value")&&t({cssClass:"startBoardingAlert",header:"Sorry, service in this language is coming soon...",buttons:[{text:"Okay",role:"cancel",cssClass:"startLessonBtn",handler:function(e){console.log("Confirm Cancel: blah")}}]})},handleFormTwo:function(e){D(e.currentTarget.getAttribute("value")),p(!1)}}):Object(B.jsxs)(Ua,{children:[Object(B.jsx)(Ha,{style:{paddingTop:"10%"},children:Q[j].title}),Object(B.jsx)(Ga,{children:Q[j].title2}),""===q||void 0===q?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-text-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"6",sizeMd:"7",sizeXl:"4",className:"ion-align-self-center"})}):Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"6",sizeMd:"7",sizeXl:"4",className:"ion-align-self-center ion-text-center ion-margin-top",children:Object(B.jsxs)("h3",{className:"ion-text-center ion-margin-bottom",children:["We will send you a nudge ",Object(B.jsx)("br",{}),"at ",Object(B.jsxs)("span",{className:"c-orange",children:[" ",wt()(q).format("LT")," "]})," everyday"]})})}),""===q||void 0===q?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"10",sizeSm:"10",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center ion-text-center",children:Object(B.jsxs)(U.t,{lines:"none",children:[Object(B.jsxs)(U.v,{color:"danger",children:["Yes, set a reminder. ",Object(B.jsx)("br",{}),Object(B.jsx)(U.S,{color:"medium",children:"(Push notification)"})]}),Object(B.jsx)(U.W,{checked:_,onIonChange:function(e){Z(e.detail.checked)},mode:"ios"})]})})}):Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"10",sizeSm:"10",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center ion-text-center",children:[Object(B.jsx)(U.t,{lines:"none",children:Object(B.jsx)(U.W,{mode:"ios",checked:_,onIonChange:function(e){Z(e.detail.checked)}})}),Object(B.jsx)("p",{style:{cursor:"pointer"},className:"c-orange ion-margin-top ion-text-center ion-align-self-center",onClick:ne,children:"Edit"})]})})]}),"Elementary"===C||"Intermediate"===C||"Advanced"===C?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top ion-margin-bottom",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"10","size-xl":"10","size-lg":"10",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{className:"ion-no-margin ion-align-items-center ion-justify-content-center",mode:"ios",children:Object(B.jsxs)(U.g,{children:["Cool, we'll recommend",Object(B.jsxs)(U.S,{color:"danger",children:[" ","Elementary"===C?"upper-beginner":"Intermediate"===C?"intermediate":"Advanced"===C?"advanced":""," ","lessons"," "]}),"for you. You can always change your level in settings."]})})})}):""]}),Object(B.jsx)(La,{children:Object(B.jsx)(qa,{children:Object(B.jsx)(Zt,{size:"medium",disabled:m,label:"Continue",color:"primary",onClick:K})})})]}),Object(B.jsx)(Ea,{children:Object(B.jsx)(us,{style:{opacity:"0%"},color:"secondary",size:"medium",direction:"left"})})]})})};function Qa(e){var n=e.activeCard,t=e.cards,s=e.t,i=e.formOne,c=e.formTwo,a=e.handleFormOne,o=e.handleFormTwo,r=Object(Jt.a)(e,Na),l=Object(I.useState)(i),d=Object(R.a)(l,2),j=d[0],u=d[1];return Object(I.useEffect)((function(){}),[j]),0===n?Object(I.createElement)(Ua,Object(_.a)(Object(_.a)({},r),{},{key:n}),Object(B.jsx)(Ha,{children:t[n].title}),Object(B.jsx)(Ga,{children:t[n].subTitle}),Object(B.jsxs)(_a,{children:[Object(B.jsxs)(Ra,{value:"Korean",style:1===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(1),a(e)},children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/korean-lg.svg"}),Object(B.jsx)(Ya,{children:s("postbording.q2o1")})]}),Object(B.jsxs)(Ra,{value:"Spanish",style:2===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(2),a(e)},children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/spanish-lg.svg"}),Object(B.jsx)(Ya,{children:s("postbording.q2o2")})]}),Object(B.jsxs)(Ra,{value:"Vietnamese",style:3===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(3),a(e)},children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/vietnamese-lg.svg"}),Object(B.jsx)(Ya,{children:s("postbording.q2o3")})]}),Object(B.jsxs)(Ra,{value:"Portuguese",style:4===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(4),a(e)},children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/portuguese-lg.svg"}),Object(B.jsx)(Ya,{children:s("postbording.q2o4")})]})]}),Object(B.jsx)(Ii.a,{component:"fieldset",children:Object(B.jsx)(va.a,{name:"formOne",value:i,onChange:a,children:Object(B.jsxs)(Ma,{children:[Object(B.jsxs)(Wa,{children:[Object(B.jsxs)($a,{children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/korean.svg"}),Object(B.jsx)(Ya,{style:{paddingLeft:"10px"},children:s("postbording.q2o1")})]}),Object(B.jsx)(wa.a,{label:"",value:"1",control:Object(B.jsx)(Xa,{})})]}),Object(B.jsxs)(Wa,{children:[Object(B.jsxs)($a,{children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/spanish.svg"}),Object(B.jsx)(Ya,{style:{paddingLeft:"10px"},children:s("postbording.q2o2")})]}),Object(B.jsx)(wa.a,{label:"",value:"2",control:Object(B.jsx)(Xa,{})})]}),Object(B.jsxs)(Wa,{children:[Object(B.jsxs)($a,{children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/vietnamese.svg"}),Object(B.jsx)(Ya,{style:{paddingLeft:"10px"},children:s("postbording.q2o3")})]}),Object(B.jsx)(wa.a,{label:"",value:"3",control:Object(B.jsx)(Xa,{})})]}),Object(B.jsxs)(Wa,{children:[Object(B.jsxs)($a,{children:[Object(B.jsx)(Va,{src:"/assets/images/postboarding/portuguese.svg"}),Object(B.jsx)(Ya,{style:{paddingLeft:"10px"},children:s("postbording.q2o4")})]}),Object(B.jsx)(wa.a,{label:"",value:"4",control:Object(B.jsx)(Xa,{})})]})]})})})):1===n?Object(I.createElement)(Ua,Object(_.a)(Object(_.a)({},r),{},{key:n}),Object(B.jsxs)(Pa,{children:[Object(B.jsx)(Ha,{children:t[n].title}),Object(B.jsx)(Ha,{children:t[n].title2})]}),Object(B.jsx)(Ta,{children:Object(B.jsx)(Ha,{children:t[n].titleDesktop})}),Object(B.jsx)(Ja,{children:Object(B.jsx)(Ba,{children:Object(B.jsx)(I.Suspense,{fallback:Object(B.jsx)("div",{children:"Loading..."}),children:Object(B.jsx)(fa.a,{style:{borderRadius:"16px"},width:"100%",height:"30vh",playing:!0,controls:!1,light:"/assets/images/postboarding/thumbnail.png",playIcon:Object(B.jsx)("img",{src:"/assets/images/postboarding/play.svg",alt:"play"}),url:"https://www.youtube.com/watch?v=v6zPVKXSSWc"})})})}),Object(B.jsxs)(Aa,{children:[Object(B.jsx)(Ra,{value:"Elementary",style:5===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(5),o(e)},children:Object(B.jsx)(Ya,{children:s("postbording.q1o1")})}),Object(B.jsx)(Ra,{value:"Intermediate",style:6===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(6),o(e)},children:Object(B.jsx)(Ya,{children:s("postbording.q1o2")})}),Object(B.jsx)(Ra,{value:"Advanced",style:7===j?{boxShadow:"0px 0px 0px 2px #E22D2D"}:{},onClick:function(e){u(7),o(e)},children:Object(B.jsx)(Ya,{children:s("postbording.q1o3")})})]}),Object(B.jsx)(Ii.a,{component:"fieldset",children:Object(B.jsx)(va.a,{name:"formTwo",value:c,onChange:o,children:Object(B.jsxs)(Ma,{children:[Object(B.jsxs)(Wa,{children:[Object(B.jsx)(Ya,{children:s("postbording.q1o1")}),Object(B.jsx)(wa.a,{label:"",value:"1",control:Object(B.jsx)(Xa,{})})]}),Object(B.jsxs)(Wa,{children:[Object(B.jsx)(Ya,{children:s("postbording.q1o2")}),Object(B.jsx)(wa.a,{label:"",value:"2",control:Object(B.jsx)(Xa,{})})]}),Object(B.jsxs)(Wa,{children:[Object(B.jsx)(Ya,{children:s("postbording.q1o3")}),Object(B.jsx)(wa.a,{label:"",value:"3",control:Object(B.jsx)(Xa,{})})]})]})})})):void 0}var Za,eo,no=function(){return Object(B.jsx)(Gs.a,{theme:Ks,children:Object(B.jsx)(I.Suspense,{fallback:Object(B.jsx)(U.O,{}),children:Object(B.jsx)(U.A,{children:Object(B.jsx)(U.k,{children:Object(B.jsx)(Ka,{})})})})})},to=t(775),so=t(368),io=t(779),co=t(379),ao=t(774),oo=t(353),ro=t(352),lo=t(115),jo=Object($.a)(Za||(Za=Object(G.a)(["\n  extend type Query {\n    currentLessonId: String\n    dictation(lessonId: Int!, sceneIdx: Int!): String\n  }\n  extend type Mutation {\n    updateDictation(id: ID!): String\n  }\n  extend type WordNoteCursorPage {\n    hasMore: Boolean\n  }\n  extend type LessonCursorPage {\n    hasMore: Boolean\n  }\n  extend type Lesson {\n    videoLevelLabel: String\n  }\n  extend type Course {\n    videoLevelLabel: String\n  }\n"]))),uo=Object(lo.c)(null),bo=Object(lo.c)({}),ho=Object(lo.c)({}),mo={Query:{fields:{currentLessonId:{read:function(e,n){var t=n.variables;return t.id?t.id:uo()}},dictation:{read:function(e,n){var t=n.variables;console.log({variables:t});var s=t.sceneIdx,i=uo();return bo()["".concat(i,":").concat(s)]||""}},records:{read:function(e,n){var t=n.variables;console.log({variables:t});var s=t.sceneIdx,i=uo();return ho()["".concat(i,":").concat(s)]||[]}},moreNotes:{merge:function(e,n,t){var s=t.readField,i=t.args,c=i.cursor&&e?Object(_.a)({},e.nodes):{};return n.nodes.forEach((function(e){var n=s("_id",e);c[n]=e})),{cursor:n.cursor,hasMore:n.nodes.length===i.size,nodes:c}},read:function(e){if(e)return{cursor:e.cursor,hasMore:e.hasMore,nodes:Object.values(e.nodes)}}},moreCompletedLessons:{merge:function(e,n,t){var s=t.readField,i=t.args,c=i.cursor&&e?Object(_.a)({},e.nodes):{};return n.nodes.forEach((function(e){var n=s("_id",e);c[n]=e})),{cursor:n.cursor,hasMore:n.nodes.length===i.size,nodes:c}},read:function(e){if(e)return{cursor:e.cursor,hasMore:e.hasMore,nodes:Object.values(e.nodes)}}}}},Mutation:{fields:{updateDictation:{read:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("read",n)},merge:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("merge",n)}}}},LessonProgress:{fields:{datetimes:{read:function(e){return e.map((function(e){return new Date(e)}))}}}},User:{fields:{}},Lesson:{fields:{videoLevelLabel:{read:function(e,n){var t=(0,n.readField)("videoLevel");return po[t]}}}},Course:{fields:{videoLevelLabel:{read:function(e,n){var t=(0,n.readField)("videoLevel");return po[t]}}}}},po=(eo={},Object(wi.a)(eo,C.UpperBeginner,"Upper-beginner"),Object(wi.a)(eo,C.Intermediate,"Intermediate"),Object(wi.a)(eo,C.Advanced,"Advanced"),eo);function Oo(e){return xo.apply(this,arguments)}function xo(){return(xo=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get({key:n});case 2:return t=e.sent,(s=JSON.parse(t.value))||(s={data:null}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var go=Object(ro.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.map((function(e){var n=e.message,t=e.locations,s=e.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(s))})),t&&console.log("[Network error]: ".concat(t))})),fo=Object(so.a)({uri:"https://api.speakypeaky.com/graphql"}),yo=Object(oo.a)(function(){var e=Object(A.a)(X.a.mark((function e(n,t){var s,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.headers,e.next=3,Oo("token");case 3:return i=e.sent,e.abrupt("return",{headers:Object(_.a)(Object(_.a)({},s),{},{authorization:null!==i&&void 0!==i&&i.data?i.data:""})});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),vo=new io.a({typePolicies:mo}),wo=new co.a({link:Object(ao.a)([yo,go,fo]),cache:vo,typeDefs:jo}),No={UpperBeginner:"Upper Beginner","Upper-beginner":"Upper Beginner",Elementary:"Upper Beginner",Intermediate:"Intermediate",Advanced:"Advanced"},So=(t(550),Object(hn.a)("MMM d, y"));function ko(e){var n,t=e.course,s=Object(F.e)(),i=E.a.useState(!1),c=Object(R.a)(i,2),a=c[0],o=c[1];return Object(B.jsx)(U.J,{className:"course pointer ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",className:"ion-padding-top ion-align-self-center",children:[Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{sizeXs:"5",sizeSm:"5",sizeMd:"3",sizeLg:"3",sizeXl:"2",children:Object(B.jsx)(U.U,{children:Object(B.jsx)(U.p,{src:(n=t.youtubeId,"https://img.youtube.com/vi/".concat(n,"/mqdefault.jpg"))})})}),Object(B.jsx)(U.j,{className:"ion-padding-start",sizeXs:"7",sizeSm:"7",sizeMd:"9",sizeLg:"9",sizeXl:"10",children:Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t.title||t.introduction}),Object(B.jsx)("p",{id:"scenes-count",children:Object(B.jsxs)(U.S,{children:[t.subLessons.length," Episode",t.subLessons.length>1&&"s"]})}),Object(B.jsxs)(U.J,{onClick:function(){return o((function(e){return!e}))},className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"10",className:"ion-no-padding ion-align-self-center",children:Object(B.jsx)(U.S,{color:"medium c-orange",id:"tags",children:t.tags})}),Object(B.jsx)(U.j,{size:"2",className:"ion-no-padding ion-text-center ion-align-self-center collapsible-icon",children:Object(B.jsx)(U.o,{color:"medium",mode:"ios",icon:a?Ce.h:Ce.f})})]})]})})]}),Object(B.jsx)(U.J,{className:"expand-wrapper ".concat(a?"":"collapsed"),children:Object(B.jsx)(U.j,{children:t.subLessons.map((function(e,n){var t;return Object(B.jsxs)(U.J,{className:"subLesson",onClick:function(){return s.push("/lesson-details/".concat(e._id))},children:[Object(B.jsx)(U.j,{id:"lesson-name",size:"8",children:Object(B.jsx)("p",{id:"sub-lessons",children:"".concat(e.lessonName)})}),Object(B.jsx)(U.j,{className:"ion-padding-top studied-date",size:"4",children:(null===(t=e.completedLesson)||void 0===t?void 0:t.createdAt)&&Object(B.jsx)("span",{children:So(new Date(e.completedLesson.createdAt))})})]},e._id)}))})})]})})}function zo(){return Object(B.jsx)(U.J,{className:"course ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",className:"ion-no-padding ion-align-self-center",children:Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{sizeXs:"5",sizeSm:"5",sizeMd:"3",sizeLg:"3",sizeXl:"2",children:Object(B.jsx)(U.U,{children:Object(B.jsx)(U.p,{src:"/assets/images/thumbnail-youtube.jpg"})})}),Object(B.jsx)(U.j,{sizeXs:"7",sizeSm:"7",sizeMd:"9",sizeLg:"9",sizeXl:"10",children:Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}})}),Object(B.jsx)("p",{id:"scenes-count",children:Object(B.jsx)(U.S,{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})})}),Object(B.jsxs)("p",{id:"tags",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"70%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})]})]})})]})})})}function Lo(){return Lo=Object(A.a)(X.a.mark((function e(){var n,t,s,i,c=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:1,t=c.length>1?c[1]:void 0,s=c.length>2?c[2]:void 0,e.next=5,Ee("/lesson/course-list/".concat(n),{method:"POST",body:JSON.stringify({videoLevel:t,lessonTopicId:s})});case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Co(e){var n=e.level,t=e.topicId,s=Ie.useInfiniteQuery(["searchLessons",n,t],(function(e){var s=e.pageParam;return function(){return Lo.apply(this,arguments)}(void 0===s?1:s,function(e){return"upper-beginner"===e.toLocaleLowerCase()?"Elementary":e}(n),t)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1}}),i=s.error,c=s.data,a=s.isLoading,o=s.fetchNextPage,r=s.hasNextPage,l=(s.isFetching,s.isFetchingNextPage);s.status;if(i)return Object(B.jsx)("div",{children:"Error!"});var d=(null===c||void 0===c?void 0:c.pages)||[];return Object(B.jsxs)(B.Fragment,{children:[d.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsx)(ko,{course:e},e._id)}))},n)})),a&&Object(B.jsx)(U.J,{children:Object(B.jsxs)(U.j,{className:"ion-no-padding",children:[Object(B.jsx)(zo,{}),Object(B.jsx)(zo,{}),Object(B.jsx)(zo,{})]})}),Object(B.jsx)(U.q,{disabled:!r||l,onIonInfinite:function(e){o().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})}function Io(){var e=Object(F.f)().topicId,n=E.a.useState("Upper-Beginner"),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Ie.useQuery("suggested-curriculum",Pe),a=c.isLoading,o=c.data,r=c.error;if(a)return Object(B.jsxs)(U.A,{className:"search-list",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/library",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{children:Object(B.jsx)(U.C,{type:"indeterminate"})})]});if(r)return Object(B.jsx)("div",{children:"Error..."});var l=o.find((function(n){return n.lessonTopicId===e}));return Object(B.jsxs)(U.A,{className:"search-list",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/library",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:l.title})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-no-padding",children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",className:"ion-no-padding ion-align-self-center",children:Object(B.jsxs)(U.L,{mode:"md",color:"danger",value:s,onIonChange:function(e){return i(e.detail.value)},children:[Object(B.jsx)(U.M,{value:"Upper-Beginner",children:Object(B.jsx)(U.v,{children:"Upper-Beginner"})}),Object(B.jsx)(U.M,{value:"Intermediate",children:Object(B.jsx)(U.v,{children:"Intermediate"})}),Object(B.jsx)(U.M,{value:"Advanced",children:Object(B.jsx)(U.v,{children:"Advanced"})})]})})}),Object(B.jsx)("div",{className:"ion-padding-top",children:Object(B.jsx)(Co,{topicId:l.lessonTopicId,level:s},"".concat(l.lessonTopicId,"-").concat(s))})]})})]})}t(551);var Eo=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},Do=function(){return Object(B.jsxs)(U.t,{lines:"none",mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:"../../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)("h2",{className:"ion-text-wrap",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"75%"}})]}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})},Po=function(e){var n,t=e.id,s=e.title,i=e.youtubeId,c=e.episodeCount,a=e.videoLevel;return Object(B.jsxs)(U.t,{lines:"none",routerLink:"/course-details/".concat(t,"/myCourse"),mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:Eo(i)})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:s}),Object(B.jsxs)(U.S,{color:"medium",children:[Object(B.jsx)("p",{children:c}),Object(B.jsx)("p",{children:(n=a,No[n])})]})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})};function To(){return _o.apply(this,arguments)}function _o(){return(_o=Object(A.a)(X.a.mark((function e(){var n,t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee("/lesson/my-course");case 2:return n=e.sent,e.next=5,Ee("/lesson/completedLessons");case 5:return t=e.sent,s=n.data.filter((function(e){if(e.subLessons.some((function(e){return!t.data.some((function(n){return n.lessonId.includes(e.lessonId)}))})))return e})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(){var e=Ie.useQuery("my-cources",To,{refetchInterval:20}),n=e.isLoading,t=e.data;return e.error?Object(B.jsx)("div",{children:"Error..."}):Object(B.jsxs)(U.A,{className:"my-courses",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"My Unfinished Courses"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding",children:Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:n?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)(Do,{}),Object(B.jsx)(Do,{}),Object(B.jsx)(Do,{}),Object(B.jsx)(Do,{}),Object(B.jsx)(Do,{})]}):Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:t.map((function(e){return Object(B.jsx)(Po,{id:e._id,youtubeId:e.youtubeId,title:e.title||e.introduction,episodeCount:e.topicDetails.title,videoLevel:e.videoLevel},e._id)}))})})})})})]})}t(163);var Ro=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},Mo=function(e){var n=e.id,t=e.title,s=e.youtubeId,i=e.videoLevel;return Object(B.jsxs)(U.t,{routerLink:"/lesson-details/".concat(n),mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:Ro(s)})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t}),"Elementary"===i?Object(B.jsx)("p",{children:"Upper-beginner"}):Object(B.jsx)("p",{children:i})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})};function Xo(){return Object(B.jsxs)(U.t,{mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:"../../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)("h2",{className:"ion-text-wrap",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"75%"}})]}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})}function Fo(){return Fo=Object(A.a)(X.a.mark((function e(){var n,t,s=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,e.next=3,Ee("/lesson/popularLessons/".concat(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(){var e=Ie.useInfiniteQuery(["popularLessons"],(function(e){var n=e.pageParam;return function(){return Fo.apply(this,arguments)}(void 0===n?1:n)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1}}),n=e.error,t=e.data,s=e.isLoading,i=e.fetchNextPage,c=e.hasNextPage,a=(e.isFetching,e.isFetchingNextPage);e.status;if(n)return Object(B.jsx)("div",{children:"Error!"});var o=(null===t||void 0===t?void 0:t.pages)||[];return Object(B.jsxs)(U.A,{className:"popular-lessons-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Popular Lessons"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:s?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)(Xo,{}),Object(B.jsx)(Xo,{}),Object(B.jsx)(Xo,{}),Object(B.jsx)(Xo,{}),Object(B.jsx)(Xo,{})]}):Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:o.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsx)(Mo,{id:e.subLessonId,title:e.lessonName,videoLevel:e.videoLevel,youtubeId:e.youtubeId},e._id)}))},n)}))})})})}),Object(B.jsx)(U.q,{disabled:!c||a,onIonInfinite:function(e){i().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})]})}var Jo=["Weekend","Monday","Tuesday","Wednesday","Thursday","Friday","Weekend"],Bo=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},qo=function(e){var n=e.id,t=e.title,s=e.youtubeId,i=e.videoLevel;return Object(B.jsxs)(U.t,{routerLink:"/lesson-details/".concat(n),mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:Bo(s)})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t}),Object(B.jsx)("p",{children:i})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})};function Wo(){return Object(B.jsxs)(U.t,{mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:"../../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)("h2",{className:"ion-text-wrap",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"75%"}})]}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})}function Vo(){return Vo=Object(A.a)(X.a.mark((function e(){var n,t,s,i,c=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:1,t=c.length>1?c[1]:void 0,s=c.length>2?c[2]:void 0,e.next=5,Ee("/lesson/get-newUploadLessons/".concat(n),{method:"POST",body:JSON.stringify({videoLevel:t,day:s})});case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Yo(){var e=se().data.profile,n=Jo[(new Date).getDay()],t=Ie.useInfiniteQuery(["newUploads"],(function(t){var s=t.pageParam;return function(){return Vo.apply(this,arguments)}(void 0===s?1:s,e.userLevelName,n)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1}}),s=t.error,i=t.data,c=t.isLoading,a=t.fetchNextPage,o=t.hasNextPage,r=(t.isFetching,t.isFetchingNextPage);t.status;if(s)return Object(B.jsx)("div",{children:"Error!"});var l=(null===i||void 0===i?void 0:i.pages)||[];return Object(B.jsxs)(U.A,{className:"popular-lessons-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"New Uploads"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:c?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)(Wo,{}),Object(B.jsx)(Wo,{}),Object(B.jsx)(Wo,{}),Object(B.jsx)(Wo,{}),Object(B.jsx)(Wo,{})]}):Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:l.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsx)(qo,{id:e.subLessonId,title:e.lessonName,videoLevel:e.videoLevel,youtubeId:e.youtubeId},e._id)}))},n)}))})})})}),Object(B.jsx)(U.q,{disabled:!o||r,onIonInfinite:function(e){a().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})]})}var Ho=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},Go=function(e){var n=e.id,t=e.title,s=e.youtubeId,i=e.videoLevel;return Object(B.jsxs)(U.t,{routerLink:"/lesson-details/".concat(n),mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:Ho(s)})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t}),Object(B.jsx)("p",{children:i})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})};function $o(){return Object(B.jsxs)(U.t,{mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:"../../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)("h2",{className:"ion-text-wrap",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"75%"}})]}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})}function Ko(){return Ko=Object(A.a)(X.a.mark((function e(){var n,t,s=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,e.next=3,Ee("/lesson/savedLessons/".concat(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Qo(){var e=Ie.useInfiniteQuery(["savedLessons"],(function(e){var n=e.pageParam;return function(){return Ko.apply(this,arguments)}(void 0===n?1:n)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1}}),n=e.error,t=e.data,s=e.isLoading,i=e.fetchNextPage,c=e.hasNextPage,a=(e.isFetching,e.isFetchingNextPage);e.status;if(n)return Object(B.jsx)("div",{children:"Error!"});var o=(null===t||void 0===t?void 0:t.pages)||[];return Object(B.jsxs)(U.A,{className:"popular-lessons-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin ion-padding-bottom",children:Object(B.jsx)("strong",{children:"My Saved Lessons"})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:s?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)($o,{}),Object(B.jsx)($o,{}),Object(B.jsx)($o,{}),Object(B.jsx)($o,{}),Object(B.jsx)($o,{})]}):Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:o.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsx)(Go,{id:e.subLessonId,title:e.lessonName,videoLevel:e.videoLevel,youtubeId:e.youtubeId},e._id)}))},n)}))})})})]}),Object(B.jsx)(U.q,{disabled:!c||a,onIonInfinite:function(e){i().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})]})}var Zo=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},er=function(e){var n=e.id,t=e.title,s=e.youtubeId,i=e.videoLevel;return Object(B.jsxs)(U.t,{routerLink:"/lesson-details/".concat(n,"/false/true"),mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:Zo(s)})}),Object(B.jsxs)(U.v,{children:[Object(B.jsx)("h2",{className:"ion-text-wrap",children:t}),Object(B.jsx)("p",{children:i})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})};function nr(){return Object(B.jsxs)(U.t,{mode:"md",children:[Object(B.jsx)(U.U,{slot:"start",children:Object(B.jsx)(U.p,{src:"../../../../assets/images/thumbnail-youtube.jpg"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)("h2",{className:"ion-text-wrap",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"90%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"75%"}})]}),Object(B.jsx)("p",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"60%"}})})]}),Object(B.jsx)(U.o,{mode:"ios",name:"chevron-forward",slot:"end"})]})}function tr(){return tr=Object(A.a)(X.a.mark((function e(){var n,t,s=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,e.next=3,Ee("/lesson/drafted-lessons/".concat(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function sr(){var e=Ie.useInfiniteQuery(["draftedLessons"],(function(e){var n=e.pageParam;return function(){return tr.apply(this,arguments)}(void 0===n?1:n)}),{getNextPageParam:function(e,n){if(e.length>=10)return n.length+1}}),n=e.error,t=e.data,s=e.isLoading,i=e.fetchNextPage,c=e.hasNextPage,a=(e.isFetching,e.isFetchingNextPage);e.status;if(n)return Object(B.jsx)("div",{children:"Error!"});var o=(null===t||void 0===t?void 0:t.pages)||[];return Object(B.jsxs)(U.A,{className:"popular-lessons-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"md",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{className:"ion-padding",children:[Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin",children:Object(B.jsx)("strong",{children:"Draft Lessons"})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"9",children:s?Object(B.jsxs)(U.w,{mode:"md",className:"ion-no-padding",children:[Object(B.jsx)(nr,{}),Object(B.jsx)(nr,{}),Object(B.jsx)(nr,{}),Object(B.jsx)(nr,{}),Object(B.jsx)(nr,{})]}):Object(B.jsx)(U.w,{mode:"md",className:"ion-no-padding",children:o.map((function(e,n){return Object(B.jsx)(E.a.Fragment,{children:e.map((function(e){return Object(B.jsx)(er,{id:e.subLessonId,title:e.lessonName,videoLevel:e.videoLevel,youtubeId:e.youtubeId},e._id)}))},n)}))})})})]}),Object(B.jsx)(U.q,{disabled:!c||a,onIonInfinite:function(e){i().finally((function(){e.target.complete()}))},threshold:"200px",children:Object(B.jsx)(U.r,{children:Object(B.jsx)(U.O,{})})})]})]})}var ir=t(354),cr=t(59);t(552);window.React=I;var ar=Object(hn.a)("MMM d, y"),or=fn.c.Keyboard;function rr(e){var n=e.comment,t=e.onPresentCommentActionsPopover;return Object(B.jsxs)(U.t,{lines:"none",className:"comment ion-no-padding pointer",children:[Object(B.jsx)(U.c,{slot:"start",className:"reply-avatar",children:Object(B.jsx)("img",{src:(null===n||void 0===n?void 0:n.userProfile)||"../../../assets/images/defaultProfile.svg",alt:"user profile"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)(U.S,{className:"comment-user",children:[n.userName," . ",ar(new Date(n.createdAt))]}),Object(B.jsxs)("p",{className:"comment-description",children:[n.reply,n.isOwner&&Object(B.jsx)("span",{className:"ion-float-right",onClick:function(e){return t(e,n)},children:Object(B.jsx)(U.o,{icon:Ce.m})})]})]})]})}function lr(e){var n=e.comment;return Object(B.jsxs)(U.t,{lines:"none",className:"comment ion-no-padding pointer",children:[Object(B.jsx)(U.c,{slot:"start",children:Object(B.jsx)("img",{src:(null===n||void 0===n?void 0:n.userProfile)||"../../../assets/images/defaultProfile.svg",alt:"user profile"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)(U.S,{className:"comment-user",children:[n.userName," . ",ar(new Date(n.createdAt))]}),Object(B.jsx)("p",{className:"comment-description",children:Object(B.jsx)("span",{children:n.comment})})]})]})}function dr(e){var n=e.comment,t=e.isComment,s=e.isReply,i=e.onPresentCommentRepliesModal,c=e.onDisLikeComment,a=e.onPresentCommentActionsPopover,o=e.onLikeComment;function r(e,n){e.persist(),a(e,n)}return Object(B.jsxs)(U.t,{lines:"none",className:"comment ion-no-padding pointer",children:[Object(B.jsx)(U.c,{slot:"start",className:Object(sn.a)(!t),children:Object(B.jsx)("img",{src:(null===n||void 0===n?void 0:n.userProfile)||"../../../assets/images/defaultProfile.svg",alt:"user profile"})}),Object(B.jsxs)(U.v,{children:[Object(B.jsxs)(U.S,{className:"comment-user",children:[n.userName," . ",ar(new Date(n.createdAt))]}),t?Object(B.jsxs)("p",{className:"comment-description",children:[Object(B.jsx)("span",{onClick:function(){return i(n)},children:n.comment}),n.isOwner&&!t&&s&&Object(B.jsx)("span",{className:"ion-float-right",onClick:function(e){return r(e,n)},children:Object(B.jsx)(U.o,{icon:Ce.m})})]}):Object(B.jsxs)("p",{className:"comment-description",children:[n.reply,n.isOwner&&!t&&s&&Object(B.jsx)("span",{className:"ion-float-right",onClick:function(e){return r(e,n)},children:Object(B.jsx)(U.o,{icon:Ce.m})})]}),t&&s&&Object(B.jsxs)("p",{children:[Object(B.jsxs)("span",{className:"comment-like",onClick:function(e){return o(n)},children:[Object(B.jsx)(U.p,{src:n.isCurrentUserlike?"/assets/images/thumb-up-filled.png":"/assets/images/thumb-up.png"}),Object(B.jsx)(U.S,{children:n.totalLike})]}),Object(B.jsxs)("span",{className:"comment-disLike",onClick:function(e){return c(n)},children:[Object(B.jsx)(U.p,{src:n.isCurrentUserDislike?"/assets/images/thumb-down-filled.png":"/assets/images/thumb-down.png"}),Object(B.jsx)(U.S,{children:n.totalDislike})]}),Object(B.jsxs)("span",{onClick:function(){return i(n)},children:[Object(B.jsx)(U.p,{src:"/assets/images/black-bubble.png"}),Object(B.jsx)(U.S,{children:n.totalReply})]}),n.isOwner&&Object(B.jsx)("span",{className:"ion-float-right pointer",onClick:function(e){return r(e,n)},children:Object(B.jsx)(U.o,{icon:Ce.m})})]}),n.totalReply>0&&t&&s&&Object(B.jsxs)("p",{className:"view-replies c-orange",onClick:function(){return i(n)},children:["VIEW ",n.totalReply," REPLIES"]})]})]})}function jr(e){return ur.apply(this,arguments)}function ur(){return(ur=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("ion-toast")).message=n,t.duration=500,document.body.appendChild(t),e.abrupt("return",t.present());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(e){var n=e.comment,t=e.lessonId,s=e.subLessonId,i=e.onDismiss,c=e.profile,a=I.useState(""),o=Object(R.a)(a,2),r=o[0],l=o[1],d=I.useState(1),j=Object(R.a)(d,2),u=j[0],b=j[1],h=I.useState([]),m=Object(R.a)(h,2),p=m[0],O=m[1],x=I.useState(!1),g=Object(R.a)(x,2),f=g[0],y=g[1],v=I.useState(null),w=Object(R.a)(v,2),N=w[0],S=w[1],k=I.useState(),z=Object(R.a)(k,2),L=z[0],C=z[1],E=n._id,D=I.useState(),P=Object(R.a)(D,2),T=P[0],_=P[1],M=I.useState(),F=Object(R.a)(M,2),J=F[0],q=F[1],W=Object(cr.c)("/comments/reply-list"),V=W.post,Y=W.response;W.loading;function H(){return G.apply(this,arguments)}function G(){return(G=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/".concat(u),{commentId:E});case 2:n=e.sent,Y.ok&&(n.total<=u&&y(!0),O(1===u?Object(Lt.a)(n.data):function(e){return[].concat(Object(Lt.a)(e),Object(Lt.a)(n.data))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I.useEffect((function(){H()}),[u]);var $=Object(cr.c)("/comments/user/reply"),K=$.post,Q=$.loading,Z=Object(cr.c)("/comments/reply-delete"),ee=Z.post;Z.loading;function ne(){return te.apply(this,arguments)}function te(){return(te=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(1),y(!1),H();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r&&""!==r.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,K({lessonId:t,subLessonId:s,commentId:E,reply:r.trim()});case 5:return(n=e.sent).message&&jr(n.message),Object(U.hb)("capacitor")&&or.hide(),e.next=10,ne();case 10:l(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function ie(){return(ie=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==T){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ee({replyId:null===T||void 0===T?void 0:T._id});case 5:return(n=e.sent).message&&jr(n.message),e.next=9,ne();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}I.useEffect((function(){N&&(N.target.complete(),S(null))}),[N,S]);var ce=Q;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.n,{children:Object(B.jsxs)(U.X,{children:[Object(B.jsx)(U.V,{children:"Replies"}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:i,children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",icon:Ce.i})})})]})}),Object(B.jsxs)(U.k,{children:[Object(B.jsx)(U.x,{isOpen:ce,message:"Please wait..."}),Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{children:Object(B.jsx)(U.j,{children:Object(B.jsx)(lr,{comment:n})})}),Object(B.jsx)(Or,{comment:r,placeholder:"Add a reply",onCommentChange:function(e){return l(e.detail.value)},profile:c,onSubmit:function(){return se.apply(this,arguments)}}),Object(B.jsx)(U.J,{className:"ml-16",children:Object(B.jsx)(U.j,{children:p.map((function(e,n){return Object(B.jsx)(rr,{comment:e,onPresentCommentActionsPopover:function(e,n){e.persist(),q({event:e,comment:n})}},n)}))})})]}),Object(B.jsx)(U.q,{threshold:"100px",disabled:f,onIonInfinite:function(e){b((function(e){return e+1})),S(e)},children:Object(B.jsx)(U.r,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)(U.O,{name:"crescent"})})})})]}),Object(B.jsx)(U.B,{isOpen:!!J,event:null===J||void 0===J?void 0:J.event,mode:"md",onDidDismiss:function(){return q(null)},children:Object(B.jsxs)(U.w,{lines:"none",children:[Object(B.jsx)(U.t,{onClick:function(){q(null),C(null===J||void 0===J?void 0:J.comment)},children:Object(B.jsx)(U.v,{children:"Edit"})}),Object(B.jsx)(U.t,{onClick:function(){q(null),_(null===J||void 0===J?void 0:J.comment)},children:Object(B.jsx)(U.v,{children:"Delete"})})]})}),Object(B.jsx)(U.a,{isOpen:!!T,onDidDismiss:function(){return _(null)},header:"Delete reply",message:"Delete your reply permanently?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Delete",handler:function(){return ie.apply(this,arguments)}}]}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!L,cssClass:"comment-replies-modal",onWillDismiss:function(){return C(void 0)},children:L&&Object(B.jsx)(hr,{profile:c,reply:L,onDismiss:function(){C(void 0),ne()}})})]})}function hr(e){var n=e.reply,t=e.onDismiss,s=e.profile,i=I.useState(n.reply),c=Object(R.a)(i,2),a=c[0],o=c[1],r=I.useState(null),l=Object(R.a)(r,2),d=l[0],j=l[1],u=Object(cr.c)("/comments/reply-edit"),b=u.post,h=u.loading;function m(){return(m=Object(A.a)(X.a.mark((function e(){var s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a&&""!==a.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b({replyId:n._id,reply:a.trim()});case 5:(s=e.sent).message&&jr(s.message),Object(U.hb)("capacitor")&&or.hide(),o(""),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}I.useEffect((function(){d&&(d.target.complete(),j(null))}),[d,j]);var p=h;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.n,{children:Object(B.jsxs)(U.X,{children:[Object(B.jsx)(U.V,{children:"Edit Reply"}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:t,children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",icon:Ce.i})})})]})}),Object(B.jsxs)(U.k,{children:[Object(B.jsx)(U.x,{isOpen:p,message:"Please wait..."}),Object(B.jsx)(U.m,{children:Object(B.jsx)(Or,{comment:a,placeholder:"Edit a reply",onCommentChange:function(e){return o(e.detail.value)},profile:s,onSubmit:function(){return m.apply(this,arguments)}})})]})]})}function mr(e){var n=e.comment,t=e.onDismiss,s=e.profile,i=I.useState(n.comment),c=Object(R.a)(i,2),a=c[0],o=c[1],r=I.useState(null),l=Object(R.a)(r,2),d=l[0],j=l[1],u=Object(cr.c)("/comments/edit"),b=u.post,h=u.loading;function m(){return(m=Object(A.a)(X.a.mark((function e(){var s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==a&&""!==a.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b({commentId:n._id,comment:a.trim()});case 5:(s=e.sent).message&&jr(s.message),Object(U.hb)("capacitor")&&or.hide(),o(""),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}I.useEffect((function(){d&&(d.target.complete(),j(null))}),[d,j]);var p=h;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.n,{children:Object(B.jsxs)(U.X,{children:[Object(B.jsx)(U.V,{children:"Edit Comment"}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:t,children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",icon:Ce.i})})})]})}),Object(B.jsxs)(U.k,{children:[Object(B.jsx)(U.x,{isOpen:p,message:"Please wait..."}),Object(B.jsx)(U.m,{children:Object(B.jsx)(Or,{comment:a,placeholder:"Edit a comment",onCommentChange:function(e){return o(e.detail.value)},profile:s,onSubmit:function(){return m.apply(this,arguments)}})})]})]})}function pr(e){var n=e.lessonId,t=e.subLessonId,s=e.profile,i=I.useState(),c=Object(R.a)(i,2),a=c[0],o=c[1],r=I.useState(),l=Object(R.a)(r,2),d=l[0],j=l[1],u=I.useState(),b=Object(R.a)(u,2),h=b[0],m=b[1],p=I.useState(),O=Object(R.a)(p,2),x=O[0],g=O[1],f=I.useState(""),y=Object(R.a)(f,2),v=y[0],w=y[1],N=I.useState(1),S=Object(R.a)(N,2),k=S[0],z=S[1],L=I.useState(!1),C=Object(R.a)(L,2),E=C[0],D=C[1],P=I.useState(null),T=Object(R.a)(P,2),_=T[0],M=T[1],F=I.useState(0),J=Object(R.a)(F,2),q=J[0],W=J[1],V=I.useState({data:[],loading:!0}),Y=Object(R.a)(V,2),H=Y[0],G=H.data,$=void 0===G?[]:G,K=(H.loading,Y[1]),Q=Object(cr.c)("/comments/user/save"),Z=Q.post,ee=Q.loading,ne=Object(cr.c)("/comments/user/like"),te=ne.post,se=ne.loading,ie=Object(cr.c)("/comments/user/dislike"),ce=ie.post,ae=ie.loading,oe=Object(cr.c)("/comments/delete"),re=oe.post,le=oe.loading,de=Object(cr.c)("/comments/list").post;function je(){D(!1),z(1),W(+new Date)}function ue(e){return be.apply(this,arguments)}function be(){return be=Object(A.a)(X.a.mark((function e(s){var i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te({lessonId:n,subLessonId:t,commentId:s._id});case 3:(i=e.sent).message&&jr(i.message),je(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),be.apply(this,arguments)}function he(e){return me.apply(this,arguments)}function me(){return me=Object(A.a)(X.a.mark((function e(s){var i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce({lessonId:n,subLessonId:t,commentId:s._id});case 3:(i=e.sent).message&&jr(i.message),je(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),me.apply(this,arguments)}function pe(){return(pe=Object(A.a)(X.a.mark((function e(){var s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==v&&""!==v.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Z({lessonId:n,subLessonId:t,comment:v.trim()});case 5:(s=e.sent).message&&jr(s.message),Object(U.hb)("capacitor")&&or.hide(),je(),w(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}I.useEffect((function(){de("/".concat(k),{subLessonId:t}).then((function(e){if((e.total<=k||0===e.data.length)&&D(!0),1===k)return K({data:e.data,loading:!1});var n=[].concat(Object(Lt.a)($),Object(Lt.a)(e.data));return K({data:n,loading:!1})})).catch((function(e){console.log({err:e})}))}),[k,t,D,q]),I.useEffect((function(){_&&(_.target.complete(),M(null))}),[_,M]);var Oe=se||ae||ee||le;return Object(B.jsxs)("div",{className:"comments-component",children:[Object(B.jsx)(U.x,{isOpen:Oe,message:"Please wait..."}),Object(B.jsx)(Or,{comment:v,onCommentChange:function(e){return w(e.detail.value)},profile:s,onSubmit:function(){return pe.apply(this,arguments)}}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",className:"ion-align-self-center",children:$.map((function(e,n){return Object(B.jsx)(dr,{isComment:!0,isReply:!0,comment:e,onPresentCommentRepliesModal:function(e){return o(e)},onPresentCommentActionsPopover:function(e,n){e.persist(),g({event:e,comment:n})},onLikeComment:ue,onDisLikeComment:he},n)}))})}),Object(B.jsx)(U.q,{threshold:"100px",disabled:E,onIonInfinite:function(e){z((function(e){return e+1})),M(e)},children:Object(B.jsx)(U.r,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)(U.O,{name:"crescent"})})})}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!d,cssClass:"comment-replies-modal",onWillDismiss:function(){return j(void 0)},children:d&&Object(B.jsx)(mr,{profile:s,comment:d,onDismiss:function(){j(void 0),je()}})}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!a,cssClass:"comment-replies-modal",onWillDismiss:function(){return o(void 0)},children:a&&Object(B.jsx)(br,{lessonId:n,subLessonId:t,profile:s,comment:a,onDismiss:function(){o(void 0),je()}})}),Object(B.jsx)(U.B,{isOpen:!!x,event:null===x||void 0===x?void 0:x.event,mode:"md",onDidDismiss:function(){return g(null)},children:Object(B.jsxs)(U.w,{lines:"none",children:[Object(B.jsx)(U.t,{onClick:function(){g(null),j(null===x||void 0===x?void 0:x.comment)},children:Object(B.jsx)(U.v,{children:"Edit"})}),Object(B.jsx)(U.t,{onClick:function(){g(null),m(null===x||void 0===x?void 0:x.comment)},children:Object(B.jsx)(U.v,{children:"Delete"})})]})}),Object(B.jsx)(U.a,{isOpen:!!h,onDidDismiss:function(){return m(null)},header:"Delete comment",message:"Delete your comment permanently?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Delete",handler:function(){var e=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=4;break}return e.next=3,re({commentId:null===h||void 0===h?void 0:h._id});case 3:je();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]})]})}function Or(e){var n=e.onSubmit,t=e.profile,s=e.comment,i=e.onCommentChange,c=e.placeholder,a=void 0===c?"Add a comment":c,o=I.useState(0),r=Object(R.a)(o,1)[0];return Object(B.jsx)(U.J,{className:"add-comment ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("form",{onSubmit:function(e){e.preventDefault(),n()},children:Object(B.jsxs)(U.t,{lines:"none",mode:"ios",className:" ion-no-padding",children:[Object(B.jsx)(U.c,{slot:"start",children:Object(B.jsx)("img",{src:(null===t||void 0===t?void 0:t.profilePic)||"/assets/images/defaultProfile.svg",alt:"user profile"})}),Object(B.jsx)(U.s,{type:"text",placeholder:a,id:"comment",name:"comment",autofocus:!0,value:s||"",onIonChange:i,onIonFocus:function(){Object(U.hb)("capacitor")&&or.show()}},r),Object(B.jsx)(U.o,{slot:"end",icon:Ce.u,onClick:n})]})})})})}var xr=fn.c.Storage;function gr(e){return fr.apply(this,arguments)}function fr(){return(fr=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr.get({key:n});case 2:return t=e.sent,(s=JSON.parse(t.value))||(s={data:null}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yr=function(e){var n=e.children,t={cachePolicy:cr.a.NO_CACHE,interceptors:{request:function(){var e=Object(A.a)(X.a.mark((function e(n){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.options,n.url,n.path,n.route,e.next=3,gr("token");case 3:return null!==(s=e.sent)&&void 0!==s&&s.data&&(t.headers.accesstoken=s.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}};return Object(B.jsx)(cr.b,{url:"https://api.speakypeaky.com/api/v1",options:t,children:n})},vr=(t(553),function(e){var n,t=e.lessonDetails,s=Object(U.nb)();if(void 0===t)return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Introduction"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"80%"}})]})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("div",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Level"}),Object(B.jsx)("div",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Number of Scenes"}),Object(B.jsx)("div",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("div",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}})})})})]});"Elementary"===t.videoLevel||t.videoLevel;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Introduction"}),Object(B.jsx)(U.S,{children:null===t||void 0===t?void 0:t.introduction})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("p",{className:"c-orange",children:null===t||void 0===t?void 0:t.tags})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Level"}),Object(B.jsx)(U.S,{children:null===t||void 0===t?void 0:t.videoLevelLabel})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)("h6",{className:"lesson-heading",children:"Number of Scenes"}),Object(B.jsxs)(U.S,{children:[null===(n=t.scenes)||void 0===n?void 0:n.length," scenes",Object(B.jsx)("small",{children:"(~20-30 mins. Each scene is ~3 mins to study)"})]})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("p",{className:"lesson-heading pointer",id:"course-page",style:{textDecoration:"underline",display:"inline-block",cursor:"pointer"},onClick:function(){s.push("/course-details/".concat(t.lessonId,"/myCourse"),"back")},children:"Go to the course page"})})})]})});function wr(e,n,t,s){var i=e.currentPackage,c=e.subscriptionProductId;if(!0===n)return{subHeader:"",message:"1 lesson won't be used",action:"start"};if(t){return{subHeader:"",message:"Subscription"!==i||"yearly"===c&&"6_months"===c?"You've studied this. <br/> 1 lesson won't be used":"You\u2019ve already completed this lesson. Do you want to re-study it?",action:"start"}}if("SubscriptionExpired"===i)return{header:"Subscription expired!",message:"Looks like your subscription has expired. Kindly renew it to continue.",action:"subscribe"};if("Trial"===i){var a=e.trialLessonLimit,o=a-s.length;return o<=0?{header:"Speaky Peaky",message:"Hooray! You've finished all free lessons. Please purchase a subscription for more lessons",action:"subscribe"}:{subHeader:"You will use 1 lesson.",message:'<b style="color:#E22D2D">'.concat(o," out of ").concat(a,"</b> ").concat(o<=1?"lesson is":"lessons are"," left."),action:"start"}}if("Subscription"===i){var r="",l="";if("Promtion"!==e.subscriptionType){if("yearly"===c||"6_months"===c)l="Are you sure you want to study this lesson?";else if("monthly"===c||void 0===c||null===c){r="You will use 1 lesson.";var d=e.subscriptionLesson,j=d-e.completedLesson;if(console.log("total",d,j),j<=0)return{header:"Speaky Peaky",message:"Hooray! You've finished all lessons."};l='<b style="color:#E22D2D">'.concat(j," out of ").concat(d,"</b> ").concat(j<=1?"lesson is":"lessons are"," left this month."),console.log("monthly",r,l)}return{subHeader:r,message:l,action:"start"}}var u=e.subscriptionLesson,b=u-e.completedLesson;return b<=0?{header:"Speaky Peaky",message:"Hooray! You've finished all lessons.",action:"subscribe"}:{subHeader:r="You will use 1 lesson.",message:l='<b style="color:#E22D2D">'.concat(b," out of ").concat(u,"</b> Promotional ").concat(b<=1?"lesson is":"lessons are"," left."),action:"start"}}return{subHeader:"none",message:"none"}}function Nr(e){var n=e.isDraft,t=e.lessonDetails,s=e.onStart,i=e.myCourse,c=Object(U.nb)(),a=Object(U.jb)(),o=Object(R.a)(a,1)[0],r=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(ue,n)}({onCompleted:function(e){e.addToMyLesson.isMy&&s()}}),l=Object(R.a)(r,1)[0];Object(U.rb)((function(){Re().then((function(e){return e}))}));var d=se({fetchPolicy:"cache-and-network"}),j=d.data.profile,u=d.loading,b=t.isCompleted;function h(){return m.apply(this,arguments)}function m(){return(m=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",s());case 2:l({variables:{lessonId:t._id}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(A.a)(X.a.mark((function e(){var t,s,a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"./assets/images/listen.png",t=wr(j,n,b,i),s=t.subHeader,a=t.message,"start"!==(r=t.action)){e.next=8;break}return e.next=6,o({mode:"md",cssClass:"startLessonAlert",message:'<img src="'.concat("./assets/images/listen.png",'" alt="g-maps"> <br/><br/> ').concat(s," <br/>").concat(a," <br/>"),buttons:[{text:"",role:"cancel",cssClass:"startLessonCancelBtn"},{text:"START",cssClass:"startLessonBtn",handler:function(){h()}}]});case 6:e.next=15;break;case 8:if("subscribe"!==r){e.next=13;break}return e.next=11,o({mode:"md",cssClass:"startLessonAlert",subHeader:s,message:a,buttons:[{text:"",role:"cancel",cssClass:"startLessonCancelBtn"},{text:"Subscribe",cssClass:"startLessonBtn",handler:function(){c.push("/subscriptionplans")}}]});case 11:e.next=15;break;case 13:return e.next=15,o({mode:"md",cssClass:"startLessonAlert",subHeader:s,message:a,buttons:[{text:"",role:"cancel",cssClass:"startLessonCancelBtn"}]});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(0);case 19:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(U.d,{className:"red-c detailButton",mode:"ios",shape:"round",expand:"block",onClick:function(){return p.apply(this,arguments)},disabled:u,children:[Object(B.jsx)(U.o,{slot:"start",icon:Ce.p}),Object(B.jsx)("strong",{children:"START"})]})})}var Sr=function(e){var n=e.subLessonId,t=e.isDraft,s=e.myCourse,i=Object(U.nb)(),c=se().data.profile,a=E.a.useState("introduction"),o=Object(R.a)(a,2),r=o[0],l=o[1],d=E.a.useState(),j=Object(R.a)(d,2),u=j[0],b=j[1],h=E.a.useState(!1),m=Object(R.a)(h,2),p=m[0],O=m[1],x=E.a.useState(!1),g=Object(R.a)(x,2),f=g[0],y=g[1],v=E.a.useState(0),w=Object(R.a)(v,2),N=w[0],S=w[1],k=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(le,n)}({onCompleted:function(e){b((function(n){return Object(_.a)(Object(_.a)({},n),{},{isSaved:e.setLessonSaved.isSaved})}))}}),z=Object(R.a)(k,2),L=z[0],C=z[1].loading,I=(re({variables:{id:n},onCompleted:function(e){b(e.lesson)},skip:!n}),E.a.useRef(null));if(!u)return Object(B.jsx)(U.C,{type:"indeterminate"});var D=u.scenes.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{length:e.end-e.start})}))[0],P=Math.max(N-D.start,0)/20||0;function T(){return(T=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{L({variables:{id:n,isSave:!u.isSaved}})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.seekTo(Math.floor(D.start)),e.next=4,H.getNativeStorage("isHelpModeDone");case 4:t=e.sent,Boolean(null===t||void 0===t?void 0:t.data)?y(!0):On({steps:[{element:"#highlight-save-lesson-icon",popover:{title:"Save for later",description:"You can save lesson for later.",position:"left"}},{element:"#highlight-comment",popover:{title:"Comments",description:"See what other people had to say about this lesson.",position:"top-right"}}],onClose:function(){y(!0),H.setNativeStorage("isHelpModeDone",!0)}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var F=u.isSaved;return Object(B.jsxs)(U.A,{className:"lesson-details-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.o,{style:{cursor:"pointer"},onClick:function(){i.push("/dashboard/lessons","root")},name:"chevron-back",size:"large"})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:u.lessonName})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:function(){i.push("/dashboard/lessons","root")},children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{children:Object(B.jsxs)(U.m,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{children:Object(B.jsxs)(U.j,{className:"ion-no-padding",children:[Object(B.jsx)(U.J,{className:"lesson ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",className:"ion-align-self-center ion-no-padding youtube-container",children:Object(B.jsxs)("div",{className:"player-wrapper",children:[Object(B.jsx)(Ve.a,{ref:I,url:"https://www.youtube.com/watch?v=".concat(u.youtubeId),controls:!1,playing:f,width:"100%",height:"auto",config:{youtube:{playerVars:{showinfo:0,disablekb:1,controls:0,cc_load_policy:0,origin:window.location.origin},onUnstarted:function(){}}},progressInterval:500,onProgress:function(e){var n;S(e.playedSeconds),e.playedSeconds>=D.start+20&&(y(!1),null===(n=I.current)||void 0===n||n.seekTo(D.start))},onReady:function(e){return M.apply(this,arguments)}}),Object(B.jsx)("div",{className:"player-overlay",children:Object(B.jsxs)("span",{id:"highlight-save-lesson-icon",onClick:function(){return T.apply(this,arguments)},className:Object(sn.a)("ion-activatable ripple-parent",C&&"save-loading"),children:[C?Object(B.jsx)(U.O,{color:"medium"}):F?Object(B.jsx)(U.o,{src:"/assets/images/like-active.svg"}):Object(B.jsx)(U.o,{src:"/assets/images/like_inactive.svg"}),Object(B.jsx)(U.F,{})]})})]})})}),Object(B.jsx)(U.a,{isOpen:p,onDidDismiss:function(){return O(!1)},cssClass:"my-custom-class",header:"Can not Autoplay!",message:"Autoplay is not allowed without <strong>User interacts</strong>!!!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Play",handler:function(){y(!0)}}]}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",className:"ion-align-self-center ion-no-padding",children:[Object(B.jsx)("div",{className:"playing-progress-bar",style:{width:"100%"},children:Object(B.jsx)("div",{className:"scene-bar active",style:{flex:1},children:Object(B.jsx)("div",{className:"scene-progress",style:{width:"".concat(100*P,"%")}})})}),Object(B.jsxs)(U.J,{className:"youtube-handler ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"5",className:"ion-text-center ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.d,{fill:"clear",onClick:function(){var e,n,t=(null===(e=I.current)||void 0===e?void 0:e.getCurrentTime())||0,s=Math.max(t-3,Math.floor(D.start));null===(n=I.current)||void 0===n||n.seekTo(s),S(s)},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/3seconds-back.svg"})})}),Object(B.jsx)(U.j,{size:"2",className:"ion-text-center ion-align-self-center ion-no-padding",children:f?Object(B.jsx)(U.d,{fill:"clear",onClick:function(){return y(!1)},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/pause-lesson.svg"})}):Object(B.jsx)(U.d,{fill:"clear",onClick:function(){return y(!0)},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/play-lesson.svg"})})}),Object(B.jsx)(U.j,{size:"5",className:"ion-align-self-center ion-no-padding"})]})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"10","size-xl":"8","size-lg":"8",className:"ion-align-self-center ion-no-padding",children:Object(B.jsxs)(U.L,{color:"danger",mode:"md",value:r,onIonChange:function(e){return l(e.detail.value)},children:[Object(B.jsx)(U.M,{mode:"md",value:"introduction",children:Object(B.jsx)(U.v,{children:"Lesson Intro"})}),Object(B.jsx)(U.M,{id:"highlight-comment",mode:"md",value:"comments",children:Object(B.jsx)(U.v,{children:"Comments"})})]})})})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-align-self-center ion-padding-end ion-padding-start",size:"12",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"10","size-xl":"8","size-lg":"8",className:"ion-align-self-center",children:u&&("introduction"===r?Object(B.jsx)("div",{children:Object(B.jsx)(vr,{lessonDetails:u})}):Object(B.jsx)(yr,{children:Object(B.jsx)(pr,{lessonId:null===u||void 0===u?void 0:u.courseId,subLessonId:null===u||void 0===u?void 0:u._id,profile:c})}))})})})})]})}),Object(B.jsx)(U.l,{mode:"ios",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"6","size-xl":"4","size-lg":"4",className:"ion-align-self-center",children:Object(B.jsx)(Nr,{isDraft:t,lessonDetails:u,myCourse:s,onStart:function(){y(!1),i.push("/lesson-steps/".concat(u._id,"/").concat(t))}})})})})]})},kr=function(e){Object(ir.a)(e);var n=Object(F.f)().subLessonId,t=Ie.useQuery("myCources",Re,{refetchInterval:10}),s=(t.isLoading,t.data);t.error;return Object(B.jsx)(Sr,{isDraft:!1,subLessonId:n,myCourse:s})},zr=(t(554),Object(hn.a)("MMM d, y")),Lr=function(){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",className:"ion-align-self-center",children:[Object(B.jsx)("h1",{className:"ion-padding-bottom",children:Object(B.jsx)("strong",{children:"Course Details"})}),Object(B.jsxs)("div",{className:"lesson youtube-container",children:[Object(B.jsxs)("div",{className:"player-wrapper",children:[Object(B.jsx)(Ve.a,{controls:!1,playing:!1,width:"100%",height:"auto",config:{youtube:{playerVars:{showinfo:0,disablekb:1,controls:0,cc_load_policy:0}}},progressInterval:500}),Object(B.jsx)("div",{className:"player-overlay",children:Object(B.jsx)(U.O,{color:"medium",name:"crescent"})})]}),Object(B.jsxs)(U.J,{className:"youtube-handler ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"5",className:"ion-text-center ion-align-self-center ion-no-padding"}),Object(B.jsx)(U.j,{size:"2",className:"ion-text-center ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/play-lesson.svg"})}),Object(B.jsx)(U.j,{size:"5",className:"ion-align-self-center ion-no-padding"})]}),Object(B.jsx)(U.J,{className:"ion-padding-start ion-padding-end ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",children:[Object(B.jsx)("p",{className:"c-dark-grey",children:Object(B.jsx)("strong",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"30%"}})})}),Object(B.jsx)(U.S,{className:"c-orange",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"80%"}})}),Object(B.jsx)("br",{}),Object(B.jsx)("br",{}),Object(B.jsx)("p",{className:"c-dark-grey",children:Object(B.jsx)("strong",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"80%"}})})}),Object(B.jsx)(U.S,{className:"c-dark-grey",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}})})]})}),Object(B.jsx)(U.J,{className:"ion-padding-start ion-padding-end ion-padding-top ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{className:"ion-no-padding ion-align-self-center",sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"9",sizeXl:"8",children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}}),Object(B.jsx)(U.N,{animated:!0,style:{width:"100%"}})]})})]})]})})})})},Cr=function(e){var n=e.courseDetails,t=Object(U.nb)(),s=E.a.useState(!1),i=Object(R.a)(s,2),c=i[0],a=i[1],o=E.a.useState(!1),r=Object(R.a)(o,2),l=r[0],d=r[1],j=E.a.useState(0),u=Object(R.a)(j,2),b=u[0],h=u[1],m=E.a.useRef(null);var p=n.lessons[0].scenes[0],O=Math.max(b-p.start,0)/20||0;n.lessons;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",className:"ion-align-self-center",children:[Object(B.jsx)("h1",{className:"ion-padding-bottom",children:Object(B.jsx)("strong",{children:"Course Details"})}),Object(B.jsxs)("div",{className:"lesson youtube-container",children:[Object(B.jsxs)("div",{className:"player-wrapper",children:[Object(B.jsx)(Ve.a,{ref:m,url:"https://www.youtube.com/watch?v=".concat(n.youtubeId),controls:!1,playing:l,width:"100%",height:"auto",config:{youtube:{playerVars:{showinfo:0,disablekb:1,controls:0,cc_load_policy:0},onUnstarted:function(){}}},progressInterval:500,onProgress:function(e){var n;h(e.playedSeconds),e.playedSeconds>=p.start+20&&(d(!1),null===(n=m.current)||void 0===n||n.seekTo(p.start))},onReady:function(e){e.seekTo(Math.floor(p.start)),d(!0)}}),Object(B.jsx)("div",{className:"player-overlay"})]}),Object(B.jsx)("div",{className:"playing-progress-bar",style:{width:"100%"},children:Object(B.jsx)("div",{className:"scene-bar active",style:{flex:1},children:Object(B.jsx)("div",{className:"scene-progress",style:{width:"".concat(100*O,"%")}})})}),Object(B.jsxs)(U.J,{className:"youtube-handler ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"5",className:"ion-text-center ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.o,{onClick:function(){var e,n,t=(null===(e=m.current)||void 0===e?void 0:e.getCurrentTime())||0,s=Math.max(t-3,Math.floor(p.start));null===(n=m.current)||void 0===n||n.seekTo(s),h(s)},src:"/assets/images/lessons/3seconds-back.svg"})}),Object(B.jsx)(U.j,{size:"2",className:"ion-text-center ion-align-self-center ion-no-padding",children:l?Object(B.jsx)(U.o,{onClick:function(){return d(!1)},src:"/assets/images/lessons/pause-lesson.svg"}):Object(B.jsx)(U.o,{onClick:function(){return d(!0)},src:"/assets/images/lessons/play-lesson.svg"})}),Object(B.jsx)(U.j,{size:"5",className:"ion-align-self-center ion-no-padding"})]}),Object(B.jsx)(U.J,{className:"ion-padding-start ion-padding-end ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{className:"ion-no-padding ion-align-self-center",children:[Object(B.jsx)("p",{className:"c-dark",children:Object(B.jsxs)("strong",{children:[n.lessons.length," Episode",n.lessons.length>1&&"s"]})}),Object(B.jsx)(U.S,{className:"c-orange",children:n.tags.split(",").map((function(e){return e.trim()})).join(" ")}),Object(B.jsx)("br",{}),Object(B.jsx)("br",{}),n.title&&Object(B.jsx)("p",{className:"c-dark-grey",children:Object(B.jsx)("strong",{children:n.title})}),Object(B.jsx)(U.S,{className:"c-dark-grey",children:n.introduction})]})}),Object(B.jsx)(U.J,{className:"ion-padding-start ion-padding-end ion-padding-top ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{className:"ion-no-padding ion-align-self-center",children:Object(B.jsx)(U.w,{children:n.lessons.map((function(e){return Object(B.jsxs)(U.t,{className:"pointer",detail:!1,routerDirection:"forward",routerLink:"/lesson/".concat(e._id),onClick:function(n){n.preventDefault(),d(!1),e.completedAt?t.push("/lesson-details/".concat(e._id,"/true/false"),"forward"):t.push("/lesson-details/".concat(e._id,"/false/false"),"forward")},children:[Object(B.jsx)(U.v,{color:"dark",children:Object(B.jsxs)(U.J,{children:[Object(B.jsx)(U.j,{className:"ion-no-padding lesson-name",size:e.completedAt?"8":"12",children:e.lessonName}),e.completedAt&&Object(B.jsx)(U.j,{className:"ion-no-padding studied-date",size:"4",children:Object(B.jsx)("p",{children:zr(new Date(e.completedAt))})})]})}),Object(B.jsx)(U.o,{color:"medium",icon:Ce.g,mode:"ios",slot:"end"})]},e._id)}))})})})]}),Object(B.jsx)(U.a,{isOpen:c,onDidDismiss:function(){return a(!1)},cssClass:"my-custom-class",header:"Can not Autoplay!",message:"Autoplay is not allowed without <strong>User interacts</strong>!!!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Play",handler:function(){d(!0)}}]})]})})})})},Ir=function(){var e=Object(F.f)().lessonId,n=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(je,n)}({variables:{id:e},skip:!e}),t=n.data,s=n.loading;n.error;return Object(B.jsxs)(U.A,{className:"course-details-page",children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"back",children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{}),Object(B.jsx)("div",{style:{textAlign:"center"}}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{children:s?Object(B.jsx)(Lr,{}):Object(B.jsx)(Cr,{courseDetails:t.course})})]})},Er=t(196),Dr=t(359),Pr=function(e){var n=e.scnenNo,t=e.scenesLength;return Object(B.jsx)("div",{style:{textAlign:"center",fontWeight:400,textShadow:"0px 0px 4px black"},children:Object(B.jsxs)("h1",{style:{fontSize:"3rem",opacity:.8},children:[n," of ",t,Object(B.jsx)("small",{children:"scenes"})]})})},Tr={Listen:1,Dictation:2,Review:3,Practice:4};function _r(e){return Ar.apply(this,arguments)}function Ar(){return(Ar=Object(A.a)(X.a.mark((function e(n){var t,s,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getNativeStorage("leftOfData");case 2:if(t=e.sent,(s=null===t||void 0===t?void 0:t.data)&&n._id===s.lessonID){e.next=6;break}return e.abrupt("return",null);case 6:if(2!==s.version){e.next=10;break}return e.abrupt("return",{sceneIdx:s.sceneIdx,step:s.step});case 10:if(!((i=n.scenes.findIndex((function(e){return e.start===s.selectedLessonScene.start})))<0)){e.next=13;break}return e.abrupt("return",null);case 13:if(c=Tr[s.selectedLessonStep._id]){e.next=16;break}return e.abrupt("return",null);case 16:return e.abrupt("return",{sceneIdx:i,step:c});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rr=Lc()((function(e,n){return{lesson:null,loading:!0,start:0,end:null,setLoading:function(n){return e({loading:n})},init:function(){return e({lesson:null,loading:!0,studyRecords:null,step:1,sceneIdx:0,ytPlayer:null})},setLesson:function(){var n=Object(A.a)(X.a.mark((function n(t){var s;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_r(t);case 2:s=n.sent,e({lesson:t,loading:!1,studyRecords:t.scenes.map((function(e){return{dictationText:""}})),step:s?s.step:1,sceneIdx:s?s.sceneIdx:0,ytPlayer:null});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),sceneIdx:0,step:5,moveNext:function(){var t=n(),s=t.step,i=t.ytPlayer,c=t.sceneIdx,a=t.lesson,o=t.setOverlay;i.pauseVideo();var r=a.scenes[c];i.seekTo(r.start,!0),setTimeout((function(){if(4===s){var n=c+1;n>a.scenes.length-1?e({step:5,sceneIdx:0}):(o(Object(B.jsx)(Pr,{scnenNo:n+1,scenesLength:a.scenes.length})),setTimeout((function(){o(null),e({step:2,sceneIdx:n})}),2e3))}else e(1===s?{step:s+1,sceneIdx:0}:s<=3?{step:s+1}:{step:1})}),1)},moveStep:function(n){e({step:n,isPlaying:!1})},moveScene:function(t){var s=n(),i=s.lesson,c=s.ytPlayer,a=s.setOverlay;c.pauseVideo();var o=i.scenes[t];c.seekTo(o.start,!0),a(Object(B.jsx)(Pr,{scnenNo:t+1,scenesLength:i.scenes.length})),setTimeout((function(){a(null),e({step:2,sceneIdx:t})}),2e3)},studyRecords:null,dictationText:"",setDictationText:function(n,t){e((function(e){return{studyRecords:Object(_.a)(Object(_.a)({},e.studyRecords),{},Object(wi.a)({},n,{dictationText:t}))}}))},overlay:null,setOverlay:function(n){return e({overlay:n})},player:null,ytPlayer:null,playerState:null,isPlaying:!1,setPlayer:function(n){return e({ytPlayer:n})},setPlayerState:function(n){return e({playerState:n})},play:function(t,s){var i=n(),c=i.player,a=(i.isPlaying,i.ytPlayer);if((0===t||t)&&s)c.seekTo(t,"seconds"),a.seekTo(t,!0),e({start:t,end:s}),a.playVideo();else{var o=n().start,r=n().end;r&&c.getCurrentTime()>r&&a.seekTo(o,!0),a.playVideo()}},stop:function(e){var t=n().ytPlayer;t.pauseVideo(),e&&t.seekTo(Math.floor(e),!0)},rewind:function(e){var t=n().ytPlayer,s=t.getCurrentTime();t.seekTo(s-e,!0)},scrollTop:0,setScrollTop:function(n){return e({scrollTop:n})}}}));Rr.subscribe((function(e){e.lesson&&(5===e.step?H.removeNativeStorage("leftOfData"):H.setNativeStorage("leftOfData",{lessonID:e.lesson._id,version:2,sceneIdx:e.sceneIdx,step:e.step}))}),(function(e){return e}),(function(e,n){return e.sceneIdx===n.sceneIdx&&e.step===n.step}));var Mr=[.25,.5,.75,1,1.25,1.5,1.75,2];function Xr(e){var n=e.youtubeId,t=e.onClickReportIssue,s=I.useRef(null),i=Rr((function(e){return e.setPlayer})),c=Rr((function(e){return e.ytPlayer})),a=Rr((function(e){return e.setPlayerState})),o=Rr((function(e){return e.play})),r=Rr((function(e){return e.overlay})),l=I.useState(!1),d=Object(R.a)(l,2),j=d[0],u=d[1],b=I.useState(0),h=Object(R.a)(b,2);h[0],h[1];return Object(B.jsxs)("div",{className:"player-wrapper",children:[Object(B.jsx)(Dr.a,{ref:s,videoId:n,opts:{playerVars:{showinfo:0,disablekb:1,controls:0,cc_load_policy:0,playsinline:1,autoplay:0,origin:window.location.origin},width:"100%",height:"350vh"},onReady:function(e){var n=e.target;setTimeout((function(){i(n),a(n.getPlayerState())}),200)},onStateChange:function(e){a(e.data)}}),Object(B.jsxs)("div",{className:"player-overlay",children:[Object(B.jsxs)("div",{id:"info",className:"ion-activatable ripple-parent pointer",onClick:t,children:[Object(B.jsx)(U.p,{src:"/assets/images/info_for_lesson.png"}),Object(B.jsx)(U.F,{})]}),c&&Object(B.jsx)(Ur,{}),r&&Object(B.jsx)("div",{className:"overlay-msg",children:r})]}),Object(B.jsx)(U.a,{isOpen:j,onDidDismiss:function(){return u(!1)},cssClass:"my-custom-class",header:"Can not Autoplay!",message:"Autoplay is not allowed without <strong>User interacts</strong>!!!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Play",handler:function(){o()}}]})]})}function Fr(e){var n=e.onDissmis,t=Rr((function(e){return e.ytPlayer})),s=(null===t||void 0===t?void 0:t.getPlaybackRate())||1;return Object(B.jsx)(U.u,{class:"playrate-menu",children:Mr.map((function(e){return Object(B.jsx)(U.t,{lines:"none",onClick:function(){return function(e){t.setPlaybackRate(e),n()}(e)},children:Object(B.jsx)(U.v,{className:Object(sn.a)(s===e&&"playrate-active"),children:1===e?"normal":e})},e)}))})}function Ur(){var e=Object(U.mb)(Fr,{onDissmis:function(){return s()}}),n=Object(R.a)(e,2),t=n[0],s=n[1];return Object(B.jsx)("div",{id:"playback-rate",children:Object(B.jsxs)("div",{className:"ion-activatable ripple-parent pointer",onClick:function(e){t({cssClass:"playRatePopover",mode:"md",event:e.nativeEvent})},children:[Object(B.jsx)(U.p,{src:"/assets/images/lesson_snail.png"}),Object(B.jsx)(U.F,{})]})})}var Jr,Br=t(61),qr=t.n(Br),Wr=["onClick"],Vr=function(e){var n=e.onClick,t=Object(Jt.a)(e,Wr);return Object(B.jsx)(U.d,Object(_.a)(Object(_.a)({mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block"},t),{},{onClick:n,children:"Next"}))},Yr=[{step:1,label:"1 Listen"},{step:2,label:"2 Dictation"},{step:3,label:"3 Review"},{step:4,label:"4 Pracitce"}];function Hr(e){var n=e.onDissmis,t=e.step,s=Rr((function(e){return e.moveStep}));return Object(B.jsx)(B.Fragment,{children:Yr.map((function(e){return Object(B.jsx)(U.t,{style:{cursor:"pointer"},lines:"none",onClick:function(){return t=e.step,s(t),void n();var t},children:Object(B.jsx)(U.v,{className:Object(sn.a)(t===e.step&&"c-red"),children:e.label})},e.step)}))})}function Gr(){var e=Rr((function(e){return e.step})),n=Object(U.mb)(Hr,{step:e,onDissmis:function(){return i()}}),t=Object(R.a)(n,2),s=t[0],i=t[1];return e<2||e>4?null:Object(B.jsxs)("div",{onClick:function(e){s({cssClass:"lessonStepsPopover",mode:"md",event:e.nativeEvent})},children:[Object(B.jsx)(U.o,{className:"steps-scenes-icon",icon:Ce.c})," Steps"]})}function $r(e){var n=e.onDissmis,t=Rr((function(e){return e.lesson})),s=Rr((function(e){return e.sceneIdx})),i=Rr((function(e){return e.moveScene}));return Object(B.jsx)(B.Fragment,{children:t.scenes.map((function(e,t){return Object(B.jsx)(U.t,{style:{cursor:"pointer"},lines:"none",onClick:function(){return i(t),void n()},children:Object(B.jsx)(U.v,{className:Object(sn.a)(t===s&&"c-red"),children:t+1})},t)}))})}function Kr(){var e=Rr((function(e){return e.lesson})),n=Rr((function(e){return e.sceneIdx})),t=Rr((function(e){return e.step})),s=Object(U.mb)($r,{onDissmis:function(){return a()}}),i=Object(R.a)(s,2),c=i[0],a=i[1];if(t<2||t>4)return null;var o=e.scenes.length;return Object(B.jsx)("div",{id:"lesson-scenes",children:Object(B.jsxs)("div",{children:[Object(B.jsxs)("span",{onClick:function(e){c({cssClass:"lessonScenesPopover",mode:"md",event:e.nativeEvent})},children:[n+1," / ",o," Scenes"," "]}),Object(B.jsx)(U.o,{className:"steps-scenes-icon",icon:Ce.c})]})})}function Qr(e){var n=e.onPlayClick,t=void 0===n?null:n,s=Rr((function(e){return e.playerState})),i=Rr((function(e){return e.play})),c=Rr((function(e){return e.rewind})),a=Rr((function(e){return e.stop})),o=s===qr.a.PLAYING;return Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",className:"ion-align-self-center ion-no-padding",children:[Object(B.jsx)("div",{className:"playing-progress-bar",style:{width:"100%"},children:Object(B.jsx)("div",{className:"scene-bar active",style:{flex:1},children:Object(B.jsx)("div",{className:"scene-progress",style:{width:"".concat(1e3,"%")}})})}),Object(B.jsxs)(U.J,{className:"youtube-handler ",children:[Object(B.jsx)(U.j,{id:"lesson-steps",size:"4",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(Gr,{})}),Object(B.jsx)(U.j,{sizeXs:"4",sizeSm:"4",sizeMd:"4",sizeLg:"4",sizeXl:"4",className:"ion-text-center ion-align-self-center ion-no-padding",children:Object(B.jsxs)("div",{style:{display:"flex"},children:[Object(B.jsx)("div",{style:{flex:1},children:o&&Object(B.jsx)(U.d,{className:" ion-no-padding",fill:"clear",onClick:function(){c(3)},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/3seconds-back.svg"})})}),Object(B.jsx)("div",{style:{flex:1},children:o?Object(B.jsx)(U.d,{className:" ion-no-padding",fill:"clear",onClick:function(){return a()},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/pause-lesson.svg"})}):Object(B.jsx)(U.d,{className:" ion-no-padding",fill:"clear",onClick:function(){return t?t():i()},children:Object(B.jsx)(U.o,{src:"/assets/images/lessons/play-lesson.svg"})})}),Object(B.jsx)("div",{style:{flex:1}})]})}),Object(B.jsx)(U.j,{size:"4",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(Kr,{})})]})]})})}Object($.a)(Jr||(Jr=Object(G.a)(["\n  query getDictation($lessonId: Int!, $sceneIdx: Int!) {\n    dictation(lessonId: $lessonId, sceneIdx: $sceneIdx) @client\n  }\n"])));function Zr(){return re({variables:{id:uo()},fetchPolicy:"cache-only"}).data.lesson}var el=fn.c.Keyboard;function nl(){var e=Object(I.useState)(0),n=Object(R.a)(e,2),t=n[0],s=n[1],i=Rr((function(e){return e.sceneIdx})),c=Zr(),a=Rr((function(e){return e.setOverlay})),o=Rr((function(e){return e.playerState})),r=Rr((function(e){return e.ytPlayer})),l=xn("isHelpScreenForDictationStepDone",[{element:"#lesson-steps",popover:{title:"Step navigation",description:"Move easily among steps",position:"right-center"}},{element:"#lesson-scenes",popover:{title:"Scene navigation",description:"Move easily among scenes",position:"top-right"}},{element:"#scene-iteration",popover:{title:"Automatic replay",description:"Clip repeats 10 times automatically while you're typing. You can replay as many times as you need",position:"top-center"}},{element:"#dictation-textarea-headline",popover:{title:"Dictation",description:"1-2 sentences will be played at a time. Type as much as you can. In the next step, your answer will be reviewed.",position:"top-center"}}]).showHelpGuide,d=c.scenes[i];Object(I.useEffect)((function(){l().then((function(){r.seekTo(d.start,!0),r.playVideo()}))}),[i]),Object(I.useEffect)((function(){if(o===qr.a.PLAYING){var e=setInterval((function(){r.getCurrentTime()>d.end&&(clearInterval(e),r.pauseVideo(),r.seekTo(d.start,!0),s((function(e){return Math.min(e+1,10)})))}),100);return function(){return clearInterval(e)}}}),[o]),Object(I.useEffect)((function(){if(1===t){a(Object(B.jsx)("h2",{children:"Write down what you heard."}));var e=setTimeout((function(){a(null),r.seekTo(d.start,!0),r.playVideo()}),2e3);return function(){clearTimeout(e),a(null)}}t>1&&(r.seekTo(d.start,!0),r.playVideo())}),[t]);var j=Object(dn.range)(10).map((function(e){return{num:e+1,done:e<t}}));return Object(B.jsx)(B.Fragment,{children:j.map((function(e){return Object(B.jsx)(U.S,{className:Object(sn.a)("lesson-loop",e.done&&"complete"),children:Object(B.jsx)("span",{className:Object(sn.a)(e.done&&"c-red"),style:{color:Object(sn.a)(e.done&&"#e22d2d")},children:e.num})},e.num)}))})}function tl(){var e=Rr((function(e){return e.sceneIdx})),n=Object(I.useState)(""),t=Object(R.a)(n,2),s=t[0],i=t[1];return xe({variables:{sceneIdx:e},onCompleted:function(e){i(e.dictation)}}).loading?null:Object(B.jsx)(U.t,{lines:"none",className:"dictation-textarea ion-margin-top",children:Object(B.jsx)(U.T,{className:"ion-padding-start",color:"danger",rows:5,placeholder:"Write here...",onIonFocus:function(){Object(U.hb)("capacitor")&&el.show()},onIonBlur:function(){!function(){var n=bo(),t=uo(),i="".concat(t,":").concat(e);bo(Object(_.a)(Object(_.a)({},n),{},Object(wi.a)({},i,s.replace("\u201d",'"').replace("\u201c",'"').replace("\u2019","'").replace("\u2018","'").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'))))}()},value:s,onIonChange:function(e){return i(e.detail.value)}})})}function sl(e){var n=e.Footer,t=E.a.useState(!1),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Rr((function(e){return e.moveNext})),o=E.a.useRef(),r=Zr(),l=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(de,n)}({onCompleted:function(e){H.removeNativeStorage("leftOfData")}}),d=Object(R.a)(l,1)[0],j=Rr((function(e){return e.sceneIdx}));return E.a.useEffect((function(){j+1===r.scenes.length&&(r.isCompleted||d({variables:{lessonId:r._id}}))}),[r]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Qr,{}),Object(B.jsxs)("div",{className:"dictation",children:[Object(B.jsx)("div",{className:"ion-text-center ion-padding ion-align-self-center",id:"scene-iteration",children:Object(B.jsx)(nl,{})}),Object(B.jsx)("h5",{id:"dictation-textarea-headline",className:"ion-no-margin",children:"A couple of sentences will be played at a time. Type everything you hear."}),Object(B.jsx)(tl,{}),Object(B.jsx)("div",{ref:o})]}),Object(B.jsx)(n,{children:Object(B.jsx)(Vr,{disabled:i,onClick:function(){c(!0),o.current.focus(),setTimeout((function(){a()}),200)}})})]})}t(664);var il={1:"Step 1 : Listen",2:"Step 2 : Dictation",3:"Step 3 : Review",4:"Step 4 : Practice",5:"Step 5 : Re-listen"};function cl(){var e=Object(U.nb)(),n=Object(U.jb)(),t=Object(R.a)(n,1)[0],s=Rr((function(e){return e.lesson})),i=Rr((function(e){return e.step}));return Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",onClick:function(){t({message:"Are you sure you want to exit lesson?",buttons:[{text:"No",role:"cancel",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Yes",handler:function(){e.canGoBack()?e.goBack():e.push("/dashboard/lessons","back")}}]})},children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",icon:Ce.e})})}),Object(B.jsx)(U.V,{children:il[i]||s.lessonName}),Object(B.jsx)("div",{style:{textAlign:"center"}}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:function(){t({message:"Are you sure you want to exit lesson?",buttons:[{text:"No",role:"cancel",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Yes",handler:function(){e.push("/dashboard/lessons","root")}}]})},children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"/assets/images/home.svg"})})})]})})}function al(e){var n=e.Footer,t=Zr(),s=I.useState(0),i=Object(R.a)(s,2),c=i[0],a=i[1],o=I.useState(!1),r=Object(R.a)(o,2),l=r[0],d=r[1],j=Rr((function(e){return e.moveNext})),u=Rr((function(e){return e.ytPlayer})),b=Rr((function(e){return e.play})),h=Rr((function(e){return e.playerState})),m=Rr((function(e){return e.setOverlay})),p=t.scenes[c];return I.useEffect((function(){u.seekTo(p.start,!0),u.playVideo(),setTimeout((function(){m(null)}),500)}),[p]),I.useEffect((function(){if(h===qr.a.PLAYING){var e=setInterval((function(){if(u.getCurrentTime()>p.end){clearInterval(e);var n=t.scenes.length-1;c<n?(u.seekTo(p.start,!0),a(c+1)):(u.pauseVideo(),d(!0))}}),100);return function(){return clearInterval(e)}}}),[h,p,c]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Qr,{onPlayClick:function(){l?(u.seekTo(t.scenes[0].start,!0),a(0),d(!1)):b()}}),Object(B.jsx)(U.J,{className:"listen ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",className:"mt-100 ion-align-self-center",children:Object(B.jsx)("h5",{className:"ion-text-center",children:"First, listen carefully to the whole dialogue to see how much you can understand."})})}),Object(B.jsx)(n,{children:Object(B.jsx)(Vr,{onClick:j})})]})}function ol(e){var n=e.Footer,t=se().data.profile,s=I.useState(!0),i=Object(R.a)(s,2),c=i[0],a=i[1],o=Object(U.nb)(),r=Zr(),l=I.useState(0),d=Object(R.a)(l,2),j=d[0],u=d[1],b=I.useState("comments"),h=Object(R.a)(b,2),m=h[0],p=h[1],O=I.useState(!1),x=Object(R.a)(O,2),g=x[0],f=x[1],y=Rr((function(e){return e.ytPlayer})),v=Rr((function(e){return e.play})),w=Rr((function(e){return e.playerState})),N=Rr((function(e){return e.setOverlay})),S=r.scenes[j];return I.useEffect((function(){y.seekTo(S.start,!0),y.playVideo(),N(0===j?Object(B.jsx)("div",{style:{textAlign:"center",fontWeight:400,textShadow:"0px 0px 4px black"},children:Object(B.jsxs)("div",{children:["Listen again ",Object(B.jsx)("br",{}),"to see how much more ",Object(B.jsx)("br",{}),"you can understand ",Object(B.jsx)("br",{})]})}):null);var e=setTimeout((function(){N(null)}),0===j?2e3:800);return function(){N(null),clearTimeout(e)}}),[j]),I.useEffect((function(){if(w===qr.a.PLAYING){var e=setInterval((function(){if(y.getCurrentTime()>S.end){clearInterval(e);var n=r.scenes.length-1;j<n?(y.seekTo(S.start,!0),u(j+1)):(y.pauseVideo(),f(!0))}}),100);return function(){return clearInterval(e)}}}),[w,S,j]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Qr,{onPlayClick:function(){g?(y.seekTo(r.scenes[0].start,!0),u(0),f(!1)):v()}}),Object(B.jsxs)("div",{className:"re-listen",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{"size-xs":"12","size-sm":"12","size-md":"10","size-xl":"8","size-lg":"8",className:"ion-align-self-center ion-no-padding",children:Object(B.jsxs)(U.L,{color:"danger",mode:"md",value:m,onIonChange:function(e){return p(e.detail.value)},children:[Object(B.jsx)(U.M,{id:"highlight-comment",mode:"md",value:"comments",children:Object(B.jsx)(U.v,{children:"Comments"})}),Object(B.jsx)(U.M,{mode:"md",value:"scripts",children:Object(B.jsx)(U.v,{children:"Script"})})]})})}),Object(B.jsx)("div",{className:"tab-content",children:"comments"===m?Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:"How was this lesson? Leave your thoughts and share new things you\u2019ve learned."}),Object(B.jsx)(yr,{children:Object(B.jsx)(pr,{lessonId:null===r||void 0===r?void 0:r.lessonId,subLessonId:null===r||void 0===r?void 0:r._id,profile:t})})]}):Object(B.jsxs)("div",{style:{padding:"4px"},children:[Object(B.jsx)("div",{children:c?Object(B.jsx)(U.d,{onClick:function(){return a(!1)},className:"ion-float-right show-hide-btn",color:"dark",mode:"ios",shape:"round",size:"small",fill:"outline",id:"script-label",children:"Hide"}):Object(B.jsx)(U.d,{onClick:function(){return a(!0)},className:"ion-float-right show-hide-btn",color:"dark",mode:"ios",fill:"solid",shape:"round",size:"small",children:"Show"})}),Object(B.jsx)("div",{className:"scripts",children:c&&r.scenes.map((function(e,n){return Object(B.jsxs)("p",{className:Object(sn.a)(j===n&&"c-red"),children:[n+1,". ",e.langs.En.txt]},n)}))})]})})]}),Object(B.jsx)(n,{children:Object(B.jsx)(Vr,{onClick:function(){y.stopVideo(),o.push("/lesson-complete","root")}})})]})}var rl=t(362),ll=t.n(rl);var dl=function(e){return e.replace(/[\s,.?]/,"").toLowerCase().replace(/\u201d/g,'"').replace(/\u201c/g,'"').replace(/\u2019/g,"'").replace(/\u2018/g,"'").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')};function jl(e,n){return""!==n&&(" "===e&&" "===n||dl(e)===dl(n))}function ul(e,n){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,n){return e===n},s=[];return ll()(e,n,t,(function(e,n,t,i,c,a,o){if("add"===e)for(var r=a;r<o;++r)s.push({value:c[r],added:!0});else if("remove"===e)for(var l=t;l<i;++l)s.push({value:n[l],removed:!0});else for(var d=a;d<o;++d)s.push({value:c[d]})})),s}(e.replace(/\s\s+/g," ").split(/( )/g),n.replace(/\s\s+/g," ").split(/( )/g),jl)}var bl=t(363),hl=t.n(bl),ml={MSG_FOLLOWED:"Followed successfully!",MSG_ACCOUNT_CREATED:"Welcome! Account created successfully.\n\nNotes: \n1) You've just gotten 5 free lessons.\n2) Check your email to verify that you're real.",MSG_OTP_SENT:"OTP sent to your email/mobile to reset password.",MSG_PASSWORD_RESET:"Password changed successfully.",MSG_RECOVER_ACCOUNT:"If your recovery email is correct, you should have received OTP to reset your account.",MSG_RECOVER_ACCOUNT_SUCCESS:"Account recovered successfully.",MSG_PROFILE_UPDATED:"Profile updated successfully",ERR_USER_NOT_FOUND:"Account with email not found. Please double-check your info or sign up for a new account.",ERR_PASSWORD_NOT_MATCHED:"Wrong Password, Try again or click Forgot Password to reset it.",ERR_VALID_EMAIL:"Please enter valid email address.",ERR_VALID_NAME:"Please enter valid name.",ERR_VALID_PHONE_NUMBER:"Please enter valid phone number.",ERR_INTERNAL_SERVER:"Internal Server Error!",ERR_USER_ALREADY_EXIST:"An account with this email address already exists.",ERR_USER_ALREADY_EXIST_RECOVER:"Recovery email is already associated with another account.",ERR_GENRIC_OTP_EXPIRE:"OTP is not correct or expired, please try again.",ERR_RECOVEREMAIL_SAME:"Primary email and Recovery email cannot be the same.",ERR_UNAUTH:"You are unauthorized.",ERR_USER_BLOCKED:"Your account is not verified yet.",ERR_USER_WITHDRAWN:"You are withdrawned.",ERR_TOKEN_EXP:"Your session has expired, please login again",ERR_FB_ACCESS_TOKEN_EXP:"Facebook access token is expired or not valid.",ERR_GOOGLE_ACCESS_TOKEN_EXP:"Google access token is expired or not valid.",ERR_KAKAO_ACCESS_TOKEN_EXP:"Kakao access token is expired or not valid.",ERR_PASSWORD_IS_NOT_MATCHED:"Password does not matched",DATA_FOUND:"Data found",NOT_FOUND:"No data found",MSG_LEVEL_UPDATED:"Level updated successfully",MSG_PASSWORD_SENT:"Your password has been sent to your email.",EMAIL_NOT_FOUND:"This email does not exist.",TRY_AGAIN:"Oops! Something went wrong. Please try again.",ALREADY_COMPLETED:"Already completed",VERIFICATION_MAIL_SEND:"Check your email",NOT_SENDMAIL:"Not authorized",LOGIN_SUCCESS:"Login Successful",INVALID_CREDENTIAL:"Invalid email or password",WRONG_CODE:"Invalid",UPDATE_SUCCESSFULLY:"Updated successfully",DELETE_SUCCESSFULLY:"Deleted successfully",ADD_SUCCESSFULLY:"Added successfully",UPDATE_LESSON_COUNT:"Lesson count updated successfully",NOTE_SAVE:"Just saved successfully.",ALREADY_NOTE_SAVE:"You have already saved this.",SUBSCRIPTION_LESSON_COUNT:"Subscription lesson count updated successfully.",NOT_VALID_EMAIL:"Enter valid email",ERR_PASSWORD:"Enter current password",ERR_NEW_PASSWORD:"Enter new password",ERR_CONFIRM_PASSWORD:"Enter confirm password",ERR_CURRENT_PASSWORD_NOT_MATCHED:"New password and confirm password don't match",ERR_INVALID_CURRENT_PASSWORD:"Invalid current password",MSG_CHANGED_PASSWORD:"Passoword changed successfully",NO_LESSON_FOUND:"No lesson found",ADMIN_EMAIL_ALREADY_REGISTERED:"The email address you have entered is already registered.",NOT_LIKED_OWN_COMMENT:"You can't like your own comment",NOT_DISLIKED_OWN_COMMENT:"You can't dislike your own comment",SUBSCRIPTION_FALSE:"Your subscription has been canceled.",SAVE_SUBSCRIPTION:"Your subscription has been saved successfully.",ALREADY_SAVE:"You've already saved this.",PLEASE_DO_SUBSCRIPTION:"Hooray! You've finished all your free lessons. Please purchase a subscription for more lessons.",COMMENT_LIKED_SUCCESS:"Liked successfully",COMMENT_DISLIKED_SUCCESS:"Disliked successfully",COMMENT_REPLY_SUCCESS:"Replied successfully",ALREADY_LIKE:"You've already liked this.",ALREADY_DISLIKE:"You've already disliked this.",REQUEST_SENT_SUCCESSFULLY:"Your request has been sent successfully.",ADMIN_VERIFICATION_EMAIL_SENT:"Verification mail sent. \nIt may take a while to receive the email",ADMIN_ALREADY_EXISTS:"Already exists",ADMIN_ACCOUNT_NOT_VERIFIED_YET:"You account is not verified yet",ADMIN_UNAUTH:"You are unauthorized",ADMIN_UPDATE_SUCCESSFULLY:"Updated successfully",ADMIN_ADD_SUCCESSFULLY:"Added successfully",ADMIN_DELETE_SUCCESSFULLY:"Deleted successfully",PLZ_CONTACT_TO_ADMIN:"You are blocked by admin. Please contact admin at hi@startenglishnow.net.",PLEASE_BUY_EXTRA_LESSONS:"Please purchase extra lessons.",CONTACT_US_REQUEST_SENT_SUCCESSFULLY:"Thank you! Your message has been sent successfully.",SUBSCRIPTION_SUCCESS:"Subscribed successfully. Enjoy learning English!",VERIFICATION_EMAIL_SENT:"We\u2019ve sent you a verification email. Please confirm that you\u2019re real \ud83d\ude42",ERR_USER_NOT_VERIFIED_EMAIL:"An account with this email address already exists. Please remember to verify it.",ERR_LESSON_DELETED_BY_ADMIN:"This lesson is deleted by admin.",ERR_USER_NOT_VERIFIED_EMAIL_TRY_PURCHASE:"In order to make an purchase, please verify your account",ERR_LESSONS_NOT_FOUND:"Today's lessons not found, Please change your level",LESSON_SAVED:"Lesson saved successfully.",ERROR_SAVED_LESSON_NOT_FOUND:"Saved lessons not found.",SAVED_LESSON_REMOVED:"Saved lesson removed successfully.",USER_CREATED:"User Created successfully.",USER_DATA:"User Data",PRODUCTS_DATA:"Products Data",PAYMENT_METHOD_ADDED:"Payment Method Added Successfully",PAYMENT_METHOD_ADDED_TO_CUSTOMER:"Payment method Added to Customer Successfully",PAYMENT_METHOD_REMOVED_FROM_CUSTOMER:"Payment method removed from Customer Successfully",PAYMENT_METHODS:"Payment methods",SUBSCRIPTION_ADDED:"Subscription Added Successfully",SUBSCRIPTION_DATA:"Subscription Details",LESSON_IS_ALREADY_EXIST_IN_SAVED_LESSON:"Lesson is already saved.",ALL_COUPONS:"All coupons data.",COUPON_DETAILS:"coupons details."},pl=t(364);function Ol(){var e,n=se().data.profile,t=Zr(),s=Rr((function(e){return e.sceneIdx})),i=E.a.useState(!1),c=Object(R.a)(i,2),a=c[0],o=c[1],r=E.a.useState(!1),l=Object(R.a)(r,2),d=l[0],j=l[1];console.log("showInfo",d);var u=t.scenes[s],b=n.nativeLanguage.languageKey,h=u.langs.En.txt,m=u.langs[b]?u.langs[b].txt:"Sorry, the translation for this lesson is missing. Please report it to the team using the exclamation mark (!) at the upper right corner of the video.",p=null===(e=u.langs[b])||void 0===e?void 0:e.tip;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[Object(B.jsx)("div",{style:{flex:1,color:"#747474"},children:"Script:"}),Object(B.jsx)(U.d,{className:"translation-btn",color:"dark",mode:"ios",shape:"round",size:"small",id:"translation",fill:a?"solid":"outline",onClick:function(){return o((function(e){return!e}))},children:"Translation"}),Object(B.jsx)("div",{style:{padding:"4px"},onClick:function(){return j(!0)},children:Object(B.jsx)(U.p,{src:"../../../../../assets/images/dictionary-icon.png",className:" dictionary-icon pointer"})})]}),Object(B.jsx)(vl,{script:h,phrases:t.phrases}),a&&Object(B.jsxs)("div",{className:"ion-margin-top",children:[Object(B.jsx)("div",{style:{color:"#747474"},children:"Translation:"}),Object(B.jsx)("div",{style:{marginTop:"4px"},children:m})]}),p&&Object(B.jsxs)("div",{className:"ion-margin-top",children:[Object(B.jsx)("div",{style:{color:"#747474"},children:"#Tip:"}),p.split("\n").map((function(e){return Object(B.jsx)("div",{className:"ion-padding-bottom",children:e})}))]}),Object(B.jsxs)(U.y,{mode:"ios",isOpen:d,cssClass:"reviewingStepInfo",onDidDismiss:function(){return j(!1)},children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"9",className:"ion-align-self-center",children:Object(B.jsx)("h4",{className:"ion-no-margin c-orange",children:"Use Dictionary"})}),Object(B.jsx)(U.j,{size:"3",className:"ion-align-self-center ion-text-right",children:Object(B.jsx)(U.o,{mode:"md",icon:Ce.i,className:"pointer",id:"modal-dismiss",onClick:function(){return j(!1)}})})]}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("p",{children:Object(U.hb)("mobile")?"Long press any words to learn the meanings":"Drag any words to learn the meanings"})})})]})]})}var xl={En:"Eng",Ko:"Kor",Sp:"Spa",Vi:"Vie",Po:"Por"},gl=function(e){var n=e.word,t=e.onDismiss,s=e.onSaveClick,i=e.loading,c=e.children,a=e.saveDisabled,o=vn();return Object(B.jsx)(U.J,{children:Object(B.jsxs)(U.j,{children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"9",className:"ion-align-self-center",children:Object(B.jsxs)("h5",{className:"ion-no-margin c-red header",children:[Object(B.jsx)("img",{id:"play-icon",className:"pointer",src:"../../../../../../assets/images/icon_play.svg",onClick:function(){o(n)}}),Object(B.jsx)("strong",{children:n})]})}),Object(B.jsx)(U.j,{size:"3",className:"ion-align-self-center ion-text-right",children:Object(B.jsx)(U.o,{mode:"md",icon:Ce.i,className:"pointer",id:"modal-dismiss",onClick:t})})]}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",style:{top:"17%"},children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:c})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)(U.d,{className:"button-c",mode:"ios",shape:"round",expand:"block",onClick:s,disabled:a||i,children:i?Object(B.jsx)(U.O,{}):Object(B.jsx)("strong",{children:"SAVE"})})})})]})})};function fl(e){var n,t,s=e.phraseWord,i=e.onDismiss,c=se().data.profile,a=Object(U.ob)(),o=Object(R.a)(a,1)[0],r=he({onCompleted:function(e){e.setNote?o(ml[e.setNote],2e3):o(ml.TRY_AGAIN,2e3)}}),l=Object(R.a)(r,2),d=l[0],j=l[1].loading,u=null===c||void 0===c||null===(n=c.nativeLanguage)||void 0===n?void 0:n.languageKey,b=(null===(t=s.meanings.find((function(e){return e.lang===xl.En})))||void 0===t?void 0:t.meaning)||s.meaning,h=s.meanings.find((function(e){return e.lang===xl[u]}));return Object(B.jsxs)(gl,{word:s.word,loading:j,onSaveClick:function(){d({variables:{wordData:{word:s.word,meaning:b,kor:(null===h||void 0===h?void 0:h.meaning)||"",noun:"",verb:"",adv:"",adj:""}}})},onDismiss:i,children:[Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{className:"c-orange",children:"(Eng)"})," ",b]}),h&&Object(B.jsxs)("p",{children:[Object(B.jsxs)("b",{className:"c-orange",children:["(",h.lang,")"]})," ",h.meaning]})]})}function yl(e){var n,t=e.word,s=e.onDismiss,i=Object(U.ob)(),c=Object(R.a)(i,1)[0],a=E.a.useState(!1),o=Object(R.a)(a,2),r=o[0],l=o[1],d=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return K.a(pe,n)}({variables:{search:t},onCompleted:function(e){e.dictionary||(c("Word not found",2e3),l(!0))}}),j=d.loading,u=d.data,b=d.error,h=se().data.profile,m=he({onCompleted:function(e){e.setNote?c(ml[e.setNote],2e3):c(ml.TRY_AGAIN,2e3)}}),p=Object(R.a)(m,2),O=p[0],x=p[1].loading,g=null===h||void 0===h||null===(n=h.nativeLanguage)||void 0===n?void 0:n.languageKey;return Object(B.jsx)(gl,{word:t,loading:x,onSaveClick:function(){if(!r){var e=u.dictionary;O({variables:{wordData:{word:t,meaning:"",kor:"Ko"===g?u.dictionary.meaning.korean:"",noun:e.meaning.noun,verb:e.meaning.verb,adv:e.meaning.adverb,adj:e.meaning.adjective}}})}},saveDisabled:r,onDismiss:s,children:j?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.N,{}),Object(B.jsx)(U.N,{}),Object(B.jsx)(U.N,{})]}):r?Object(B.jsx)("div",{style:{color:"#e22d2d"},children:"Word not Found"}):b?Object(B.jsx)("div",{children:b}):null!==u&&void 0!==u&&u.dictionary?["korean","noun","verb","adverb","adjective"].filter((function(e){return u.dictionary.meaning[e]})).map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsxs)("b",{className:"c-orange",children:["(",Object(dn.upperFirst)(e),")"]})," ",u.dictionary.meaning[e]]},e)})):Object(B.jsx)("div",{children:"not found "})})}function vl(e){var n=e.script,t=e.phrases,s=E.a.useRef(),i=Object(pl.useTextSelection)(s.current),c=i.clientRect,a=i.textContent,o=(i.isCollapsed,E.a.useState(null)),r=Object(R.a)(o,2),l=r[0],d=r[1],j=E.a.useState(null),u=Object(R.a)(j,2),b=u[0],h=u[1],m=E.a.useState(null),p=Object(R.a)(m,2),O=p[0],x=p[1];return E.a.useEffect((function(){if(!(c&&a&&s.current)){var e=setTimeout((function(){h(null)}),20);return function(){clearTimeout(e)}}var n=s.current.getClientRects()[0],t=c.x-n.x,i=c.y-n.y,o=c.width,r=c.height,l={x:t,y:i,width:c.width,height:c.height,top:r>=0?i:i+r,right:o>=0?t+o:t,bottom:r>=0?i+r:i,left:o>=0?t:t+o};h({clientRect:l,textContent:a})}),[c,a]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{style:{position:"relative"},children:[Object(B.jsx)("div",{ref:s,id:"subTitle",style:{marginTop:4,userSelect:"text",position:"relative"},children:Object(B.jsx)(hl.a,{highlightClassName:"phrase",searchWords:t.map((function(e){return e.word})).filter((function(e){return new RegExp("\\b".concat(e,"\\b"),"ig").test(n)})),autoEscape:!0,textToHighlight:n,highlightTag:function(e){var n=e.children;e.highlightIndex;return Object(B.jsx)("div",{style:{userSelect:"none",display:"inline",backgroundColor:"#e0e0ff"},onClick:function(){x(t.find((function(e){return e.word.toUpperCase()===n.toUpperCase()})))},className:"highlighted-text",children:n})}})}),b&&Object(B.jsx)("div",{style:{zIndex:1e3,userSelect:"none",position:"absolute",left:b.clientRect.left+b.clientRect.width/2,top:b.clientRect.bottom+10},className:"indicator",children:Object(B.jsx)("div",{className:"indicator__cta",children:Object(B.jsxs)("div",{className:"indicator__cta-link",style:{zIndex:100,cursor:"pointer"},onClick:function(e){e.preventDefault(),d(b.textContent)},onTouchEnd:function(e){e.preventDefault(),d(b.textContent)},children:["Meaning of ",b.textContent]})})})]}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!O,cssClass:"dictionaryModal",onDidDismiss:function(){return x(void 0)},children:O&&Object(B.jsx)(fl,{phraseWord:O,onDismiss:function(){return x(void 0)}})}),Object(B.jsx)(U.y,{mode:"ios",isOpen:!!l,cssClass:"dictionaryModal",onDidDismiss:function(){return d(void 0)},onWillDismiss:function(){return d(void 0)},children:l&&Object(B.jsx)(yl,{word:l,onDismiss:function(){return d(void 0)}})})]})}function wl(e){var n=e.Footer,t=Object(I.useState)(0),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Zr(),o=Rr((function(e){return e.sceneIdx})),r=Rr((function(e){return e.moveNext})),l=Rr((function(e){return e.playerState})),d=Rr((function(e){return e.ytPlayer})),j=xn("isHelpScreenForReviewStepDone",[{element:"#translation",popover:{title:"See translation and tips",description:"Check your translation in your native language.",position:"top-right"}}]).showHelpGuide,u=a.scenes[o];Object(I.useEffect)((function(){j().then((function(){d.seekTo(u.start,!0),d.playVideo()}))}),[o]),Object(I.useEffect)((function(){if(l===qr.a.PLAYING){var e=setInterval((function(){d.getCurrentTime()>u.end&&(console.log("end"),clearInterval(e),d.pauseVideo(),d.seekTo(u.start,!0),c((function(e){return Math.min(e+1,3)})))}),100);return function(){return clearInterval(e)}}}),[l]),Object(I.useEffect)((function(){i>0&&(d.seekTo(u.start,!0),d.playVideo())}),[i]);var b=Object(dn.range)(3).map((function(e){return{num:e+1,done:e<i}}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Qr,{}),Object(B.jsxs)("div",{className:"reviewing ion-padding",children:[Object(B.jsx)("div",{className:"ion-text-center  ion-align-self-center",children:b.map((function(e){return Object(B.jsx)(U.S,{className:Object(sn.a)("lesson-loop",e.done&&"complete"),children:Object(B.jsx)("span",{className:Object(sn.a)(e.done&&"c-red"),children:e.num})},e.num)}))}),Object(B.jsx)("h5",{children:"Analyze what you missed"}),Object(B.jsx)(Ol,{}),Object(B.jsx)(Nl,{})]}),Object(B.jsx)(n,{children:Object(B.jsx)(Vr,{onClick:function(){return r()}})})]})}function Nl(){var e=Zr(),n=Rr((function(e){return e.sceneIdx})),t=xe({variables:{sceneIdx:n}}).data,s=ul(e.scenes[n].langs.En.txt,t.dictation);return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:"ion-margin-top",children:[Object(B.jsx)("div",{style:{color:"#747474"},children:"What you typed:"}),Object(B.jsx)("div",{className:"review-diffs",children:s.map((function(e,n){var t=e.value,s=e.added,i=e.removed;return Object(B.jsx)("div",{style:{display:"inline",color:i?"#f22":"#333",textDecoration:s?"line-through":"none"},children:t},n)}))})]})})}var Sl=Object(I.createContext)({isRecording:!1,isPlaying:!1,setIsRecording:function(e){},setIsPlaying:function(e){}});function kl(){return Object(I.useContext)(Sl)}function zl(e){var n=e.status,t=e.onRecordStart,s=e.onRecordStop;return Object(B.jsx)(U.J,{className:"ion-margin-top ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{id:"record-voice",style:{height:"70px"},size:"6",className:"ion-align-self-center ion-text-center",children:"idle"===n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.S,{children:"Tap to record"}),Object(B.jsx)(U.p,{onClick:t,style:{height:"100%"},src:"../../../../../assets/images/mic.png"})]}):"recording"===n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.S,{className:"c-red",children:"Tap to stop"}),Object(B.jsx)(U.p,{onClick:s,style:{height:"100%"},src:"../../../../../assets/images/recordingStarted.gif"})]}):"stopped"===n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.S,{children:"Try Again"}),Object(B.jsx)(U.p,{onClick:t,style:{height:"100%"},src:"../../../../../assets/images/mic.png"})]}):"prepare"===n?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.S,{children:"Wait"}),Object(B.jsx)(U.p,{style:{height:"100%"},src:"../../../../../assets/images/record-prepare.png"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(U.S,{children:"Try Again"}),Object(B.jsx)(U.p,{style:{height:"100%"},src:"../../../../../assets/images/record-prepare.png"})]})})})}function Ll(e,n){var t=fn.a.getPlatform(),s={encoding:"LINEAR16",sampleRateHertz:n,languageCode:"en-US",enableWordTimeOffsets:!1,audio_channel_count:1};return"ios"!==t&&"android"!==t||(s={encoding:"MP3",sampleRateHertz:16e3,languageCode:"en-US"}),fetch("https://speech.googleapis.com/v1p1beta1/speech:recognize?key=".concat("AIzaSyBbKxoaEv0Lgnm8ixXSZEbzJA7aePr9Od8"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({config:s,audio:{content:e}})}).then((function(e){return e.json()})).then((function(e){var n=e.results.map((function(e){return e.alternatives[0]})),t=Object(dn.mean)(n.map((function(e){return e.confidence}))),s=n.map((function(e){return e.transcript})).join(". "),i=parseInt((100*t).toFixed(),10);return Promise.resolve({confidence:t,transcript:s,percent:i})}))}function Cl(e){var n=e.loading,t=e.error,s=void 0===t?void 0:t,i=e.data,c=e.index,a=e.isPlaying,o=e.onPlay,r=e.onStop;return Object(B.jsxs)(U.f,{className:"confidence-level ",mode:"ios",children:[i&&0===c&&Object(B.jsx)(U.h,{children:Object(B.jsxs)(U.i,{id:"checkmark-icon",children:[Object(B.jsx)(U.o,{mode:"md",icon:Ce.d}),Object(B.jsx)(U.S,{children:i.percent>=93?"You got it! English must be your mother tongue!":i.percent>=80?"You are pretty good.":i.percent>=70?"You are not bad.":"That doesn't sound good. You can try again."})]})}),Object(B.jsx)(U.g,{children:Object(B.jsxs)("div",{style:{display:"flex"},children:[n?Object(B.jsx)("div",{style:{flex:1},children:Object(B.jsx)(U.O,{})}):s?Object(B.jsx)("div",{style:{flex:1},children:"Can not evaluate. Try again"}):Object(B.jsxs)("div",{style:{flex:1},children:[Object(B.jsxs)(U.S,{className:"percent",children:[0===c?"Latest":c+1,": ",i.percent,"%"," "]}),Object(B.jsx)(U.C,{className:Object(sn.a)(0===c?"latest-confidence":"old-confidence"),mode:"md",value:i.confidence}),Object(B.jsx)("div",{style:{marginTop:"8px"},children:Object(B.jsx)("div",{style:{color:0===c?"#e22d2d":"#444"},children:i.transcript})})]}),Object(B.jsx)("div",{style:{height:"40px",width:"40px"},children:a?Object(B.jsx)(U.p,{className:"pointer",onClick:r,style:{height:"100%"},src:"../../../../../assets/images/audioFilePlaying.png"}):Object(B.jsx)(U.p,{className:"pointer",onClick:o,style:{height:"100%"},src:"../../../../../assets/images/play.png"})})]})})]})}function Il(e){var n=e.audioAsBase64,t=e.sampleRate,s=e.index,i=e.isPlaying,c=e.onPlay,a=e.onStop,o=function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onCompleted:null}).onCompleted,s=E.a.useState({loading:!0}),i=Object(R.a)(s,2),c=i[0],a=i[1];return E.a.useEffect((function(){Ll(e,n).then((function(e){a({loading:!1,data:e}),t&&t(Object(_.a)(Object(_.a)({},e),{},{error:!1}))})).catch((function(e){a({loading:!1,error:e}),t&&t({error:!0,confidence:null,transcript:null,percent:null})}))}),[e,n]),c}(n,t,{onCompleted:e.onCompleted}),r=o.data,l=o.error,d=o.loading;return Object(B.jsx)(Cl,{data:r,error:l,loading:d,index:s,isPlaying:i,onStop:a,onPlay:c})}var El=t(220);var Dl=function(){var e=window.AudioContext||window.webkitAudioContext;if(e)return new e}().sampleRate||44100;function Pl(){var e=E.a.useRef(),n=Rr((function(e){return e.sceneIdx})),t=Rr((function(e){return e.ytPlayer})),s=E.a.useState(!1),i=Object(R.a)(s,2),c=i[0],a=i[1],o=fe({variables:{sceneIdx:n}}).data,r=kl(),l=function(e){var n=e.onStop,t=E.a.useState("idle"),s=Object(R.a)(t,2),i=s[0],c=s[1],a=E.a.useState(null),o=Object(R.a)(a,2),r=o[0],l=o[1],d=E.a.useState(),j=Object(R.a)(d,2),u=j[0],b=j[1],h=Rr((function(e){return e.ytPlayer})),m=E.a.useCallback(Object(A.a)(X.a.mark((function e(){var t,s,i,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.stopRecording();case 3:return e.next=5,u.getBlob();case 5:return t=e.sent,e.next=8,u.getInternalRecorder();case 8:return s=e.sent.sampleRate,e.next=11,u.getDataURL();case 11:i=e.sent.replace(/^.+base64,/,""),a=URL.createObjectURL(t),console.log({sampleRate:s,audioAsBase64:i,audioUrl:a}),c("stopped"),l(a),n&&n({audioAsBase64:i,audioUrl:a,sampleRate:s}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log({err:e.t0});case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),[u,c,l,n]);function p(){return p=Object(A.a)(X.a.mark((function e(){var n,t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.pauseVideo(),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:n=e.sent,(t=new El.RecordRTCPromisesHandler(n,{type:"audio",mimeType:"audio/webm",recorderType:El.StereoAudioRecorder,sampleRate:Dl,numberOfAudioChannels:1})).startRecording(),b(t),c("recording");case 8:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return E.a.useEffect((function(){if("recording"===i){var e=setTimeout((function(){m()}),2e4);return function(){return clearTimeout(e)}}}),[i,m]),{status:i,sampleRate:Dl,startRecording:function(){return p.apply(this,arguments)},stopRecording:m,mediaBlobUrl:r}}({onStop:function(e){console.log("onStop"),function(e,n){var t=ho(),s=uo(),i="".concat(s,":").concat(e),c=t[i]||[];ho(Object(_.a)(Object(_.a)({},t),{},Object(wi.a)({},i,[n].concat(Object(Lt.a)(c.slice(0,2)))))),c.slice(2).map((function(e){URL.revokeObjectURL(e.audioUrl)}))}(n,Object(_.a)(Object(_.a)({},e),{},{stt:null}))}}),d=l.status,j=l.startRecording,u=l.stopRecording;l.mediaBlobUrl;function b(e){return h.apply(this,arguments)}function h(){return(h=Object(A.a)(X.a.mark((function n(s){var i;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(i=e.current)&&(t.pauseVideo(),i.src=s,i.play(),r.setIsPlaying(!0),a(!0));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=Object(A.a)(X.a.mark((function n(){var t;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(t=e.current)&&(t.pause(),t.currentTime=0,r.setIsPlaying(!1));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pauseVideo(),m(),r.setIsRecording(!0),j();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(),r.setIsRecording(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("audio",{ref:e,hidden:!0,onPlaying:function(){a(!0)},onPause:function(){a(!1)},onEnded:function(){a(!1)}}),e.current&&Object(B.jsx)(B.Fragment,{children:o.records.map((function(t,s){return t.stt?Object(B.jsx)(Cl,{data:t.stt,loading:!1,error:t.stt.error,index:s,isPlaying:!e.current.paused&&e.current.src===t.audioUrl&&c,onPlay:function(){b(t.audioUrl)},onStop:m},t.audioUrl):Object(B.jsx)(Il,{audioAsBase64:t.audioAsBase64,sampleRate:t.sampleRate,index:s,isPlaying:!e.current.paused&&e.current.src===t.audioUrl&&c,onPlay:function(){b(t.audioUrl)},onStop:m,onCompleted:function(e){console.log("oncomplt",{data:e}),function(e,n,t){var s=ho(),i=uo(),c="".concat(i,":").concat(e),a=(s[c]||[]).map((function(e,s){return s===n?Object(_.a)(Object(_.a)({},e),{},{stt:t}):e}));ho(Object(_.a)(Object(_.a)({},s),{},Object(wi.a)({},c,a)))}(n,s,e)}},t.audioUrl)}))}),Object(B.jsx)(zl,{status:d,onRecordStart:function(){return O.apply(this,arguments)},onRecordStop:function(){return x.apply(this,arguments)}})]})}var Tl=t(190),_l=t(85),Al=t(73),Rl=fn.c.Filesystem,Ml=16e3;function Xl(){var e=kl(),n=e.setIsPlaying,t=e.setIsRecording,s=E.a.useState(),i=Object(R.a)(s,2),c=i[0],a=i[1],o=Rr((function(e){return e.sceneIdx})),r=E.a.useState(!1),l=Object(R.a)(r,2),d=l[0],j=l[1],u=fe({variables:{sceneIdx:o}}).data,b=E.a.useMemo((function(){return new Tl.a}),[]),h=Rr((function(e){return e.ytPlayer})),m=Object(U.jb)(),p=Object(R.a)(m,1)[0],O=function(e){var n=e.onStop,t=E.a.useState("idle"),s=Object(R.a)(t,2),i=s[0],c=s[1],a=E.a.useState(),o=Object(R.a)(a,2),r=o[0],l=o[1],d=E.a.useState(),j=Object(R.a)(d,2),u=j[0],b=j[1];function h(){return(h=Object(A.a)(X.a.mark((function e(){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.stopRecord(),u.release(),t=new _l.a,e.next=6,Rl.readFile({path:t.tempDirectory+r});case 6:(s=e.sent)&&console.log({data:s}),c("stopped"),n&&n({audioAsBase64:null===s||void 0===s?void 0:s.data,audioUrl:r,sampleRate:Ml}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log({err:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function m(){return m=Object(A.a)(X.a.mark((function e(){var n,t,s,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _l.a,t=new Al.a,s="record-".concat(+new Date,".m4a"),e.next=5,n.createFile(n.tempDirectory,s,!0);case 5:(i=t.create(n.tempDirectory.replace(/^file:\/\//,"")+s)).startRecord(),b(i),l(s),c("recording");case 10:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return{status:i,sampleRate:Ml,startRecording:function(){return m.apply(this,arguments)},stopRecording:function(){return h.apply(this,arguments)}}}({onStop:function(e){console.log("onStop"),function(e,n){var t=ho(),s=uo(),i="".concat(s,":").concat(e),c=t[i]||[];ho(Object(_.a)(Object(_.a)({},t),{},Object(wi.a)({},i,[n].concat(Object(Lt.a)(c.slice(0,2)))))),c.slice(2).map((function(e){URL.revokeObjectURL(e.audioUrl)}))}(o,Object(_.a)(Object(_.a)({},e),{},{stt:null}))}}),x=O.status,g=O.startRecording,f=O.stopRecording;function y(e){return v.apply(this,arguments)}function v(){return v=Object(A.a)(X.a.mark((function e(t){var s,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.pauseVideo(),w(),s=new Al.a,i=new _l.a,(c=s.create(i.tempDirectory.replace(/^file:\/\//,"")+t)).play(),a({audioFile:c,fileName:t}),c.onStatusUpdate.subscribe((function(e){console.log({status:e}),e===s.MEDIA_STOPPED&&w()})),j(!0),n(!0);case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(A.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&(t=c.audioFile,c.fileName,t.stop(),t.release(),a(null)),j(!1),n(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return S=Object(A.a)(X.a.mark((function e(){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.pauseVideo(),w(),e.next=4,b.getMicrophoneAuthorizationStatus();case 4:if("authorized"!==(n=e.sent)){e.next=8;break}e.next=16;break;case 8:if("not_determined"!==n){e.next=15;break}return e.next=11,b.requestMicrophoneAuthorization();case 11:"authorized"===e.sent||p("No Mic Permisson"),e.next=16;break;case 15:p("No Mic Permisson");case 16:g(),t(!0);case 18:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function k(){return(k=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(),t(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.jsxs)(B.Fragment,{children:[u.records.map((function(e,n){return e.stt?Object(B.jsx)(Cl,{data:e.stt,loading:!1,error:e.stt.error,index:n,isPlaying:(null===c||void 0===c?void 0:c.fileName)===e.audioUrl&&d,onPlay:function(){y(e.audioUrl)},onStop:w},e.audioUrl):Object(B.jsx)(Il,{audioAsBase64:e.audioAsBase64,sampleRate:e.sampleRate,index:n,isPlaying:(null===c||void 0===c?void 0:c.fileName)===e.audioUrl&&d,onPlay:function(){y(e.audioUrl)},onStop:w,onCompleted:function(e){console.log("oncomplt",{data:e}),function(e,n,t){var s=ho(),i=uo(),c="".concat(i,":").concat(e),a=(s[c]||[]).map((function(e,s){return s===n?Object(_.a)(Object(_.a)({},e),{},{stt:t}):e}));ho(Object(_.a)(Object(_.a)({},s),{},Object(wi.a)({},c,a)))}(o,n,e)}},e.audioUrl)})),Object(B.jsx)(zl,{status:x,onRecordStart:function(){return S.apply(this,arguments)},onRecordStop:function(){return k.apply(this,arguments)}})]})}function Fl(){var e=Rr((function(e){return e.lesson})),n=Rr((function(e){return e.sceneIdx})),t=E.a.useState(!0),s=Object(R.a)(t,2),i=s[0],c=s[1],a=e.scenes[n],o=a.langs.En.txt;return console.log("script",o),console.log("scene",a),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"6",className:"ion-align-self-center",children:Object(B.jsx)("p",{className:"c-dark-grey ion-no-margin",children:"Script:"})}),Object(B.jsx)(U.j,{size:"6",className:"ion-align-self-center",children:i?Object(B.jsx)(U.d,{onClick:function(){return c(!1)},className:"ion-float-right translation-btn",color:"dark",mode:"ios",shape:"round",size:"small",fill:"outline",id:"script-label",children:"Hide"}):Object(B.jsx)(U.d,{onClick:function(){return c(!0)},className:"ion-float-right translation-btn",color:"dark",mode:"ios",fill:"solid",shape:"round",size:"small",children:"Show"})})]}),i&&Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("p",{className:"ion-no-margin",id:"subTitle",children:o})})})]})}var Ul=fn.c.Filesystem,Jl=16e3;var Bl=t(365);function ql(e){return Wl.apply(this,arguments)}function Wl(){return(Wl=Object(A.a)(X.a.mark((function e(n){var t,s,i,c,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[n.PERMISSION.RECORD_AUDIO,n.PERMISSION.WRITE_EXTERNAL_STORAGE,n.PERMISSION.READ_EXTERNAL_STORAGE],e.next=3,Promise.all(t.map((function(e){return n.checkPermission(e)})));case 3:if(s=e.sent,i=s.map((function(e){return e.hasPermission})),c=Object(dn.zip)(i,t).filter((function(e){return!Object(R.a)(e,1)[0]})).map((function(e){var n=Object(R.a)(e,2);n[0];return n[1]})),console.log(c),!(c.length>0)){e.next=21;break}return e.prev=8,e.next=11,n.requestPermissions(c);case 11:if(a=e.sent,console.log("reqRes",a.hasPermission),a.hasPermission){e.next=15;break}return e.abrupt("return",!1);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(8),console.log("err reqPerm",e.t0),e.abrupt("return",!1);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}function Vl(){var e=kl(),n=e.setIsPlaying,t=e.setIsRecording,s=E.a.useState(),i=Object(R.a)(s,2),c=i[0],a=i[1],o=Rr((function(e){return e.sceneIdx})),r=E.a.useState(!1),l=Object(R.a)(r,2),d=l[0],j=l[1],u=fe({variables:{sceneIdx:o}}).data,b=(E.a.useMemo((function(){return new Tl.a}),[]),E.a.useMemo((function(){return new Bl.a}),[])),h=Rr((function(e){return e.ytPlayer})),m=Object(U.jb)(),p=Object(R.a)(m,1)[0],O=function(e){var n=e.onStop,t=E.a.useState("idle"),s=Object(R.a)(t,2),i=s[0],c=s[1],a=E.a.useState(),o=Object(R.a)(a,2),r=o[0],l=o[1],d=E.a.useState(),j=Object(R.a)(d,2),u=j[0],b=j[1];function h(){return(h=Object(A.a)(X.a.mark((function e(){var t,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.stopRecord(),u.release(),b(null),t=new _l.a,e.next=7,Ul.readFile({path:t.externalDataDirectory+r});case 7:(s=e.sent)&&console.log({data:s}),c("stopped"),n&&n({audioAsBase64:null===s||void 0===s?void 0:s.data,audioUrl:r,sampleRate:Jl}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log({err:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function m(){return m=Object(A.a)(X.a.mark((function e(){var n,t,s,i,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new _l.a,t=new Al.a,s="record-".concat(+new Date,".mp3"),i=n.externalDataDirectory.replace(/^file:\/\//,"")+s,(a=t.create(i)).startRecord(),b(a),l(s),c("recording");case 9:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return{status:i,sampleRate:Jl,startRecording:function(){return m.apply(this,arguments)},stopRecording:function(){return h.apply(this,arguments)}}}({onStop:function(e){console.log("onStop"),function(e,n){var t=ho(),s=uo(),i="".concat(s,":").concat(e),c=t[i]||[];ho(Object(_.a)(Object(_.a)({},t),{},Object(wi.a)({},i,[n].concat(Object(Lt.a)(c.slice(0,2)))))),c.slice(2).map((function(e){URL.revokeObjectURL(e.audioUrl)}))}(o,Object(_.a)(Object(_.a)({},e),{},{stt:null}))}}),x=O.status,g=O.startRecording,f=O.stopRecording;function y(e){return v.apply(this,arguments)}function v(){return v=Object(A.a)(X.a.mark((function e(t){var s,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.pauseVideo(),w(),s=new Al.a,i=new _l.a,(c=s.create(i.externalDataDirectory.replace(/^file:\/\//,"")+t)).play(),a({audioFile:c,fileName:t}),c.onStatusUpdate.subscribe((function(e){console.log({status:e}),e===s.MEDIA_STOPPED&&w()})),j(!0),n(!0);case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(A.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&(t=c.audioFile,c.fileName,t.stop(),t.release(),a(null)),j(!1),n(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.pauseVideo(),w(),e.next=4,ql(b);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",p("No Mic Permisson"));case 7:g(),t(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(),t(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.jsxs)(B.Fragment,{children:[u.records.map((function(e,n){return e.stt?Object(B.jsx)(Cl,{data:e.stt,loading:!1,error:e.stt.error,index:n,isPlaying:(null===c||void 0===c?void 0:c.fileName)===e.audioUrl&&d,onPlay:function(){y(e.audioUrl)},onStop:w},e.audioUrl):Object(B.jsx)(Il,{audioAsBase64:e.audioAsBase64,sampleRate:e.sampleRate,index:n,isPlaying:(null===c||void 0===c?void 0:c.fileName)===e.audioUrl&&d,onPlay:function(){y(e.audioUrl)},onStop:w,onCompleted:function(e){console.log("oncomplt",{data:e}),function(e,n,t){var s=ho(),i=uo(),c="".concat(i,":").concat(e),a=(s[c]||[]).map((function(e,s){return s===n?Object(_.a)(Object(_.a)({},e),{},{stt:t}):e}));ho(Object(_.a)(Object(_.a)({},s),{},Object(wi.a)({},c,a)))}(o,n,e)}},e.audioUrl)})),Object(B.jsx)(zl,{status:x,onRecordStart:function(){return S.apply(this,arguments)},onRecordStop:function(){return k.apply(this,arguments)}})]})}fn.c.Device;function Yl(){var e=fn.a.getPlatform();return"web"===e?Object(B.jsx)(Pl,{}):"ios"===e?Object(B.jsx)(Xl,{}):"android"===e?Object(B.jsx)(Vl,{}):void 0}function Hl(e){var n=e.Footer,t=Object(I.useState)(0),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Rr((function(e){return e.sceneIdx})),o=Rr((function(e){return e.moveNext})),r=Rr((function(e){return e.setOverlay})),l=Rr((function(e){return e.playerState})),d=Rr((function(e){return e.ytPlayer})),j=Rr((function(e){return e.lesson})),u=function(){var e=Object(I.useState)(!1),n=Object(R.a)(e,2),t=n[0],s=n[1],i=Object(I.useState)(!1),c=Object(R.a)(i,2);return{isRecording:t,isPlaying:c[0],setIsRecording:s,setIsPlaying:c[1]}}(),b=j.scenes[a];Object(I.useEffect)((function(){d.seekTo(b.start,!0),d.playVideo()}),[a]),Object(I.useEffect)((function(){if(l===qr.a.PLAYING){r(null);var e=setInterval((function(){d.getCurrentTime()>b.end&&(console.log("end"),clearInterval(e),d.pauseVideo(),d.seekTo(b.start,!0),c((function(e){return Math.min(e+1,3)})))}),100);return function(){return clearInterval(e)}}}),[l]),Object(I.useEffect)((function(){if(i>0){r(Object(B.jsx)("h2",{children:"Repeat what you just heard."}));var e=setTimeout((function(){r(null),u.isPlaying||u.isRecording||i<3&&(d.seekTo(b.start,!0),d.playVideo())}),8e3);return function(){return clearTimeout(e)}}}),[i,u.isRecording,u.isPlaying]);var h=Object(dn.range)(3).map((function(e){return{num:e+1,done:e<i}}));return Object(B.jsxs)(Sl.Provider,{value:u,children:[Object(B.jsx)(Qr,{}),Object(B.jsxs)("div",{className:"practice ",children:[Object(B.jsx)("div",{className:"ion-text-center ion-align-self-center shadowing",id:"scene-iteration",children:h.map((function(e){return Object(B.jsx)(U.S,{className:Object(sn.a)("lesson-loop",e.done&&"complete"),children:Object(B.jsx)("span",{className:Object(sn.a)(e.done&&"c-red"),children:e.num})},e.num)}))}),Object(B.jsx)("h5",{children:"1 ) Shadow (repeat what you hear)"}),Object(B.jsx)(Fl,{}),Object(B.jsx)(U.J,{className:"ion-margin-top ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)("h5",{children:"2 ) Record your speech and get it evaluated"})})}),Object(B.jsx)(Yl,{})]}),Object(B.jsx)(n,{children:Object(B.jsx)(Vr,{onClick:function(){return o()}})})]})}var Gl=t(366),$l=(t(665),fn.c.Keyboard,fn.c.Filesystem,Er.b().shape({subLessonId:Er.c().required(),isDraft:Er.a().required()})),Kl=[{name:"Step 1 : Listen",_id:"Listen"},{name:"Step 2 : Dictation",_id:"Dictation"},{name:"Step 3 : Review",_id:"Review"},{name:"Step 4 : Practice",_id:"Practice"},{name:"Step 5 : Re-listen",_id:"Re-listen"}];function Ql(){return Zl.apply(this,arguments)}function Zl(){return(Zl=Object(A.a)(X.a.mark((function e(){var n,t,s,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ic.a.getInfo();case 3:t=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.next=10,_t.a.getInfo();case 10:return s=e.sent,i="".concat(s.manufacturer," ( ").concat(s.platform," ) ").concat(s.model," ( ").concat(s.osVersion," ) - ").concat(null===(n=t)||void 0===n?void 0:n.version),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ed(e){var n=e.isOpen,t=e.onDismiss,s=Rr((function(e){return e.lesson})),i=Rr((function(e){return e.step})),c=Rr((function(e){return e.sceneIdx})),a=I.useState(""),o=Object(R.a)(a,2),r=o[0],l=o[1],d=Object(U.ob)(),j=Object(R.a)(d,1)[0],u=function(e){var n=Object(_.a)(Object(_.a)({},Z),e);return Q.a(me,n)}({onCompleted:function(e){e.reportLessonIssue?(j(ml.CONTACT_US_REQUEST_SENT_SUCCESSFULLY,2e3),t()):j(ml.TRY_AGAIN,2e3)}}),b=Object(R.a)(u,1)[0];function h(){return(h=Object(A.a)(X.a.mark((function e(){var n,t,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=r.trim()).length){e.next=4;break}return j("Please enter a message."),e.abrupt("return");case 4:return e.next=6,Ql();case 6:t=e.sent,a={message:n,scene:c+1,step:Kl[i-1].name,lessonName:s.lessonName,userPlatform:t},b({variables:{report:a}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.jsx)(U.y,{mode:"ios",isOpen:n,cssClass:"reportIssueModal",onWillDismiss:t,children:Object(B.jsx)("div",{className:"app-report-issue",children:Object(B.jsx)(U.J,{children:Object(B.jsxs)(U.j,{children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{size:"11",className:"ion-align-self-center",children:Object(B.jsx)("h4",{className:"ion-no-margin c-orange",children:"Would you like to report an issue?"})}),Object(B.jsx)(U.j,{size:"1",className:"ion-align-self-center ion-text-right",children:Object(B.jsx)(U.o,{mode:"md",icon:Ce.i,className:"pointer",id:"modal-dismiss",onClick:t})})]}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center report-block",children:[Object(B.jsx)(U.t,{lines:"none",className:"issue-textarea ion-margin-bottom",children:Object(B.jsx)(U.T,{rows:5,placeholder:"Please write the issue here...",value:r,onIonChange:function(e){return l(e.detail.value)}})}),Object(B.jsxs)(U.S,{children:["- Lesson : ",s.lessonName]}),Object(B.jsx)("br",{}),Object(B.jsxs)(U.S,{children:["- Scene : ",c+1]}),Object(B.jsx)("br",{}),Object(B.jsxs)(U.S,{children:["- ",Kl[i-1].name]})]})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top",children:Object(B.jsx)(U.j,{size:"12",className:"ion-align-self-center",children:Object(B.jsx)(U.d,{mode:"ios",color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return h.apply(this,arguments)},children:"Submit"})})})]})})})})}function nd(){var e=I.useRef(),n=I.useRef(),t=I.useState(!1),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Rr((function(e){return e.lesson})),o=Rr((function(e){return e.setScrollTop})),r=Rr((function(e){return e.ytPlayer})),l=Rr((function(e){return e.step})),d=Rr((function(e){return e.stop}));function j(e){var t=I.useState(null),s=Object(R.a)(t,2),i=s[0],c=s[1];return I.useEffect((function(){if(n.current){var t=P.a.createPortal(e.children,n.current);c(t)}}),[n.current,c]),i}return console.log("step and stop",l,d),Object(B.jsxs)(U.A,{className:"lesson-step-page",children:[Object(B.jsx)(cl,{}),Object(B.jsxs)(U.k,{id:"ion-content",ref:e,scrollEvents:!0,onIonScroll:function(e){o(e.detail.scrollTop)},children:[Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"lesson ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",children:[Object(B.jsx)(Xr,{youtubeId:a.youtubeId,onClickReportIssue:function(){d(),c(!0)}}),r&&Object(B.jsx)(B.Fragment,{children:1===l?Object(B.jsx)(al,{Footer:j}):2===l?Object(B.jsx)(sl,{Footer:j}):3===l?Object(B.jsx)(wl,{Footer:j}):4===l?Object(B.jsx)(Hl,{Footer:j}):5===l?Object(B.jsx)(ol,{Footer:j}):null})]})})}),i&&Object(B.jsx)(ed,{isOpen:i,onDismiss:function(){return c(!1)}})]}),Object(B.jsx)(U.l,{mode:"ios",children:Object(B.jsx)(U.m,{className:"ion-no-padding",children:Object(B.jsx)(U.J,{className:"lesson ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",sizeLg:"8",sizeXl:"8",children:Object(B.jsx)("div",{ref:n})})})})})]})}function td(e){var n=e.error,t=e.resetErrorBoundary;return Object(B.jsxs)("div",{role:"alert",children:[Object(B.jsx)("p",{children:"Something went wrong:"}),Object(B.jsx)("pre",{children:n.message}),Object(B.jsx)("button",{onClick:t,children:"Try again"})]})}var sd=function(){var e=Object(F.f)(),n=$l.cast(e),t=n.subLessonId,s=(n.isDraft,Rr((function(e){return e.loading}))),i=Rr((function(e){return e.init})),c=Rr((function(e){return e.setLesson}));I.useEffect((function(){return function(){i()}}),[]);var a=re({variables:{id:t},onCompleted:function(e){uo(e.lesson._id),c(e.lesson)},skip:!t});return s||!a.data?Object(B.jsx)(U.C,{}):Object(B.jsx)(Gl.ErrorBoundary,{FallbackComponent:td,onReset:function(){},children:Object(B.jsx)(nd,{})})},id="https://asset.speakypeaky.com/",cd="https://validator.fovea.cc/v1/validate?appName=com.summer.startenglishnow&apiKey=f8ba72c1-7125-4f97-9c57-da5ae62fbc45",ad=t(43),od=(t(666),function(){var e=Object(U.nb)(),n=Object(I.useState)(!1),t=Object(R.a)(n,2),s=t[0],i=t[1],c=Object(I.useState)(!1),a=Object(R.a)(c,2),o=a[0],r=a[1],l=se().data,d=Object(U.kb)(),j=Object(R.a)(d,2),u=j[0],b=j[1],h=Object(U.ob)(),m=Object(R.a)(h,2),p=m[0],O=(m[1],Object(I.useState)(!1)),x=Object(R.a)(O,2),g=(x[0],x[1],Object(U.jb)()),f=Object(R.a)(g,1)[0],y=Object(I.useState)({}),v=Object(R.a)(y,2),w=(v[0],v[1]);console.log("profile",null===l||void 0===l?void 0:l.profile);var N=Object(I.useState)(!1),S=Object(R.a)(N,2),k=(S[0],S[1]),z=cd,L=null,C=Object(I.useState)([]),E=Object(R.a)(C,2),D=E[0],P=E[1];Object(I.useEffect)((function(){}),[null===l||void 0===l?void 0:l.profile]);var T={"com.startenglishnow.yearly":"yearly","com.startenglishnow.6months":"6_months","com.startenglishnow.monthly":"monthly"},_=["com.startenglishnow.yearly","com.startenglishnow.6months","com.startenglishnow.monthly"],M=function(){var e=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u("Please wait..."),e.next=4,Ee("/user/resend-email",{method:"POST",body:JSON.stringify({email:n.email})});case 4:(t=e.sent).error?(b(),p("".concat(t.error),3e3),console.log("res.error",t.error)):(b(),p("".concat(t.message),3e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();function F(e){return J.apply(this,arguments)}function J(){return(J=Object(A.a)(X.a.mark((function n(t){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.owned?(p("Subscribed successfully. Enjoy learning English!",2e3),e.push("/subscription")):p("Something went wrong",2e3);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var q=function(){var e=Object(A.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(U.hb)("cordova")){e.next=4;break}i(!0),e.next=24;break;case 4:if(e.prev=4,"NotVerified"!==(null===l||void 0===l?void 0:l.profile.status)){e.next=8;break}return f({header:"Speaky Peaky",message:"It seems like you haven't verified your account. <br> Please check your email for verification.",buttons:[{text:"Cancel",role:"cancel",cssClass:"danger",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Resend",handler:function(){M(null===l||void 0===l?void 0:l.profile)}}]}),e.abrupt("return");case 8:L=ad.a.get(n),ad.a.order(n,{applicationUsername:null===l||void 0===l?void 0:l.profile._id}).error((function(e){console.log({err:e}),L=null})).then((function(e){L=e,console.log("then",e.id)})),console.log("ordered"),console.log("ordered",L),ad.a.when(n).registered((function(e){console.log("registered"+e.alias)})),ad.a.when(n).expired((function(e){console.log("expired",e.id),b(),e.finish()})),ad.a.when(n).approved((function(e){var n,t;console.log("approved",null===(n=L)||void 0===n?void 0:n.id,e.id,e.owned),(null===(t=L)||void 0===t?void 0:t.id)===e.id?e.verify():e.finish()})),ad.a.when(n).verified((function(e){console.log("verified",e.description,JSON.stringify(e)),$(e).then((function(n){console.log({success:n}),n&&e.finish()})).catch((function(e){b(),console.log({err:e})}))})),ad.a.when(n).finished((function(e){console.log("finished",e.id,e.owned)})),ad.a.when(n).owned((function(e){var n,t;console.log("owned",null===(n=L)||void 0===n?void 0:n.id,"&&",e.id,"&&",e.owned),(null===(t=L)||void 0===t?void 0:t.id)===e.id&&e.owned?(F(e),b()):(b(),console.log(e))})),ad.a.error((function(e){w({error:"ERROR ".concat(e.code,": ").concat(e.message)}),setTimeout((function(){w({error:""})}),1e4)})),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log("Error Ordering "+e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}(),W=function(){Object(U.hb)("ios")?window.open("https://apps.apple.com/us/app/speaky-peaky/id1486127431","_blank"):Object(U.hb)("android")&&window.open("https://play.google.com/store/apps/details?id=com.summer.startenglishnow","_blank")};function V(e){return Y.apply(this,arguments)}function Y(){return Y=Object(A.a)(X.a.mark((function e(n){var t,s,i,c,a,o,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.stringify(n),s=JSON.parse(t),console.log("response",s),i=s.transaction,console.log("transaction",i),c=JSON.parse(i.receipt),console.log("receipt",c),c.autoRenewing){e.next=9;break}throw new Error("no autoRenewing");case 9:return a=T[n.id],o={orderId:c.orderId,packageName:c.packageName,productId:c.productId,purchaseToken:c.purchaseToken,type:"Android",productType:a},console.log("data",JSON.stringify(o)),e.next=14,Ee("/userSubscription/setUserSubscription",{method:"POST",body:JSON.stringify(o)});case 14:if(r=e.sent,console.log("res",r),!r.message.startsWith("Subscribed successfully.")){e.next=20;break}return e.abrupt("return",!0);case 20:throw new Error("server error");case 21:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function H(e){return G.apply(this,arguments)}function G(){return G=Object(A.a)(X.a.mark((function e(n){var t,s,i,c,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.stringify(n),(s=JSON.parse(t)).transaction){e.next=4;break}return e.abrupt("return");case 4:return i=s.transaction,c=T[n.id],a={orderId:i.transaction_id,packageName:"com.summer.startenglishnow",productId:i.product_id,purchaseToken:i.appStoreReceipt,type:"iOS",productType:c},e.next=9,Ee("/userSubscription/setUserSubscription",{method:"POST",body:JSON.stringify(a)});case 9:if(!e.sent.message.startsWith("Subscribed successfully.")){e.next=14;break}return e.abrupt("return",!0);case 14:throw new Error("server error");case 15:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function $(e){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(U.hb)("android")){e.next=4;break}return e.abrupt("return",V(n));case 4:if(!Object(U.hb)("ios")){e.next=6;break}return e.abrupt("return",H(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(U.rb)((function(){console.log("entering"),Object(U.hb)("cordova")||r(!0),Object(U.hb)("cordova")&&(ad.a.verbosity=ad.a.DEBUG,ad.a.register([{id:"com.startenglishnow.yearly",alias:"com.startenglishnow.yearly",type:ad.a.PAID_SUBSCRIPTION},{id:"com.startenglishnow.6months",alias:"com.startenglishnow.6months",type:ad.a.PAID_SUBSCRIPTION},{id:"com.startenglishnow.monthly",alias:"com.startenglishnow.monthly",type:ad.a.PAID_SUBSCRIPTION}]),ad.a.validator=z,ad.a.applicationUsername=null===l||void 0===l?void 0:l.profile._id,ad.a.when("subscription").updated((function(e){var n=_.map((function(e){return ad.a.get(e)}));n.every((function(e){return e&&e.valid}))&&((null===n||void 0===n?void 0:n.length)>=3?n.forEach((function(e,n){P[n]=e})):P(n),ad.a.ready()&&k(!0))})),ad.a.ready((function(){console.log("Store is ready"),console.log("Products: "+ad.a.products),console.log(JSON.stringify(ad.a.get("com.startenglishnow.monthly")))})),ad.a.refresh())})),Object(U.pb)((function(){})),Object(I.useEffect)((function(){}),[D]),Object(U.sb)((function(){})),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{children:Object(B.jsxs)(U.X,{children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting/account",children:Object(B.jsx)(U.o,{color:"dark",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Subscription Plans"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsxs)(U.k,{children:[Object(B.jsxs)(U.y,{isOpen:s,cssClass:"myModal",children:[Object(B.jsx)(U.n,{mode:"ios",class:"ion-no-border",children:Object(B.jsx)(U.X,{mode:"ios","no-border":!0,children:Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:function(){return i(!1)},children:Object(B.jsx)(U.o,{mode:"md",slot:"icon-only",name:"close"})})})})}),Object(B.jsx)(U.k,{className:"modal",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{children:Object(B.jsxs)("div",{className:"heading",children:[Object(B.jsxs)("h1",{children:["\uc5ec\ub7ec\ubd84\uc758 \ud578\ub4dc\ud3f0\uc744 \uc774\uc6a9\ud558\uc5ec ",Object(B.jsx)("span",{children:"\ubaa8\ubc14\uc77c \uc5b4\ud50c"}),"\uc5d0\uc11c \uc218\uac15\uad8c\uc744 \uad6c\ub9e4\ud574 \uc8fc\uc138\uc694"," "]}),Object(B.jsx)("h6",{className:"subtite",children:"\uc2a4\ud53c\ud0a4\ud53c\ud0a4 \uc5b4\ud50c \ub2e4\uc6b4\ub85c\ub4dc\ubc1b\uae30 "})]})}),Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsxs)(U.j,{className:"ion-justify-content-center ion-align-content-center",children:[Object(B.jsxs)("div",{className:"android-content",children:[Object(B.jsx)("img",{src:"./assets/images/single.png",alt:"placeholder"}),Object(B.jsx)("img",{src:"./assets/images/scan.png",alt:"placeholder"})]}),Object(B.jsx)(U.d,{id:"modal-button",shape:"round",expand:"block",className:"button-c",onClick:W,children:"LET'S START"})]})})]})})]}),Object(B.jsxs)(U.y,{isOpen:o,cssClass:"myModal",children:[Object(B.jsx)(U.n,{class:"ion-no-border",children:Object(B.jsx)(U.X,{"no-border":!0,children:Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",onClick:function(){return r(!1)},children:Object(B.jsx)(U.o,{slot:"icon-only",name:"close"})})})})}),Object(B.jsx)(U.k,{className:"modal",children:Object(B.jsxs)(U.m,{children:[Object(B.jsx)(U.J,{children:Object(B.jsxs)("div",{className:"heading",children:[Object(B.jsxs)("h1",{children:["\uc5ec\ub7ec\ubd84\uc758 \ud578\ub4dc\ud3f0\uc744 \uc774\uc6a9\ud558\uc5ec ",Object(B.jsx)("span",{children:"\ubaa8\ubc14\uc77c \uc5b4\ud50c"}),"\uc5d0\uc11c \uc218\uac15\uad8c\uc744 \uad6c\ub9e4\ud574 \uc8fc\uc138\uc694"," "]}),Object(B.jsx)("h6",{className:"subtite",children:"\uc2a4\ud53c\ud0a4\ud53c\ud0a4 \uc5b4\ud50c \ub2e4\uc6b4\ub85c\ub4dc\ubc1b\uae30 "})]})}),Object(B.jsx)(U.J,{className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsxs)(U.j,{className:"ion-justify-content-center ion-align-content-center",children:[Object(B.jsxs)("div",{className:"android-content",children:[Object(B.jsx)("img",{src:"./assets/images/single.png",alt:"placeholder"}),Object(B.jsx)("img",{src:"./assets/images/scan.png",alt:"placeholder"})]}),Object(B.jsx)(U.d,{id:"modal-button",shape:"round",expand:"block",className:"button-c",onClick:W,children:"LET'S START"})]})})]})})]}),Object(B.jsx)(U.m,{className:"ion-padding main",children:Object(B.jsx)(U.J,{className:"ion-align-items-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",className:"ion-align-self-center",children:Object(B.jsx)("p",{className:"subheading",children:"Unlock the journey to speak English fluently"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",className:"ion-align-self-center",children:Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{onClick:function(){return q(_[2])},className:"ion-margin-top subscription-card monthly ion-no-margin",children:Object(B.jsxs)(U.g,{children:[Object(B.jsx)("h1",{className:"subscription-title ion-text-center",children:"MONTHLY"}),Object(B.jsxs)("h1",{className:"subscription-amount ion-text-center",children:["US $9.99 / ",Object(B.jsx)("span",{children:"month"})]}),Object(B.jsxs)("ul",{className:"monthly-list",children:[Object(B.jsx)("li",{children:"40 lessons per month"}),Object(B.jsx)("li",{children:"Dictionary"}),Object(B.jsx)("li",{children:"Saving words"}),Object(B.jsx)("li",{children:"Instant feedback on listening and pronunciation"})]}),Object(B.jsx)("p",{className:"ion-text-center card-bottom",children:"Recurring monthly payment. Cancel anytime."})]})})}),Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeLg:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.f,{onClick:function(){return q(_[1])},className:"ion-margin-top subscription-card half-year ion-no-margin",children:Object(B.jsxs)(U.g,{children:[Object(B.jsx)("h1",{className:"subscription-title ion-text-center",children:"6 MONTHS"}),Object(B.jsxs)("h1",{className:"subscription-amount ion-text-center",children:["US $7.99 / month"," "]}),Object(B.jsx)("h3",{className:"subscription-amount2 ion-text-center",children:"(US $47.9 / 6 months)"}),Object(B.jsxs)("ul",{className:"yearly-list",children:[Object(B.jsx)("li",{children:"Unlimited lessons"}),Object(B.jsx)("li",{children:"Dictionary"}),Object(B.jsx)("li",{children:"Saving words"}),Object(B.jsx)("li",{children:"Instant feedback on listening and pronunciation"})]}),Object(B.jsx)("p",{className:"ion-text-center",children:"Billed as one payment. Recurring monthly payment. Cancel anytime."})]})})})]})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center subscribed",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"10",className:"ion-align-self-center subs-image",style:{backgroundImage:"url('./assets/images/Capture1.PNG')"},children:Object(B.jsx)("div",{className:"subs-me",children:Object(B.jsxs)(U.J,{className:"ion-fle",children:[Object(B.jsx)(U.j,{className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsxs)("div",{className:"android-content",children:[Object(B.jsx)("img",{src:"./assets/images/googleplay.png",className:"googlePlay",alt:"placeholder",onClick:function(){window.open("https://play.google.com/store/apps/details?id=com.summer.startenglishnow","_blank")}}),Object(B.jsx)("img",{src:"./assets/images/Android_qr-code 2.png",alt:"placeholder"}),Object(B.jsx)("img",{src:"./assets/images/scan.png",alt:"placeholder"})]})}),Object(B.jsx)(U.j,{sizeMd:"6",className:"ion-justify-content-center ion-align-content-center",children:Object(B.jsxs)("div",{className:"apple-content",children:[Object(B.jsx)("img",{src:"./assets/images/appleplay.png",className:"googlePlay",alt:"placeholder",onClick:function(){window.open("https://apps.apple.com/us/app/speaky-peaky/id1486127431","_blank")}}),Object(B.jsx)("img",{src:"./assets/images/appleqr.png",alt:"placeholder"}),Object(B.jsx)("img",{src:"./assets/images/scan.png",alt:"placeholder"})]})})]})})})})]})})})]})]})}),rd=(t(667),function(){var e=Object(U.nb)(),n=se(),t=n.data,s=(n.loading,n.error,n.refetch),i=Object(I.useState)([]),c=Object(R.a)(i,2),a=c[0],o=c[1],r=Object(I.useState)([]),l=Object(R.a)(r,2),d=l[0],j=l[1],u=function(){var e=Object(A.a)(X.a.mark((function e(){var n,t,s,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.a.getInfo();case 2:n=e.sent,t=["ios","android"].includes(n.platform),s="web"===n.platform&&["ios","android"].includes(n.operatingSystem),i="web"===n.platform&&!s,Object(_.a)(Object(_.a)({},n),{},{isApp:t,isMobileWeb:s,isDesktop:i});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=new Date;new Array;vt.locale("en");var h=vt.months()[(new Date).getMonth()],m=new Date("".concat(null===t||void 0===t?void 0:t.profile.userSubscriptionStartDate)).toDateString(),p=new Date("".concat(null===t||void 0===t?void 0:t.profile.userSubscriptionEndDate)).toDateString(),O=new Date(b.getFullYear(),b.getMonth(),1).toISOString(),x=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString(),g=function(){var e=Object(A.a)(X.a.mark((function e(n,t){var s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee("/lesson/completedLessons-within-timeRange",{method:"POST",body:JSON.stringify({startDate:n,endDate:t})});case 3:(s=e.sent)&&s.data.length&&o(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=Object(A.a)(X.a.mark((function e(n,t){var s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee("/lesson/completedLessons-within-timeRange",{method:"POST",body:JSON.stringify({startDate:n,endDate:t})});case 3:(s=e.sent)&&s.data.length&&j(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(I.useEffect)((function(){f(null===t||void 0===t?void 0:t.profile.userSubscriptionStartDate,null===t||void 0===t?void 0:t.profile.userSubscriptionEndDate)}),[t]),Object(I.useEffect)((function(){}),[a]),Object(I.useEffect)((function(){}),[d]),Object(U.pb)((function(){Object(U.hb)("ios")?Al.a.create(id+"audioFile/SMALL_CROWD_APPLAUSE.wav").play():Al.a.create(id+"audioFile/SMALL_CROWD_APPLAUSE.mp3").play()})),Object(U.rb)((function(){s(),u(),O&&x&&g(O,x)})),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{children:Object(B.jsx)(U.X,{children:Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})})}),Object(B.jsx)(U.k,{className:"ion-padding ion-padding-top lesson-complete",children:Object(B.jsx)(U.m,{className:"h-100 ion-padding",children:Object(B.jsx)(U.J,{className:"h-100 auth-form ion-align-items-center",children:Object(B.jsxs)(U.j,{className:"ion-align-self-center",children:[Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"6",sizeLg:"4",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)(U.p,{className:"lesson-progress",src:"../../../../../assets/images/lesson-completed-celebration.png",alt:"lesson-progress"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center ion-text-center",children:Object(B.jsx)("h1",{children:Object(B.jsxs)("strong",{children:["Great job. ",Object(B.jsx)("br",{}),"You made it!"]})})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center ion-margin-top ion-margin-bottom",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center ion-no-padding",children:[Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{"size-xs":"2","size-sm":"2","size-md":"1","size-xl":"1","size-lg":"1",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.p,{src:"../../../../../assets/images/checkmark-grey.png",className:"checkmark-grey"})}),Object(B.jsx)(U.j,{"size-xs":"10","size-sm":"10","size-md":"11","size-xl":"11","size-lg":"11",className:"ion-align-self-center ion-no-padding",children:Object(B.jsxs)("h2",{children:[Object(B.jsx)(U.S,{color:"danger",children:Object(B.jsxs)("strong",{className:"completed-lessons-count",children:["\xa0 ",a.length," \xa0"]})}),a.length<=1?Object(B.jsxs)("small",{children:["lesson in ",h]}):Object(B.jsxs)("small",{children:["lessons in ",h]})]})})]}),Object(B.jsxs)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:[Object(B.jsx)(U.j,{"size-xs":"2","size-sm":"2","size-md":"1","size-xl":"1","size-lg":"1",className:"ion-align-self-center ion-no-padding",children:Object(B.jsx)(U.p,{src:"../../../../../assets/images/checkmark-grey.png",className:"checkmark-grey"})}),Object(B.jsx)(U.j,{"size-xs":"10","size-sm":"10","size-md":"11","size-xl":"11","size-lg":"11",className:"ion-align-self-center ion-no-padding",children:"Subscription"===(null===t||void 0===t?void 0:t.profile.currentPackage)?Object(B.jsxs)("h2",{children:[Object(B.jsx)(U.S,{color:"danger",children:Object(B.jsxs)("strong",{className:"completed-lessons-count",children:["\xa0 ",d.length," \xa0"]})}),d.length<=1?Object(B.jsxs)("small",{children:[" ","lesson in subscription month (",m," -",p," )"]}):Object(B.jsxs)("small",{children:["lessons in subscription month (",m," - ",p," ",")"]})]}):Object(B.jsxs)("h2",{children:[Object(B.jsx)(U.S,{color:"danger",children:Object(B.jsxs)("strong",{className:"completed-lessons-count",children:["\xa0 ",null===t||void 0===t?void 0:t.profile.completedLesson]})}),(null===t||void 0===t?void 0:t.profile.completedLesson)<=1?Object(B.jsx)("small",{children:" \xa0 lesson in Free Trial"}):Object(B.jsx)("small",{children:" \xa0 lessons in Free Trial"})]})})]})]})}),Object(B.jsx)(U.J,{className:"ion-padding-top ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center IonText-center",children:Object(B.jsx)(U.d,{className:"subs",mode:"ios",shape:"round",expand:"block",onClick:function(){return e.push("dashboard/library")},children:"More lessons"})})}),Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center IonText-center",children:Object(B.jsx)(U.d,{style:{textTransform:"inherit"},color:"danger",fill:"outline",shape:"round",expand:"block",onClick:function(){return e.push("/dashboard/review")},children:"Review saved words / expressions"})})})]})})})})]})}),ld=(t(668),function(){var e=Object(U.nb)(),n=Object(U.ob)(),t=Object(R.a)(n,1)[0],s=Object(U.jb)(),i=Object(R.a)(s,1)[0],c=Object(U.kb)(),a=Object(R.a)(c,2),o=a[0],r=a[1],l=Object(I.useState)({fullName:"",email:"",currentPackage:"",subscriptionLabel:"",subscriptionType:"",promotionalLesson:"",endDate:"",startDate:""}),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(I.useState)({productType:"",userSubscriptionStartDate:"",autoRenewal:"",userSubscriptionEndDate:"",subscriptionType:"",productId:"",subscriptionId:""}),h=Object(R.a)(b,2),m=h[0],p=h[1],O=function(){var e=Object(A.a)(X.a.mark((function e(n){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee("/userSubscription/getUserSubscription",{method:"POST",body:JSON.stringify({subscriptionType:n})});case 3:return t=e.sent,e.abrupt("return","Your subscription has been canceled."===t.message);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var n=Object(A.a)(X.a.mark((function n(s){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee("/userSubscription/getUserSubscription",{method:"POST",body:JSON.stringify({subscriptionType:s})}).then((function(n){"Please verify your email to subscribe the package."===n.message?(t("".concat(n.message),3e3),e.push("/setting")):"Your subscription has been canceled."===n.message?e.push("/subscriptionplans"):p(n.data)}));case 3:n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=Object(A.a)(X.a.mark((function n(){var t,s,i;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={Subscription:"Subscription",SubscriptionExpired:"Subscription Expired",Trial:"Free Trial"},n.prev=1,n.next=4,Ee("/user/get-profile");case 4:if(s=n.sent,"Subscription"===(i=s.data).currentPackage){n.next=9;break}return e.push("/subscriptionplans","forward"),n.abrupt("return");case 9:if(n.t0="Subscription"===i.currentPackage&&i.subscriptionType,!n.t0){n.next=14;break}return n.next=13,O(i.subscriptionType);case 13:n.t0=n.sent;case 14:if(!n.t0){n.next=16;break}i.currentPackage="SubscriptionExpired";case 16:u({fullName:i.fullName,email:i.email,currentPackage:i.currentPackage,subscriptionLabel:t[i.currentPackage],subscriptionType:i.subscriptionType,promotionalLesson:i.subscriptionLesson,endDate:new Date("".concat(i.userSubscriptionEndDate)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),startDate:new Date("".concat(i.userSubscriptionStartDate)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),x(i.subscriptionType||"Android"),n.next=23;break;case 20:n.prev=20,n.t1=n.catch(1),console.log(n.t1);case 23:case"end":return n.stop()}}),n,null,[[1,20]])})));return function(){return n.apply(this,arguments)}}(),f=function(){var e=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o("Please wait..."),e.next=4,Ee("/payments/updateSubscription/",{method:"POST",body:JSON.stringify({subscriptionId:m.subscriptionId})});case 4:return e.sent,e.next=7,x("Stripe");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,r(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(U.qb)((function(){})),Object(U.sb)((function(){})),Object(U.rb)((function(){g()})),Object(B.jsxs)(U.A,{children:[Object(B.jsx)(U.n,{mode:"ios",children:Object(B.jsxs)(U.X,{mode:"ios",children:[Object(B.jsx)(U.e,{slot:"start",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/setting",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",name:"chevron-back"})})}),Object(B.jsx)(U.V,{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("b",{children:"Subscription"})})}),Object(B.jsx)(U.e,{slot:"end",children:Object(B.jsx)(U.d,{mode:"md",routerLink:"/dashboard/lessons",routerDirection:"root",children:Object(B.jsx)(U.o,{color:"dark",mode:"md",slot:"icon-only",src:"./assets/images/home.svg"})})})]})}),Object(B.jsx)(U.k,{className:"ion-padding subscribe",children:"Promotion"===j.subscriptionType?Object(B.jsx)(U.m,{className:"ion-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin",children:"Subscription Status"})})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[Object(B.jsx)(U.S,{color:"medium",children:"Type"}),Object(B.jsxs)("h3",{className:"mt-5",children:["p",null===j||void 0===j?void 0:j.subscriptionType]})]})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[Object(B.jsx)(U.S,{color:"medium",children:"Start Date"}),Object(B.jsx)("h3",{className:"mt-5",children:null===j||void 0===j?void 0:j.startDate})]})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[Object(B.jsx)(U.S,{color:"medium",children:"Start Date"}),Object(B.jsx)("h3",{className:"mt-5",children:null===j||void 0===j?void 0:j.endDate})]})})]})})}):m.productType?Object(B.jsx)(U.m,{className:"ion-padding",children:Object(B.jsx)(U.J,{className:"ion-align-items-center",children:Object(B.jsxs)(U.j,{size:"12",className:"ion-align-self-center",children:[Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",className:"ion-align-self-center",children:Object(B.jsx)("h1",{className:"ion-no-margin",children:"Subscription Status"})})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[Object(B.jsx)(U.S,{color:"medium",children:"Type"}),"yearly"===m.productType?Object(B.jsx)("h3",{className:"mt-5",children:"Annual"}):"6_months"===m.productType?Object(B.jsx)("h3",{className:"mt-5",children:"6 Months"}):"monthly"===m.productType?Object(B.jsx)("h3",{className:"mt-5",children:"Monthly"}):""]})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[Object(B.jsx)(U.S,{color:"medium",children:"Start Date"}),Object(B.jsx)("h3",{className:"mt-5",children:new Date("".concat(null===m||void 0===m?void 0:m.userSubscriptionStartDate)).toDateString()})]})}),Object(B.jsx)(U.J,{className:"ion-margin-bottom ion-align-items-center ion-justify-content-center",children:Object(B.jsxs)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:[m.autoRenewal?Object(B.jsx)(U.S,{color:"medium",children:"Subscription Renews On"}):Object(B.jsx)(U.S,{color:"medium",children:"Subscription Expires On"}),Object(B.jsx)("h3",{className:"mt-5",children:new Date("".concat(m.userSubscriptionEndDate)).toDateString()})]})}),m.autoRenewal?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",onClick:function(){i({message:"Are you sure you want to exit lesson?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(){console.log("Confirm Okay"),"Stripe"===j.subscriptionType?f():"iOS"===j.subscriptionType?window.open("itms-apps://apps.apple.com/account/subscriptions","_blank"):"Android"===j.subscriptionType&&window.open("https://play.google.com/store/account/subscriptions?sku="+m.productId+"&package=com.startenglishnow.speakypeaky")}}]})},children:Object(B.jsx)(U.S,{id:"auto-renewal",color:"medium",children:"Turn off auto-renewal"})})}):"","Stripe"===m.subscriptionType?Object(B.jsx)(U.J,{className:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",className:"ion-align-self-center",children:Object(B.jsx)(U.S,{id:"auto-renewal",color:"medium",children:"Manage Stripe Cards"})})}):""]})})}):[0,1,2,3,4].map((function(e){return Object(B.jsx)(U.J,{class:"ion-align-items-center ion-justify-content-center",children:Object(B.jsx)(U.j,{sizeXs:"12",sizeSm:"12",sizeMd:"7",sizeLg:"6",sizeXl:"4",class:"ion-align-self-center",children:Object(B.jsxs)(U.t,{mode:"ios",children:[Object(B.jsxs)(U.v,{children:[Object(B.jsx)(U.N,{animated:!0,style:{width:"40%"}}),Object(B.jsx)("h3",{children:Object(B.jsx)(U.N,{animated:!0,style:{width:"70%"}})})]}),Object(B.jsx)(U.d,{slot:"end",color:"danger",mode:"ios",fill:"clear",children:Object(B.jsx)(U.N,{animated:!0,style:{width:"20%"}})})]})})},e)}))})]})}),dd=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jd(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");dd?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var s=t.headers.get("content-type");404===t.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ud(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ud(n,e)}))}}function ud(e,n){navigator.serviceWorker.register(e).then((function(e){e.waiting&&n&&n.onWaiting&&n.onWaiting(e),e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var bd=new Ie.QueryClient,hd=function(e){var n=e.children,t=se(),s=t.loading,i=t.data;return s?null:null!==i&&void 0!==i&&i.profile?Object(B.jsx)(B.Fragment,{children:n}):Object(B.jsx)(F.a,{to:"/login"})},md=function(){var e=Object(U.jb)(),n=Object(R.a)(e,1)[0],t=Object(I.useState)(""),s=Object(R.a)(t,2),i=s[0],c=s[1],a=Object(I.useState)(!1),o=Object(R.a)(a,2),r=o[0],l=o[1],d=Object(I.useState)(null),j=Object(R.a)(d,2),u=j[0],b=j[1],h=Object(I.useState)(!1),m=Object(R.a)(h,2),p=(m[0],m[1]),O=function(){var e=Object(A.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u&&(u.postMessage({type:"SKIP_WAITING"}),u.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()}))),l(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.useEffect)((function(){jd({onSuccess:function(){return p(!0)},onUpdate:function(e){b(e.waiting),l(!0)},onWaiting:function(e){b(e.waiting),l(!0)}})}),[]),r&&n({message:"A new version is available. Want to load the new version?",buttons:[{text:"No",role:"cancel",handler:function(){console.log("not installing new version")}},{text:"Okay",handler:function(){O()}}]}),Object(I.useEffect)((function(){}),[r,i]),Object(I.useEffect)((function(){H.getNativeStorage("token").then((function(e){null!==e&&void 0!==e&&e.data?c("/dashboard/lessons"):c("/on-boarding")}))}),[]),Object(U.hb)("mobileweb")&&!V.a.get("did-suggest-app")&&n({header:"Hey there,",message:"For better experience, would you like to download the Speaky Peaky app?",buttons:[{text:"No",role:"cancel",handler:function(){V.a.set("did-suggest-app","yes",{expires:7})}},{text:"Download",handler:function(){V.a.set("did-suggest-app","yes",{expires:7}),window.open("https://speakypeaky.page.link/home")}}]}),Object(B.jsx)(Ie.QueryClientProvider,{client:bd,children:Object(B.jsx)(to.a,{client:wo,children:Object(B.jsx)(U.b,{children:Object(B.jsx)(J.a,{children:Object(B.jsxs)(U.I,{children:[Object(B.jsx)(F.b,{exact:!0,path:"/home",children:Object(B.jsx)(q,{})}),Object(B.jsx)(F.b,{path:"/dashboard",children:Object(B.jsx)(hd,{children:Object(B.jsx)(bt,{})})}),Object(B.jsx)(F.b,{path:"/lessons",exact:!0,children:Object(B.jsx)(qn,{})}),Object(B.jsx)(F.b,{path:"/lessons/intro",children:Object(B.jsx)(ht,{})}),Object(B.jsx)(F.b,{path:"/lesson-details/:subLessonId",children:Object(B.jsx)(hd,{children:Object(B.jsx)(kr,{})})}),Object(B.jsx)(F.b,{path:"/course-details/:lessonId",children:Object(B.jsx)(hd,{children:Object(B.jsx)(Ir,{})})}),Object(B.jsx)(F.b,{path:"/lesson-steps/:subLessonId/:isDraft",exact:!1,children:Object(B.jsx)(hd,{children:Object(B.jsx)(sd,{})})}),Object(B.jsx)(F.b,{exact:!0,path:"/on-boarding",children:Object(B.jsx)(vi,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/post-boarding",children:Object(B.jsx)(no,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/login",children:Object(B.jsx)(Kc,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/sign-up",children:Object(B.jsx)(Kc,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/forgot-pw",children:Object(B.jsx)(xa,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/my-courses",children:Object(B.jsx)(Ao,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/popular",children:Object(B.jsx)(Uo,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/new-uploads",children:Object(B.jsx)(hd,{children:Object(B.jsx)(Yo,{})})}),Object(B.jsx)(F.b,{exact:!0,path:"/subscription",children:Object(B.jsx)(hd,{children:Object(B.jsx)(ld,{})})}),Object(B.jsx)(F.b,{exact:!0,path:"/saved-lessons",children:Object(B.jsx)(Qo,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/draft-lessons",children:Object(B.jsx)(sr,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/library/:topicId",children:Object(B.jsx)(Io,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/subscriptionplans",children:Object(B.jsx)(od,{})}),Object(B.jsx)(F.b,{exact:!0,path:"/lesson-complete",children:Object(B.jsx)(rd,{})}),Ut.map((function(e){return Object(B.jsx)(F.b,Object(_.a)({},e),e.path)})),Object(B.jsx)(F.b,{exact:!0,path:"/",children:Object(B.jsx)(F.a,{to:i})})]})})})})})},pd=function(e){e&&e instanceof Function&&t.e(75).then(t.bind(null,811)).then((function(n){var t=n.getCLS,s=n.getFID,i=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),s(e),i(e),c(e),a(e)}))};P.a.render(Object(B.jsx)(md,{}),document.getElementById("root")),pd(),Object(T.a)(window)}},[[669,3,6]]]);
//# sourceMappingURL=main.cb04d997.chunk.js.map