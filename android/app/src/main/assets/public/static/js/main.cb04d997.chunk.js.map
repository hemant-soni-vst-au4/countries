{"version":3,"sources":["../node_modules/@ionic/pwa-elements/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/validatorjs/src/lang sync /^/.//.*$","schema/types-and-hooks.tsx","pages/Home.tsx","utils/storageHelper.ts","fetchApis.ts","pages/library/LibraryPage.tsx","pages/library/LibraryTab.tsx","pages/profile/UserLevel.tsx","pages/profile/ProfileAvatar.tsx","pages/profile/getCroppedImg.ts","pages/profile/UserProgress.tsx","pages/profile/ProfileTab.tsx","hooks/useHelpGuide.tsx","hooks/useSpeak.ts","pages/review/ReviewTab.tsx","pages/lessons/LessonsHome.tsx","pages/lessons/LessonTab.tsx","components/channel.js","pages/Dashboard.tsx","pages/lessons/LessonIntro.tsx","pages/setting/Account/Account.tsx","pages/setting/Account/Edit/EditName.tsx","pages/setting/Account/Edit/UpdateEmail.tsx","pages/setting/Account/Edit/UpdatePassword.tsx","pages/setting/ShareApp.tsx","pages/setting/Reminder.tsx","pages/setting/Language.tsx","global/global.service.tsx","pages/setting/Support/Support.tsx","pages/setting/AppInfo.tsx","pages/setting/RateApp.tsx","pages/setting/Support/EmailTeam.tsx","pages/setting/Support/Faq.tsx","pages/setting/Setting.tsx","pages/onBoarding/components/CardIndicator.tsx","pages/onBoarding/components/Button.tsx","pages/onBoarding/components/ActionButton.tsx","pages/onBoarding/components/LanguageSelectorMobile.tsx","styles/globalMaterialStyles.tsx","styles/globalStyles.tsx","pages/onBoarding/OnBoarding.tsx","pages/onBoarding/components/Input.tsx","pages/onBoarding/components/PasswordInput.tsx","language/i18n.tsx","store/globalStore.tsx","pages/onBoarding/Authentication.tsx","pages/onBoarding/components/Notification.tsx","pages/onBoarding/ForgotPassword.tsx","pages/onBoarding/PostBording.tsx","apollo/typePolicies.ts","apollo/apollo-client.ts","utils/userLevels.ts","pages/library/SearchListPage.tsx","pages/lessons/CourseList.tsx","pages/lessons/PopularLessonList.tsx","utils/utils.ts","pages/lessons/NewUploadsList.tsx","pages/lessons/SavedLessonsList.tsx","pages/lessons/DraftLessonsList.tsx","pages/lessons/Comments.tsx","ApiProvider.tsx","pages/lessons/LessonDetails.tsx","pages/lessons/CourseDetailsPage.tsx","pages/lessons/lessonSteps/useLessonStore.tsx","pages/lessons/lessonSteps/LessonPlayer.tsx","pages/lessons/lessonSteps/NextButton.tsx","pages/lessons/lessonSteps/StepNavMenu.tsx","pages/lessons/lessonSteps/SceneNavMenu.tsx","pages/lessons/lessonSteps/ActionBar.tsx","pages/lessons/lessonSteps/lessonHooks.ts","pages/lessons/lessonSteps/LessonStepDictation.tsx","pages/lessons/lessonSteps/LessonStepHeader.tsx","pages/lessons/lessonSteps/LessonStepListen.tsx","pages/lessons/lessonSteps/LessonStepReListen.tsx","pages/lessons/lessonSteps/diffScript.ts","language/translation.en.ts","pages/lessons/lessonSteps/ReviewScript.tsx","pages/lessons/lessonSteps/LessonStepReview.tsx","pages/lessons/lessonSteps/step4Practice/PracticeContext.tsx","pages/lessons/lessonSteps/step4Practice/RecordButton.tsx","pages/lessons/lessonSteps/step4Practice/useSpeechToText.tsx","pages/lessons/lessonSteps/step4Practice/RecordView.tsx","pages/lessons/lessonSteps/step4Practice/useRecordRtc.tsx","pages/lessons/lessonSteps/step4Practice/RecordingView.tsx","pages/lessons/lessonSteps/step4Practice/useRecordIos.tsx","pages/lessons/lessonSteps/step4Practice/IosRecordingView.tsx","pages/lessons/lessonSteps/step4Practice/ScriptView.tsx","pages/lessons/lessonSteps/step4Practice/useRecordAndroid.tsx","pages/lessons/lessonSteps/step4Practice/AndroidRecordingView.tsx","pages/lessons/lessonSteps/step4Practice/LessonStepPractice.tsx","pages/lessons/lessonSteps/LessonStepsPage.tsx","enviornment.tsx","pages/Subscription/Subscriptionplans.tsx","pages/lessons/LessonComplete.tsx","pages/Subscription/Subscription.tsx","serviceWorkerRegistration.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","webpackContext","webpackContextResolve","LevelName","Home","router","useIonRouter","useState","showModal","setShowModal","dashboard","push","onClick","fullscreen","isOpen","cssClass","className","style","cursor","float","padding","color","size","slot","name","sizeMd","sizeXs","src","alt","storageHelper","setNativeStorage","key","value","Storage","set","JSON","stringify","data","getNativeStorage","get","ret","parse","removeNativeStorage","remove","defaultOptions","LessonFieldsFragmentDoc","gql","DashboardLessonFieldsFragmentDoc","GetProfileDocument","useGetProfileQuery","baseOptions","options","Apollo","GetDashboardDocument","useGetDashboardQuery","GetDashboardDraftLessonsDocument","GetLessonDeatilDocument","useGetLessonDeatilQuery","SetLessonSavedDocument","SetLessonCompletedDocument","GetCourseDocument","AddToMyLessonDocument","SetNoteDocument","useSetNoteMutation","ReportLessonIssueDocument","SearchDictionaryDocument","GetDictationDocument","useGetDictationQuery","GetRecordsDocument","useGetRecordsQuery","MoreNotesDocument","DeleteNoteDocument","GerReviewCompletedLessonsDocument","useGerReviewCompletedLessonsQuery","UploadProfilePictureDocument","GetUserProgressDocument","SetLevelDocument","GetUserGuideDocument","fetchApi","input","init","a","token","opts","headers","fetch","process","accesstoken","res","json","fetchSuggestedCurriculum","userProfile","fetchCourses","page","videoLevel","day","searchKeyWord","method","body","weeklyImages","Monday","Tuesday","Wednesday","Thursday","Friday","Weekend","weekdays","SearchList","React","setNoMore","profile","today","Date","getDay","query","ReactQuery","pageParam","fetchSearchLessons","userLevelName","getNextPageParam","lastPage","pages","length","onSuccess","error","isLoading","fetchNextPage","hasNextPage","isFetchingNextPage","isFetching","status","console","log","lessons","sizeSm","sizeLg","sizeXl","mode","group","i","Fragment","lesson","routerLink","_id","routerDirection","youtubeId","lessonName","icon","chevronForward","width","disabled","onIonInfinite","finally","target","complete","threshold","SearchLessons","fetchPolicy","setSearchKeyWord","trialLessonsLeft","setTrialLessonsLeft","isFocus","setIsFocus","type","list","k","find","t","trialLessonLimit","leftLesson","paddingTop","onIonFocus","onIonCancel","onIonClear","onIonChange","showCancelButton","animated","placeholder","topic","lessonTopicId","height","title","currentPackage","backgroundImage","backgroundRepeat","backgroundSize","shape","expand","LibraryTab","levelLevels","UpperBeginner","Elementary","Intermediate","Advanced","UserLevelPlayer","useGetUserGuideQuery","loading","playing","setPlaying","playerRef","useRef","ref","url","userGuide","controls","config","youtube","playerVars","showinfo","disablekb","cc_load_policy","progressInterval","onPause","onProgress","onReady","player","current","seekTo","getCurrentTime","UserLevelList","levelName","setUserLevelId","useIonAlert","present","useSetLevelMutation","onCompleted","message","setLevel","buttons","text","handler","d","label","detail","lastLevelName","variables","catch","level","lines","UserLevel","class","borderTop","toBase64","file","reject","reader","FileReader","readAsDataURL","onload","result","toString","onerror","ProfileImageUploadModal","onDismiss","onSubmit","aspect","crop","setCrop","croppedImage","setCroppedImage","image","setImage","imageBase64","setImageBase64","files","item","base64","Camera","getPhoto","quality","allowEditing","resultType","CameraResultType","Base64","source","CameraSource","Photos","correctOrientation","base64String","close","onChange","newCrop","keepSelection","onImageLoaded","min","Math","x","y","accept","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","toDataURL","getCroppedImg","ProfileAvatar","useUploadProfilePictureMutation","presentToast","dismiss","onError","err","uploadProfile","useIonToast","useIonActionSheet","useIonModal","presentModal","takePicture","direction","CameraDirection","Front","promptLabelHeader","promptLabelCancel","promptLabelPhoto","promptLabelPicture","handleUploadClick","isPlatform","Prompt","profilePic","textTransform","fullName","months","shortForm","UserProgress","useEffect","now","getMonth","selectedMonth","setSelectedMonth","showPopover","setShowPopover","start","startOfMonth","setMonth","end","addMonths","useGetUserProgressQuery","progress","progressState","byLevel","indexBy","counts","inMonthCount","datetimes","filter","date","inRange","event","onDidDismiss","m","clsx","caretDown","persist","totalCount","count","textDecoration","ProfileTab","segment","setSegment","cog","showHelpGuideFunction","steps","onClose","delay","setTimeout","driver","Driver","animate","allowClose","overlayClickNext","doneBtnText","closeBtnText","nextBtnText","prevBtnText","keyboardControl","onHighlightStarted","Element","getNode","scrollIntoView","onDeselected","isActivated","defineSteps","useHelpGuide","storageKey","getElementsByTagName","showHelpGuide","useSpeak","Capacitor","getPlatform","TextToSpeech","speak","locale","rate","ScreenReader","language","ReviewTab","element","popover","description","position","Lesson","PhraseAndVocab","UserNote","userNote","word","meaning","kor","noun","verb","adv","adj","formatDate","format","fetchMore","refetch","useIonViewWillEnter","completedLessons","moreCompletedLessons","nodes","button","videoLevelLabel","videoType","completedAt","hasMore","setUserNote","useDeleteNoteMutation","update","cache","deleteNote","idToRemove","modify","fields","moreNotes","existing","readField","omit","deleteUserNote","setDeleteUserNote","useMoreNotesQuery","nextFetchPolicy","userNotes","loadingSpinner","undefined","role","blah","StoreHelper","getThumnailUrl","Section","children","TodayLessonView","thumbnail","TodayLesson","todaysLesson","MyCourseItem","desc","preventDefault","MyCourseLoadingItem","MyCourses","myCourses","slice","myCourse","introduction","topicDetails","HorizontalLessonLoadingItem","ShareNow","SubscribeNow","HorizontalLessonList","isDraft","DraftLessonsSection","useGetDashboardDraftLessonsQuery","draftLessons","fetchMyCourses","getCompletedLessonsByUsers","subLessons","some","c","lessonId","includes","LessonsHome","refetchInterval","onBoarding","dashboardRes","sharedService","showQuickActions","details","lessonID","todayLesson","handleHelpGuide","helpLog","getElementById","leftOfData","display","alignItems","fontWeight","backgroundColor","borderRadius","savedLessons","popularLessons","newUploadLessons","isAdmin","LessonsTab","ChannelService","this","loadScript","w","window","ChannelIO","ch","arguments","l","ChannelIOInitialized","s","async","charset","parentNode","insertBefore","q","args","readyState","attachEvent","addEventListener","settings","TabIcon","active","Loading","to","Dashboard","isMobile","match","useRouteMatch","path","exact","tab","params","boot","email","href","component","LessonIntro","Account","subscriptionLabel","subscriptionType","promotionalLesson","endDate","startDate","user","setUser","checkIsExpired","SUBSCRIPTION_LABELS","Subscription","SubscriptionExpired","Trial","subscriptionLesson","userSubscriptionEndDate","toLocaleDateString","year","month","userSubscriptionStartDate","useIonViewDidLeave","useIonViewWillLeave","textAlign","fill","EditName","useIonLoading","pres","dismi","inputs","setInputs","updateName","required","UpdateEmail","showLoading","setShowLoading","updateEmail","toLowerCase","duration","UpdatePassword","password","setPassword","newPassword","setNewPassword","updatePassword","ShareApp","appURL","shareApp","Share","share","dialogTitle","Clipboard","copy","navigator","clipboard","writeText","Reminder","checked","load","setLoad","reminder","setreminder","reminderTime","setreminderTime","onChangeReminder","LocalNotifications","cancel","notifications","setReminder","setReminderTime","time","getTime","schedule","repeats","every","on","hour","getHours","minute","getMinutes","sound","attachments","actionTypeId","extra","notifs","DatePicker","show","androidTheme","ANDROID_THEMES","THEME_DEVICE_DEFAULT_LIGHT","header","moment","requestPermissions","Language","intialLanguage","nativeLanguage","languageName","selected","setSelected","changeLanguage","lang","langId","number","subTitleLanguageId","GlobalService","question","answer","expanded","Support","searchText","setSearchText","faqCategories","subscriptionsAndBillingFaqs","appFeaturesFaqs","studyMethods","suggestions","combined2","setAnswer","showAnswer","object","filtered","string","onFocus","category","AppInfo","versioncode","setVersioncode","versionnumber","setVersionnumber","logDeviceInfo","Device","getInfo","info","isApp","platform","isMobileWeb","operatingSystem","isDesktop","device","appVersion","appBuild","RateApp","EmailTeam","setDescription","subject","setSubject","emailAdmin","rows","Faq","quesData","open","setOpen","SettingList","shutdown","clearCallbacks","settingRoutes","Wrapper","styled","div","Container","Circle","Mover","CardIndicator","items","Array","interval","setInterval","clearInterval","transform","CustomButton","withStyles","root","props","Button","variant","fullWidth","Fab","ActionButton","fontSize","Content","row","Text","Selection","Image","img","keyframes","fadeIn","LanguageSelectorMobile","applyLanguage","toggle","setToggle","setLanguage","currentTarget","attributes","whiteSpace","Paper","zIndex","elevation","GlobalMaterialStyles","createTheme","palette","primary","main","secondary","warning","typography","fontFamily","overrides","MuiButton","fontStyle","outlinedPrimary","border","GlobalStyles","createGlobalStyle","Navigator","PrevBar","NextBar","SkipBarMobile","SkipBar","NavButtons","p","NavigatorBarMobile","NavigatorBar","Internals","Title","h3","Feature","cards","gesture","createGesture","el","gestureName","onMove","ev","enable","destroy","OnBoardingPageWithTranslation","withTranslation","history","useHistory","activeCard","setActiveCard","useTranslation","i18n","handleLanguageChange","redirect","next","prev","max","skip","handlers","useSwipeable","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","isLast","isFirst","opacity","styles","OnBoarding","ThemeProvider","theme","fallback","Icon","Input","boxShadow","InputBase","autoComplete","PasswordInput","showPassword","values","setValues","prop","marginTop","marginBottom","FormControl","endAdornment","InputAdornment","IconButton","onMouseDown","use","Backend","initReactI18next","backend","loadPath","addPath","allowMultiLoading","fallbackLng","debug","interpolation","escapeValue","authenticationStore","create","setCategory","authComponentState","userName","userEmail","Header","login","css","Body","Footer","Row","Form","Logo","LanguageSelector","LogoSignUp","LogoLogin","h1","SubTitle","noMargin","Highlite","span","Link","AuthenticationPage","store","enqueueSnackbar","useSnackbar","Name","Email","Confirmation","Password","Terms","Privacy","errors","setErrors","logIn","rules","validation","Validator","fails","errorMessages","errorFields","displayErrors","preventDuplicate","App","appInfo","userPlatform","manufacturer","model","osVersion","version","baseUrl","loginType","signUp","errorNotification","subHeader","setState","state","field","handleBoxChange","handleInputChange","resetInputState","margin","justifyContent","Checkbox","rel","AuthPage","anchorOrigin","vertical","horizontal","maxSnack","Notification","visible","Box","BackButton","ForgotPasswordPage","emailError","setEmailError","setEmail","resetPassword","userExist","isExist","Backdrop","background","ForgotPassword","Mobile","Desktop","GroupDesktop","GroupDesktop2","DesktopCard","GroupMobile","LightRadio","Radio","Question","VideoWrapper","Video","ButtonWrapper","Option","col","PostBordingPage","setQuestion","isDisabled","toggleDisabled","setComplete","formOne","setFormOne","formTwo","setFormTwo","changeLevel","levelId","userLevelId","previousPage","subTitle","title2","titleDesktop","QuestionCard","handleFormOne","getAttribute","handleFormTwo","selection","setSelection","RadioGroup","paddingLeft","FormControlLabel","control","light","playIcon","PostBoarding","localTypeDefs","currentLessonIdVar","makeVar","dictationsVar","recordsVar","typePolicies","Query","currentLessonId","read","_","dictation","sceneIdx","records","merge","incoming","forEach","node","idx","Mutation","updateDictation","LessonProgress","User","levelLabel","Course","errorLink","graphQLErrors","networkError","locations","httpLink","createHttpLink","uri","authLink","setContext","authorization","InMemoryCache","client","ApolloClient","link","from","typeDefs","userLevels","course","setExpanded","exp","tags","chevronUp","chevronDown","index","completedLesson","createdAt","LoadingCourse","CourseList","topicId","fetchCourseList","toLocaleLowerCase","getOldUserLevel","courses","useParams","chevronBack","getThumbnailUrl","LoadingCourseItem","CourseItem","episodeCount","CourseListPage","LessonItem","LoadingLessonItem","PopularLessonList","fetchPopularLessonList","subLessonId","NewUploadsList","fetchNewUploadList","SavedLessonsList","fetchSavedLessonList","DraftLessonsList","Keyboard","Plugins","Reply","comment","onPresentCommentActionsPopover","reply","isOwner","ellipsisVertical","OnlyComment","Comment","isComment","isReply","onPresentCommentRepliesModal","onDisLikeComment","onLikeComment","handlePopover","isCurrentUserlike","totalLike","isCurrentUserDislike","totalDislike","totalReply","toast","appendChild","CommentReply","setReply","setPage","replies","setReplies","noMore","setEvent","replyToEdit","setReplyToEdit","commentId","replyToDelete","setReplyToDelete","useFetch","post","response","getReplies","ok","total","postReply","replyLoading","postDelete","reload","trim","hide","replyId","AddComment","onCommentChange","onWillDismiss","EditReply","newReply","setNewReply","postEdit","editLoading","EditComment","newComment","setNewComment","Comments","selectedComment","setSelectedComment","commentToEdit","setCommentToEdit","commentToDelete","setCommentToDelete","setComment","ts","setTs","setResult","postSave","saveLoading","postLike","likeLoading","postDislike","dislikeLoading","deleteLoading","likeComment","dislikeComment","newData","cnt","autofocus","send","ApiProvider","cachePolicy","CachePolicies","NO_CACHE","interceptors","request","route","Introduction","lessonDetails","scenes","getLessonUsageMessage","isCompletedLesson","subscriptionProductId","action","left","StartButton","onStart","useAddToMyLessonMutation","addToMyLesson","isMy","isCompleted","handleStart","play","LessonDetails","setLessonDetails","showAlert","setShowAlert","playedSeconds","setPlayedSeconds","useSetLessonSavedMutation","isSaved","setLessonSaved","setSave","firstScene","playedRate","isSave","floor","helpDone","Boolean","origin","location","onUnstarted","flex","curTime","courseId","LessonDetailsPage","CourseDetailsLoading","CourseDetails","courseDetails","split","tag","join","CourseDetailsPage","useGetCourseQuery","SceneChangeOverlay","scnenNo","scenesLength","textShadow","StepMap","Listen","Dictation","Review","Practice","getLeftData","leftOf","step","findIndex","scene","selectedLessonScene","selectedLessonStep","useLessonStore","setLoading","studyRecords","ytPlayer","setLesson","v","dictationText","moveNext","setOverlay","pauseVideo","nextSceneIdx","moveStep","isPlaying","moveScene","setDictationText","overlay","playerState","setPlayer","setPlayerState","playVideo","prevStart","prevEnd","stop","seek","rewind","sec","cur","scrollTop","setScrollTop","subscribe","newState","playRates","LessonPlayer","onClickReportIssue","videoId","playsinline","autoplay","getPlayerState","onStateChange","PlaybackMenu","Menus","onDissmis","playbackRate","getPlaybackRate","r","setPlaybackRate","handlePlaybackRateChange","useIonPopover","dissmis","presentMenu","nativeEvent","NextButton","stepOpts","opt","newStep","StepNavMenu","SceneNavMenu","ActionBar","onPlayClick","isPlay","PlayerStates","PLAYING","useCurrentLesson","PlayCounts","setCount","itv","it","clearTimeout","range","num","done","DictationTextarea","setValue","onIonBlur","old","replace","setDictatonValue","LessonStepDictation","isSaving","setIsSaving","focusRef","useSetLessonCompletedMutation","setLessonCompleted","focus","stepTitles","LessonStepHeader","canGoBack","goBack","LessonStepListen","setSceneIdx","isEnd","setIsEnd","lastIdx","LessonStepReListen","showScript","setShowScript","langs","En","txt","stopVideo","normalizeWord","compareWord","wa","wb","diffText","oldString","newString","b","compareFunc","ia","ib","bestSubSequence","oldArr","oldStart","oldEnd","newArr","newStart","newEnd","added","removed","diffArr","msg","MSG_FOLLOWED","MSG_ACCOUNT_CREATED","MSG_OTP_SENT","MSG_PASSWORD_RESET","MSG_RECOVER_ACCOUNT","MSG_RECOVER_ACCOUNT_SUCCESS","MSG_PROFILE_UPDATED","ERR_USER_NOT_FOUND","ERR_PASSWORD_NOT_MATCHED","ERR_VALID_EMAIL","ERR_VALID_NAME","ERR_VALID_PHONE_NUMBER","ERR_INTERNAL_SERVER","ERR_USER_ALREADY_EXIST","ERR_USER_ALREADY_EXIST_RECOVER","ERR_GENRIC_OTP_EXPIRE","ERR_RECOVEREMAIL_SAME","ERR_UNAUTH","ERR_USER_BLOCKED","ERR_USER_WITHDRAWN","ERR_TOKEN_EXP","ERR_FB_ACCESS_TOKEN_EXP","ERR_GOOGLE_ACCESS_TOKEN_EXP","ERR_KAKAO_ACCESS_TOKEN_EXP","ERR_PASSWORD_IS_NOT_MATCHED","DATA_FOUND","NOT_FOUND","MSG_LEVEL_UPDATED","MSG_PASSWORD_SENT","EMAIL_NOT_FOUND","TRY_AGAIN","ALREADY_COMPLETED","VERIFICATION_MAIL_SEND","NOT_SENDMAIL","LOGIN_SUCCESS","INVALID_CREDENTIAL","WRONG_CODE","UPDATE_SUCCESSFULLY","DELETE_SUCCESSFULLY","ADD_SUCCESSFULLY","UPDATE_LESSON_COUNT","NOTE_SAVE","ALREADY_NOTE_SAVE","SUBSCRIPTION_LESSON_COUNT","NOT_VALID_EMAIL","ERR_PASSWORD","ERR_NEW_PASSWORD","ERR_CONFIRM_PASSWORD","ERR_CURRENT_PASSWORD_NOT_MATCHED","ERR_INVALID_CURRENT_PASSWORD","MSG_CHANGED_PASSWORD","NO_LESSON_FOUND","ADMIN_EMAIL_ALREADY_REGISTERED","NOT_LIKED_OWN_COMMENT","NOT_DISLIKED_OWN_COMMENT","SUBSCRIPTION_FALSE","SAVE_SUBSCRIPTION","ALREADY_SAVE","PLEASE_DO_SUBSCRIPTION","COMMENT_LIKED_SUCCESS","COMMENT_DISLIKED_SUCCESS","COMMENT_REPLY_SUCCESS","ALREADY_LIKE","ALREADY_DISLIKE","REQUEST_SENT_SUCCESSFULLY","ADMIN_VERIFICATION_EMAIL_SENT","ADMIN_ALREADY_EXISTS","ADMIN_ACCOUNT_NOT_VERIFIED_YET","ADMIN_UNAUTH","ADMIN_UPDATE_SUCCESSFULLY","ADMIN_ADD_SUCCESSFULLY","ADMIN_DELETE_SUCCESSFULLY","PLZ_CONTACT_TO_ADMIN","PLEASE_BUY_EXTRA_LESSONS","CONTACT_US_REQUEST_SENT_SUCCESSFULLY","SUBSCRIPTION_SUCCESS","VERIFICATION_EMAIL_SENT","ERR_USER_NOT_VERIFIED_EMAIL","ERR_LESSON_DELETED_BY_ADMIN","ERR_USER_NOT_VERIFIED_EMAIL_TRY_PURCHASE","ERR_LESSONS_NOT_FOUND","LESSON_SAVED","ERROR_SAVED_LESSON_NOT_FOUND","SAVED_LESSON_REMOVED","USER_CREATED","USER_DATA","PRODUCTS_DATA","PAYMENT_METHOD_ADDED","PAYMENT_METHOD_ADDED_TO_CUSTOMER","PAYMENT_METHOD_REMOVED_FROM_CUSTOMER","PAYMENT_METHODS","SUBSCRIPTION_ADDED","SUBSCRIPTION_DATA","LESSON_IS_ALREADY_EXIST_IN_SAVED_LESSON","ALL_COUPONS","COUPON_DETAILS","ScriptView","showTranslation","setShowTranslation","showInfo","setShowInfo","langKey","languageKey","script","translation","tip","ScriptBox","phrases","langKeyMap","Ko","Sp","Vi","Po","WordDialog","onSaveClick","saveDisabled","top","PhraseMeaning","phraseWord","setNote","engMean","meanings","myMean","wordData","WordMeaning","notFound","setNotFound","useSearchDictionaryQuery","search","dictionary","korean","adverb","adjective","upperFirst","useTextSelection","clientRect","textContent","isCollapsed","dicWord","setDicWord","setPhraseWord","scriptRect","getClientRects","rect","right","bottom","userSelect","highlightClassName","searchWords","RegExp","test","autoEscape","textToHighlight","highlightTag","highlightIndex","toUpperCase","onTouchEnd","LessonStepReview","DiffView","rs","PracticeContext","createContext","isRecording","setIsRecording","setIsPlaying","usePracticeContext","useContext","RecordButton","onRecordStart","onRecordStop","fetchSpeechToText","audioBase64","sampleRate","encoding","sampleRateHertz","languageCode","enableWordTimeOffsets","audio_channel_count","audio","content","results","alternatives","confidence","mean","transcript","percent","parseInt","toFixed","RecordResultItem","onPlay","onStop","checkmark","RecordView","audioAsBase64","useSpeechToText","AudioContext","webkitAudioContext","getAudioContext","RecordingView","audioRef","audioPlaying","setAudioPaying","practiceState","setStatus","mediaBlobUrl","setMediaBlobUrl","recorder","setRecorder","stopRecording","useCallback","getBlob","blob","getInternalRecorder","getDataURL","audioUrl","URL","createObjectURL","mediaDevices","getUserMedia","stream","RecordRTC","mimeType","recorderType","numberOfAudioChannels","startRecording","useRecordRtc","record","oldVar","revokeObjectURL","setRecord","stt","handleAudioPlay","audioEl","handleAudioStop","pause","currentTime","hidden","onPlaying","onEnded","paused","arrIdx","newRs","setRecordSTT","Filesystem","iosSampleRate","IosRecordingView","audioMedia","setAudioMedia","diagnostic","useMemo","Diagnostic","fileName","setFileName","audioFile","setAudioFile","stopRecord","release","File","readFile","tempDirectory","media","Media","createFile","startRecord","useRecordIos","onStatusUpdate","MEDIA_STOPPED","getMicrophoneAuthorizationStatus","requestMicrophoneAuthorization","androidSampleRate","checkMicrophonePermission","androidPermissions","permissions","PERMISSION","RECORD_AUDIO","WRITE_EXTERNAL_STORAGE","READ_EXTERNAL_STORAGE","all","checkPermission","hasPermissions","hasPermission","reqPerms","zip","reqRes","AndroidRecordingView","AndroidPermissions","externalDataDirectory","filePath","useRecordAndroid","LessonStepPractice","usePracticeState","Provider","lessonParamsSchema","yup","lessonSteps","getUserPlatform","ReportIssueModal","useReportLessonIssueMutation","reportLessonIssue","reportIssue","report","LessonStepPage","ionContentRef","footerRef","showReportModal","setShowReportModal","myPortal","setMyPortal","portal","ReactDOM","createPortal","scrollEvents","onIonScroll","ErrorFallback","resetErrorBoundary","LessonStepsPage","cast","lessonRes","FallbackComponent","onReset","environment","SubscriptionPlans","modal","setModal","presen","setErr","setIsProductLoaded","validatorUrl","orderProduct","products","setProducts","productTypes","productIds","verifyEmail","finishCheckout","product","owned","checkoutIAP","productId","Store","order","applicationUsername","when","registered","alias","expired","finish","approved","verify","verified","setSubscription","success","finished","downloading","setSubscriptionAndroid","parseResponse","transaction","receipt","autoRenewing","productType","orderId","packageName","purchaseToken","startsWith","setSubscriptionIOS","transaction_id","product_id","appStoreReceipt","verbosity","DEBUG","register","PAID_SUBSCRIPTION","validator","updated","producties","valid","ready","refresh","useIonViewDidEnter","LessonComplete","setCompletedLesson","subscribeCompletedLesson","setSubscribeCompletedLesson","currentMonth","subStartDate","toDateString","subEndDate","monthStartDate","getFullYear","toISOString","monthEndDate","getCompletedLessonsByCurrentMonth","getCompletedLessonsInSubscriptionSchedule","autoRenewal","subscriptionId","subscriptionDetails","setSubscriptionDetails","getSubscriptionDetails","turnOffStripeAutoRenewal","isLocalhost","hostname","swUrl","contentType","indexOf","serviceWorker","registration","unregister","registerValidSW","checkValidServiceWorker","waiting","onWaiting","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","queryClient","QueryClient","WithProfile","local","setLocal","newVersionAvailable","setNewVersionAvailable","waitingWorker","setWaitingWorker","setDispatch","updateServiceWorker","postMessage","serviceWorkerRegistration","Cookies","expires","ApolloProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","defineCustomElements"],"mappings":"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","file":"static/js/main.cb04d997.chunk.js","sourcesContent":["var map = {\n\t\"./pwa-action-sheet.entry.js\": [\n\t\t680,\n\t\t66\n\t],\n\t\"./pwa-camera-modal-instance.entry.js\": [\n\t\t681,\n\t\t67\n\t],\n\t\"./pwa-camera-modal.entry.js\": [\n\t\t682,\n\t\t68\n\t],\n\t\"./pwa-camera.entry.js\": [\n\t\t683,\n\t\t69\n\t],\n\t\"./pwa-toast.entry.js\": [\n\t\t684,\n\t\t70\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 395;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t686,\n\t\t7\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t687,\n\t\t8\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t688,\n\t\t9\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t689,\n\t\t19\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t690,\n\t\t20\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t691,\n\t\t52\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t692,\n\t\t21\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t693,\n\t\t22\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t694,\n\t\t23\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t695,\n\t\t24\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t696,\n\t\t53\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t697,\n\t\t12\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t698,\n\t\t25\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t699,\n\t\t54\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t700,\n\t\t55\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t701,\n\t\t26\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t702,\n\t\t27\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t703,\n\t\t28\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t704,\n\t\t29\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t705,\n\t\t30\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t706,\n\t\t10\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t707,\n\t\t16\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t708,\n\t\t11\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t709,\n\t\t31\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t710,\n\t\t32\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t711,\n\t\t33\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t712,\n\t\t13\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t713,\n\t\t18\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t714,\n\t\t56\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t715,\n\t\t34\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t716,\n\t\t35\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t717,\n\t\t36\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t718,\n\t\t37\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t719,\n\t\t57\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t720,\n\t\t15\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t721,\n\t\t58\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t722,\n\t\t38\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t723,\n\t\t17\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t724,\n\t\t39\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t725,\n\t\t40\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t726,\n\t\t41\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t727,\n\t\t14\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t728,\n\t\t59\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 397;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t729,\n\t\t74\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 399;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ar\": 255,\n\t\"./ar.js\": 255,\n\t\"./az\": 256,\n\t\"./az.js\": 256,\n\t\"./be\": 257,\n\t\"./be.js\": 257,\n\t\"./bg\": 258,\n\t\"./bg.js\": 258,\n\t\"./bs\": 259,\n\t\"./bs.js\": 259,\n\t\"./ca\": 260,\n\t\"./ca.js\": 260,\n\t\"./cs\": 261,\n\t\"./cs.js\": 261,\n\t\"./cy\": 262,\n\t\"./cy.js\": 262,\n\t\"./da\": 263,\n\t\"./da.js\": 263,\n\t\"./de\": 264,\n\t\"./de.js\": 264,\n\t\"./el\": 265,\n\t\"./el.js\": 265,\n\t\"./en\": 205,\n\t\"./en.js\": 205,\n\t\"./es\": 266,\n\t\"./es.js\": 266,\n\t\"./et\": 267,\n\t\"./et.js\": 267,\n\t\"./eu\": 268,\n\t\"./eu.js\": 268,\n\t\"./fa\": 269,\n\t\"./fa.js\": 269,\n\t\"./fi\": 270,\n\t\"./fi.js\": 270,\n\t\"./fr\": 271,\n\t\"./fr.js\": 271,\n\t\"./hr\": 272,\n\t\"./hr.js\": 272,\n\t\"./hu\": 273,\n\t\"./hu.js\": 273,\n\t\"./id\": 274,\n\t\"./id.js\": 274,\n\t\"./it\": 275,\n\t\"./it.js\": 275,\n\t\"./ja\": 276,\n\t\"./ja.js\": 276,\n\t\"./ka\": 277,\n\t\"./ka.js\": 277,\n\t\"./ko\": 278,\n\t\"./ko.js\": 278,\n\t\"./lt\": 279,\n\t\"./lt.js\": 279,\n\t\"./lv\": 280,\n\t\"./lv.js\": 280,\n\t\"./mk\": 281,\n\t\"./mk.js\": 281,\n\t\"./mn\": 282,\n\t\"./mn.js\": 282,\n\t\"./ms\": 283,\n\t\"./ms.js\": 283,\n\t\"./nb_NO\": 284,\n\t\"./nb_NO.js\": 284,\n\t\"./nl\": 285,\n\t\"./nl.js\": 285,\n\t\"./pl\": 286,\n\t\"./pl.js\": 286,\n\t\"./pt\": 287,\n\t\"./pt.js\": 287,\n\t\"./pt_BR\": 288,\n\t\"./pt_BR.js\": 288,\n\t\"./ro\": 289,\n\t\"./ro.js\": 289,\n\t\"./ru\": 290,\n\t\"./ru.js\": 290,\n\t\"./se\": 291,\n\t\"./se.js\": 291,\n\t\"./sl\": 292,\n\t\"./sl.js\": 292,\n\t\"./sq\": 293,\n\t\"./sq.js\": 293,\n\t\"./sr\": 294,\n\t\"./sr.js\": 294,\n\t\"./sv\": 295,\n\t\"./sv.js\": 295,\n\t\"./tr\": 296,\n\t\"./tr.js\": 296,\n\t\"./ua\": 297,\n\t\"./ua.js\": 297,\n\t\"./uk\": 298,\n\t\"./uk.js\": 298,\n\t\"./vi\": 299,\n\t\"./vi.js\": 299,\n\t\"./zh\": 300,\n\t\"./zh.js\": 300,\n\t\"./zh_TW\": 301,\n\t\"./zh_TW.js\": 301\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 545;","import {gql} from '@apollo/client'\nimport * as Apollo from '@apollo/client'\nexport type Maybe<T> = T | null\nexport type Exact<T extends {[key: string]: unknown}> = {[K in keyof T]: T[K]}\nexport type MakeOptional<T, K extends keyof T> = Omit<T, K> &\n  {[SubKey in K]?: Maybe<T[SubKey]>}\nexport type MakeMaybe<T, K extends keyof T> = Omit<T, K> &\n  {[SubKey in K]: Maybe<T[SubKey]>}\nconst defaultOptions = {}\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string\n  String: string\n  Boolean: boolean\n  Int: number\n  Float: number\n  /** The javascript `Date` as string. Type represents date and time as the ISO Date string. */\n  DateTime: any\n  /** The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf). */\n  JSON: any\n}\n\nexport type AudioRecordResult = {\n  __typename?: 'AudioRecordResult'\n  audioAsBase64?: Maybe<Scalars['String']>\n  audioUrl?: Maybe<Scalars['String']>\n  sampleRate?: Maybe<Scalars['Int']>\n  stt?: Maybe<SpeechToTextResult>\n}\n\nexport type Course = {\n  __typename?: 'Course'\n  _id: Scalars['ID']\n  createdAt: Scalars['String']\n  introduction: Scalars['String']\n  isSingle: Scalars['String']\n  lessonCount: Scalars['Int']\n  lessonTopicId: Scalars['String']\n  lessons: Array<Lesson>\n  subLessons: Array<Scalars['JSON']>\n  tags: Scalars['String']\n  title?: Maybe<Scalars['String']>\n  topicDetails: Scalars['JSON']\n  topicTitle: Scalars['String']\n  updatedAt: Scalars['String']\n  videoLevel: LevelName\n  videoLevelLabel?: Maybe<Scalars['String']>\n  youtubeId: Scalars['String']\n}\n\nexport type Cred = {\n  userPlatform: Scalars['String']\n  email: Scalars['String']\n  password: Scalars['String']\n}\n\nexport type DictionaryResult = {\n  __typename?: 'DictionaryResult'\n  entry: Scalars['String']\n  meaning: DictionaryResultMeaning\n  ipa: Scalars['String']\n}\n\nexport type DictionaryResultMeaning = {\n  __typename?: 'DictionaryResultMeaning'\n  korean: Scalars['String']\n  noun: Scalars['String']\n  verb: Scalars['String']\n  adverb: Scalars['String']\n  adjective: Scalars['String']\n}\n\nexport type Lesson = {\n  __typename?: 'Lesson'\n  _id: Scalars['ID']\n  completedAt?: Maybe<Scalars['DateTime']>\n  course?: Maybe<Course>\n  courseId: Scalars['String']\n  createdAt: Scalars['String']\n  day?: Maybe<Scalars['String']>\n  endTime: Scalars['String']\n  introduction?: Maybe<Scalars['String']>\n  isCompleted?: Maybe<Scalars['Boolean']>\n  isDraft: Scalars['Boolean']\n  isMy?: Maybe<Scalars['Boolean']>\n  isSaved?: Maybe<Scalars['Boolean']>\n  isSingle?: Maybe<Scalars['String']>\n  lessonId: Scalars['String']\n  lessonName: Scalars['String']\n  lessonTopicId: Scalars['String']\n  phrases?: Maybe<Array<Phrase>>\n  savedCreatedAt?: Maybe<Scalars['String']>\n  scenes: Array<Scene>\n  /** @deprecated don't use anymore */\n  srtFile?: Maybe<Scalars['String']>\n  startTime: Scalars['String']\n  subCreatedAt: Scalars['String']\n  /** @deprecated wrong naming */\n  subLessonId: Scalars['String']\n  subUpdatedAt: Scalars['String']\n  tags?: Maybe<Scalars['String']>\n  title?: Maybe<Scalars['String']>\n  updatedAt: Scalars['String']\n  videoLevel?: Maybe<LevelName>\n  videoLevelLabel?: Maybe<Scalars['String']>\n  videoType?: Maybe<Scalars['String']>\n  youtubeId: Scalars['String']\n}\n\nexport type LessonCursorPage = {\n  __typename?: 'LessonCursorPage'\n  cursor?: Maybe<Scalars['String']>\n  hasMore?: Maybe<Scalars['Boolean']>\n  nodes: Array<Lesson>\n}\n\nexport type LessonPage = {\n  __typename?: 'LessonPage'\n  total: Scalars['Float']\n  totalLessons: Scalars['Float']\n  data: Array<Lesson>\n}\n\nexport type LessonProgress = {\n  __typename?: 'LessonProgress'\n  totalCount: Scalars['Int']\n  datetimes: Array<Scalars['DateTime']>\n  counts: Array<LessonProgressCount>\n}\n\nexport type LessonProgressCount = {\n  __typename?: 'LessonProgressCount'\n  type: Scalars['String']\n  count: Scalars['Int']\n  datetimes: Array<Scalars['DateTime']>\n}\n\nexport type LessonReport = {\n  message: Scalars['String']\n  scene: Scalars['Float']\n  step: Scalars['String']\n  lessonName: Scalars['String']\n  userPlatform: Scalars['String']\n}\n\nexport type Level = {\n  __typename?: 'Level'\n  _id: Scalars['ID']\n  name: Scalars['String']\n}\n\nexport enum LevelName {\n  UpperBeginner = 'UpperBeginner',\n  Intermediate = 'Intermediate',\n  Advanced = 'Advanced',\n}\n\nexport type Meaning = {\n  __typename?: 'Meaning'\n  lang: Scalars['String']\n  meaning: Scalars['String']\n}\n\nexport type Mutation = {\n  __typename?: 'Mutation'\n  addToMyLesson?: Maybe<Lesson>\n  /** return ID */\n  deleteNote: Scalars['String']\n  login?: Maybe<Scalars['String']>\n  reportLessonIssue?: Maybe<Scalars['Boolean']>\n  setLessonCompleted?: Maybe<Lesson>\n  setLessonSaved?: Maybe<Lesson>\n  setLevel: User\n  setNote?: Maybe<Scalars['String']>\n  updateDictation?: Maybe<Scalars['String']>\n  uploadProfilePicture: User\n}\n\nexport type MutationAddToMyLessonArgs = {\n  lessonId: Scalars['String']\n}\n\nexport type MutationDeleteNoteArgs = {\n  id: Scalars['String']\n}\n\nexport type MutationLoginArgs = {\n  cred: Cred\n}\n\nexport type MutationReportLessonIssueArgs = {\n  report: LessonReport\n}\n\nexport type MutationSetLessonCompletedArgs = {\n  lessonId: Scalars['String']\n}\n\nexport type MutationSetLessonSavedArgs = {\n  isSave: Scalars['Boolean']\n  lessonId: Scalars['String']\n}\n\nexport type MutationSetLevelArgs = {\n  levelName: LevelName\n}\n\nexport type MutationSetNoteArgs = {\n  wordData: WordData\n}\n\nexport type MutationUpdateDictationArgs = {\n  id: Scalars['ID']\n}\n\nexport type MutationUploadProfilePictureArgs = {\n  imageBase64: Scalars['String']\n}\n\nexport type NativeLanguage = {\n  __typename?: 'NativeLanguage'\n  _id: Scalars['ID']\n  languageKey: Scalars['String']\n  languageName: Scalars['String']\n}\n\nexport type Phrase = {\n  __typename?: 'Phrase'\n  word: Scalars['String']\n  meaning: Scalars['String']\n  meanings: Array<Meaning>\n}\n\nexport type Query = {\n  __typename?: 'Query'\n  completedLessons: Array<Lesson>\n  course?: Maybe<Course>\n  currentLessonId?: Maybe<Scalars['String']>\n  dictation?: Maybe<Scalars['String']>\n  dictionary?: Maybe<DictionaryResult>\n  draftLessons?: Maybe<LessonPage>\n  getNotes?: Maybe<WordNotePage>\n  healthCheck?: Maybe<Scalars['String']>\n  lesson?: Maybe<Lesson>\n  levels?: Maybe<Array<Level>>\n  moreCompletedLessons: LessonCursorPage\n  moreNotes?: Maybe<WordNoteCursorPage>\n  myCourses?: Maybe<Array<Course>>\n  newUploadLessons?: Maybe<LessonPage>\n  popularLessons?: Maybe<LessonPage>\n  profile?: Maybe<User>\n  progressState: LessonProgress\n  records?: Maybe<Array<Maybe<AudioRecordResult>>>\n  savedLessons?: Maybe<LessonPage>\n  subscription?: Maybe<Subscription>\n  todayLesson?: Maybe<Lesson>\n  user?: Maybe<User>\n  userGuide: UserGuide\n}\n\nexport type QueryCompletedLessonsArgs = {\n  end?: Maybe<Scalars['DateTime']>\n  start?: Maybe<Scalars['DateTime']>\n}\n\nexport type QueryCourseArgs = {\n  id: Scalars['String']\n}\n\nexport type QueryDictationArgs = {\n  sceneIdx: Scalars['Int']\n}\n\nexport type QueryDictionaryArgs = {\n  search: Scalars['String']\n}\n\nexport type QueryDraftLessonsArgs = {\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryGetNotesArgs = {\n  size?: Maybe<Scalars['Int']>\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryLessonArgs = {\n  id: Scalars['String']\n}\n\nexport type QueryMoreCompletedLessonsArgs = {\n  size: Scalars['Int']\n  cursor?: Maybe<Scalars['String']>\n}\n\nexport type QueryMoreNotesArgs = {\n  size: Scalars['Int']\n  cursor?: Maybe<Scalars['String']>\n}\n\nexport type QueryMyCoursesArgs = {\n  size?: Maybe<Scalars['Int']>\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryNewUploadLessonsArgs = {\n  videoLevel: LevelName\n  day: Scalars['String']\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryPopularLessonsArgs = {\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryRecordsArgs = {\n  sceneIdx: Scalars['Int']\n}\n\nexport type QuerySavedLessonsArgs = {\n  page?: Maybe<Scalars['Int']>\n}\n\nexport type QueryTodayLessonArgs = {\n  day: Scalars['String']\n}\n\nexport type QueryUserArgs = {\n  id: Scalars['String']\n}\n\nexport type Scene = {\n  __typename?: 'Scene'\n  start: Scalars['Float']\n  end: Scalars['Float']\n  langs: Scalars['JSON']\n}\n\nexport type SpeechToTextResult = {\n  __typename?: 'SpeechToTextResult'\n  error?: Maybe<Scalars['Boolean']>\n  confidence?: Maybe<Scalars['Float']>\n  transcript?: Maybe<Scalars['String']>\n  percent?: Maybe<Scalars['Float']>\n}\n\nexport type Subscription = {\n  __typename?: 'Subscription'\n  type: Scalars['String']\n}\n\nexport type User = {\n  __typename?: 'User'\n  _id: Scalars['ID']\n  status?: Maybe<Scalars['String']>\n  currentPackage?: Maybe<Scalars['String']>\n  subscriptionType?: Maybe<Scalars['String']>\n  completedLesson?: Maybe<Scalars['Int']>\n  subscriptionLesson?: Maybe<Scalars['Int']>\n  trialLessonLimit?: Maybe<Scalars['Int']>\n  extraSubscriptionLesson?: Maybe<Scalars['Int']>\n  isLevel?: Maybe<Scalars['Boolean']>\n  isAdmin?: Maybe<Scalars['Boolean']>\n  signupType?: Maybe<Scalars['String']>\n  fullName?: Maybe<Scalars['String']>\n  email?: Maybe<Scalars['String']>\n  platform?: Maybe<Scalars['String']>\n  userLevelId?: Maybe<Scalars['String']>\n  userLevelName?: Maybe<LevelName>\n  stripeSandBoxCustomerId?: Maybe<Scalars['String']>\n  stripeLiveCustomerId?: Maybe<Scalars['String']>\n  subscriptionProductId?: Maybe<Scalars['String']>\n  androidPurchaseToken?: Maybe<Scalars['String']>\n  iOSPurchaseToken?: Maybe<Scalars['String']>\n  subTitleLanguage?: Maybe<Scalars['String']>\n  userSubscriptionStartDate?: Maybe<Scalars['String']>\n  userSubscriptionEndDate?: Maybe<Scalars['String']>\n  profilePic?: Maybe<Scalars['String']>\n  nativeLanguage?: Maybe<NativeLanguage>\n  isPasswordExists?: Maybe<Scalars['Boolean']>\n  total?: Maybe<Scalars['Float']>\n}\n\nexport type UserGuide = {\n  __typename?: 'UserGuide'\n  introduction: Scalars['String']\n  youtubeId: Scalars['String']\n}\n\nexport type WordData = {\n  word: Scalars['String']\n  meaning: Scalars['String']\n  kor: Scalars['String']\n  noun: Scalars['String']\n  verb: Scalars['String']\n  adv: Scalars['String']\n  adj: Scalars['String']\n}\n\nexport type WordNote = {\n  __typename?: 'WordNote'\n  _id: Scalars['ID']\n  userId: Scalars['String']\n  word: Scalars['String']\n  meaning: Scalars['String']\n  kor: Scalars['String']\n  noun: Scalars['String']\n  verb: Scalars['String']\n  adv: Scalars['String']\n  adj: Scalars['String']\n  createdAt: Scalars['DateTime']\n}\n\nexport type WordNoteCursorPage = {\n  __typename?: 'WordNoteCursorPage'\n  cursor?: Maybe<Scalars['String']>\n  hasMore?: Maybe<Scalars['Boolean']>\n  nodes: Array<WordNote>\n}\n\nexport type WordNotePage = {\n  __typename?: 'WordNotePage'\n  page: Scalars['Float']\n  size: Scalars['Float']\n  total: Scalars['Float']\n  totalPage: Scalars['Float']\n  data: Array<WordNote>\n}\n\nexport type GetProfileQueryVariables = Exact<{[key: string]: never}>\n\nexport type GetProfileQuery = {__typename?: 'Query'} & {\n  profile?: Maybe<\n    {__typename?: 'User'} & Pick<\n      User,\n      | '_id'\n      | 'status'\n      | 'completedLesson'\n      | 'subscriptionLesson'\n      | 'currentPackage'\n      | 'subscriptionType'\n      | 'trialLessonLimit'\n      | 'isLevel'\n      | 'isAdmin'\n      | 'signupType'\n      | 'fullName'\n      | 'email'\n      | 'platform'\n      | 'userLevelId'\n      | 'userLevelName'\n      | 'stripeSandBoxCustomerId'\n      | 'stripeLiveCustomerId'\n      | 'extraSubscriptionLesson'\n      | 'subscriptionProductId'\n      | 'subTitleLanguage'\n      | 'userSubscriptionStartDate'\n      | 'userSubscriptionEndDate'\n      | 'profilePic'\n      | 'total'\n    > & {\n        nativeLanguage?: Maybe<\n          {__typename?: 'NativeLanguage'} & Pick<\n            NativeLanguage,\n            '_id' | 'languageKey' | 'languageName'\n          >\n        >\n      }\n  >\n}\n\nexport type PopularLessonsQueryVariables = Exact<{[key: string]: never}>\n\nexport type PopularLessonsQuery = {__typename?: 'Query'} & {\n  popularLessons?: Maybe<\n    {__typename?: 'LessonPage'} & Pick<LessonPage, 'total' | 'totalLessons'> & {\n        data: Array<\n          {__typename?: 'Lesson'} & Pick<\n            Lesson,\n            | 'subLessonId'\n            | 'lessonName'\n            | 'srtFile'\n            | 'startTime'\n            | 'endTime'\n            | 'createdAt'\n            | 'updatedAt'\n            | 'lessonId'\n            | 'videoLevel'\n            | 'videoLevelLabel'\n            | 'youtubeId'\n            | 'title'\n            | 'introduction'\n            | 'tags'\n            | 'isSingle'\n            | 'day'\n            | 'savedCreatedAt'\n            | 'isCompleted'\n          >\n        >\n      }\n  >\n}\n\nexport type LessonFieldsFragment = {__typename?: 'Lesson'} & Pick<\n  Lesson,\n  | '_id'\n  | 'subLessonId'\n  | 'lessonName'\n  | 'srtFile'\n  | 'startTime'\n  | 'endTime'\n  | 'createdAt'\n  | 'updatedAt'\n  | 'lessonId'\n  | 'videoLevel'\n  | 'videoLevelLabel'\n  | 'videoType'\n  | 'youtubeId'\n  | 'title'\n  | 'introduction'\n  | 'tags'\n  | 'isSingle'\n  | 'day'\n  | 'savedCreatedAt'\n  | 'isCompleted'\n>\n\nexport type DashboardLessonFieldsFragment = {__typename?: 'Lesson'} & Pick<\n  Lesson,\n  '_id' | 'lessonName' | 'videoLevel' | 'videoLevelLabel' | 'videoType' | 'youtubeId'\n>\n\nexport type MyCoursesQueryVariables = Exact<{\n  page: Scalars['Int']\n}>\n\nexport type MyCoursesQuery = {__typename?: 'Query'} & {\n  myCourses?: Maybe<\n    Array<\n      {__typename?: 'Course'} & Pick<\n        Course,\n        | '_id'\n        | 'title'\n        | 'introduction'\n        | 'youtubeId'\n        | 'videoLevel'\n        | 'videoLevelLabel'\n        | 'topicTitle'\n        | 'lessonCount'\n      >\n    >\n  >\n}\n\nexport type GetDashboardQueryVariables = Exact<{\n  day: Scalars['String']\n  videoLevel: LevelName\n}>\n\nexport type GetDashboardQuery = {__typename?: 'Query'} & {\n  todayLesson?: Maybe<{__typename?: 'Lesson'} & DashboardLessonFieldsFragment>\n  popularLessons?: Maybe<\n    {__typename?: 'LessonPage'} & Pick<LessonPage, 'total' | 'totalLessons'> & {\n        data: Array<{__typename?: 'Lesson'} & DashboardLessonFieldsFragment>\n      }\n  >\n  savedLessons?: Maybe<\n    {__typename?: 'LessonPage'} & Pick<LessonPage, 'total' | 'totalLessons'> & {\n        data: Array<{__typename?: 'Lesson'} & DashboardLessonFieldsFragment>\n      }\n  >\n  myCourses?: Maybe<\n    Array<\n      {__typename?: 'Course'} & Pick<\n        Course,\n        | '_id'\n        | 'title'\n        | 'introduction'\n        | 'youtubeId'\n        | 'videoLevel'\n        | 'videoLevelLabel'\n        | 'topicTitle'\n        | 'lessonCount'\n      >\n    >\n  >\n  newUploadLessons?: Maybe<\n    {__typename?: 'LessonPage'} & Pick<LessonPage, 'total' | 'totalLessons'> & {\n        data: Array<{__typename?: 'Lesson'} & DashboardLessonFieldsFragment>\n      }\n  >\n}\n\nexport type GetDashboardDraftLessonsQueryVariables = Exact<{[key: string]: never}>\n\nexport type GetDashboardDraftLessonsQuery = {__typename?: 'Query'} & {\n  draftLessons?: Maybe<\n    {__typename?: 'LessonPage'} & Pick<LessonPage, 'total' | 'totalLessons'> & {\n        data: Array<{__typename?: 'Lesson'} & LessonFieldsFragment>\n      }\n  >\n}\n\nexport type GetLessonDeatilQueryVariables = Exact<{\n  id: Scalars['String']\n}>\n\nexport type GetLessonDeatilQuery = {__typename?: 'Query'} & Pick<\n  Query,\n  'currentLessonId'\n> & {\n    lesson?: Maybe<\n      {__typename?: 'Lesson'} & Pick<\n        Lesson,\n        | '_id'\n        | 'lessonId'\n        | 'courseId'\n        | 'youtubeId'\n        | 'lessonName'\n        | 'isSaved'\n        | 'isCompleted'\n        | 'title'\n        | 'tags'\n        | 'videoLevel'\n        | 'videoLevelLabel'\n        | 'introduction'\n        | 'isMy'\n      > & {\n          scenes: Array<{__typename?: 'Scene'} & Pick<Scene, 'start' | 'end' | 'langs'>>\n          phrases?: Maybe<\n            Array<\n              {__typename?: 'Phrase'} & Pick<Phrase, 'word' | 'meaning'> & {\n                  meanings: Array<\n                    {__typename?: 'Meaning'} & Pick<Meaning, 'lang' | 'meaning'>\n                  >\n                }\n            >\n          >\n        }\n    >\n  }\n\nexport type SetLessonSavedMutationVariables = Exact<{\n  id: Scalars['String']\n  isSave: Scalars['Boolean']\n}>\n\nexport type SetLessonSavedMutation = {__typename?: 'Mutation'} & {\n  setLessonSaved?: Maybe<{__typename?: 'Lesson'} & Pick<Lesson, '_id' | 'isSaved'>>\n}\n\nexport type SetLessonCompletedMutationVariables = Exact<{\n  lessonId: Scalars['String']\n}>\n\nexport type SetLessonCompletedMutation = {__typename?: 'Mutation'} & {\n  setLessonCompleted?: Maybe<\n    {__typename?: 'Lesson'} & Pick<Lesson, '_id' | 'isCompleted'>\n  >\n}\n\nexport type GetCourseQueryVariables = Exact<{\n  id: Scalars['String']\n}>\n\nexport type GetCourseQuery = {__typename?: 'Query'} & {\n  course?: Maybe<\n    {__typename?: 'Course'} & Pick<\n      Course,\n      | '_id'\n      | 'tags'\n      | 'title'\n      | 'introduction'\n      | 'topicTitle'\n      | 'videoLevel'\n      | 'videoLevelLabel'\n      | 'youtubeId'\n    > & {\n        lessons: Array<\n          {__typename?: 'Lesson'} & Pick<Lesson, '_id' | 'lessonName' | 'completedAt'> & {\n              scenes: Array<{__typename?: 'Scene'} & Pick<Scene, 'start' | 'end'>>\n            }\n        >\n      }\n  >\n}\n\nexport type AddToMyLessonMutationVariables = Exact<{\n  lessonId: Scalars['String']\n}>\n\nexport type AddToMyLessonMutation = {__typename?: 'Mutation'} & {\n  addToMyLesson?: Maybe<{__typename?: 'Lesson'} & Pick<Lesson, '_id' | 'isMy'>>\n}\n\nexport type SetNoteMutationVariables = Exact<{\n  wordData: WordData\n}>\n\nexport type SetNoteMutation = {__typename?: 'Mutation'} & Pick<Mutation, 'setNote'>\n\nexport type ReportLessonIssueMutationVariables = Exact<{\n  report: LessonReport\n}>\n\nexport type ReportLessonIssueMutation = {__typename?: 'Mutation'} & Pick<\n  Mutation,\n  'reportLessonIssue'\n>\n\nexport type SearchDictionaryQueryVariables = Exact<{\n  search: Scalars['String']\n}>\n\nexport type SearchDictionaryQuery = {__typename?: 'Query'} & {\n  dictionary?: Maybe<\n    {__typename?: 'DictionaryResult'} & Pick<DictionaryResult, 'entry' | 'ipa'> & {\n        meaning: {__typename?: 'DictionaryResultMeaning'} & Pick<\n          DictionaryResultMeaning,\n          'korean' | 'noun' | 'verb' | 'adverb' | 'adjective'\n        >\n      }\n  >\n}\n\nexport type GetDictationQueryVariables = Exact<{\n  sceneIdx: Scalars['Int']\n}>\n\nexport type GetDictationQuery = {__typename?: 'Query'} & Pick<Query, 'dictation'>\n\nexport type GetRecordsQueryVariables = Exact<{\n  sceneIdx: Scalars['Int']\n}>\n\nexport type GetRecordsQuery = {__typename?: 'Query'} & {\n  records?: Maybe<\n    Array<\n      Maybe<\n        {__typename?: 'AudioRecordResult'} & Pick<\n          AudioRecordResult,\n          'audioAsBase64' | 'audioUrl' | 'sampleRate'\n        > & {\n            stt?: Maybe<\n              {__typename?: 'SpeechToTextResult'} & Pick<\n                SpeechToTextResult,\n                'error' | 'confidence' | 'transcript' | 'percent'\n              >\n            >\n          }\n      >\n    >\n  >\n}\n\nexport type GetNotesQueryVariables = Exact<{\n  size: Scalars['Int']\n  page: Scalars['Int']\n}>\n\nexport type GetNotesQuery = {__typename?: 'Query'} & {\n  getNotes?: Maybe<\n    {__typename?: 'WordNotePage'} & Pick<\n      WordNotePage,\n      'page' | 'size' | 'total' | 'totalPage'\n    > & {\n        data: Array<\n          {__typename?: 'WordNote'} & Pick<WordNote, '_id' | 'word' | 'meaning'>\n        >\n      }\n  >\n}\n\nexport type MoreNotesQueryVariables = Exact<{\n  cursor?: Maybe<Scalars['String']>\n  size: Scalars['Int']\n}>\n\nexport type MoreNotesQuery = {__typename?: 'Query'} & {\n  moreNotes?: Maybe<\n    {__typename?: 'WordNoteCursorPage'} & Pick<\n      WordNoteCursorPage,\n      'cursor' | 'hasMore'\n    > & {\n        nodes: Array<\n          {__typename?: 'WordNote'} & Pick<\n            WordNote,\n            '_id' | 'word' | 'meaning' | 'kor' | 'noun' | 'verb' | 'adv' | 'adj'\n          >\n        >\n      }\n  >\n}\n\nexport type DeleteNoteMutationVariables = Exact<{\n  id: Scalars['String']\n}>\n\nexport type DeleteNoteMutation = {__typename?: 'Mutation'} & Pick<Mutation, 'deleteNote'>\n\nexport type GerReviewCompletedLessonsQueryVariables = Exact<{\n  cursor?: Maybe<Scalars['String']>\n  size: Scalars['Int']\n}>\n\nexport type GerReviewCompletedLessonsQuery = {__typename?: 'Query'} & {\n  moreCompletedLessons: {__typename?: 'LessonCursorPage'} & Pick<\n    LessonCursorPage,\n    'cursor' | 'hasMore'\n  > & {\n      nodes: Array<\n        {__typename?: 'Lesson'} & Pick<\n          Lesson,\n          | '_id'\n          | 'lessonName'\n          | 'completedAt'\n          | 'videoLevel'\n          | 'videoLevelLabel'\n          | 'videoType'\n          | 'youtubeId'\n        >\n      >\n    }\n}\n\nexport type UploadProfilePictureMutationVariables = Exact<{\n  imageBase64: Scalars['String']\n}>\n\nexport type UploadProfilePictureMutation = {__typename?: 'Mutation'} & {\n  uploadProfilePicture: {__typename?: 'User'} & Pick<User, '_id' | 'profilePic'>\n}\n\nexport type GetUserProgressQueryVariables = Exact<{[key: string]: never}>\n\nexport type GetUserProgressQuery = {__typename?: 'Query'} & {\n  progressState: {__typename?: 'LessonProgress'} & Pick<\n    LessonProgress,\n    'totalCount' | 'datetimes'\n  > & {\n      counts: Array<\n        {__typename?: 'LessonProgressCount'} & Pick<LessonProgressCount, 'type' | 'count'>\n      >\n    }\n}\n\nexport type GetLevelsQueryVariables = Exact<{[key: string]: never}>\n\nexport type GetLevelsQuery = {__typename?: 'Query'} & {\n  levels?: Maybe<Array<{__typename?: 'Level'} & Pick<Level, '_id' | 'name'>>>\n}\n\nexport type SetLevelMutationVariables = Exact<{\n  levelName: LevelName\n}>\n\nexport type SetLevelMutation = {__typename?: 'Mutation'} & {\n  setLevel: {__typename?: 'User'} & Pick<User, '_id' | 'userLevelId' | 'userLevelName'>\n}\n\nexport type GetUserGuideQueryVariables = Exact<{[key: string]: never}>\n\nexport type GetUserGuideQuery = {__typename?: 'Query'} & {\n  userGuide: {__typename?: 'UserGuide'} & Pick<UserGuide, 'introduction' | 'youtubeId'>\n}\n\nexport const LessonFieldsFragmentDoc = gql`\n  fragment LessonFields on Lesson {\n    _id\n    subLessonId\n    lessonName\n    srtFile\n    startTime\n    endTime\n    createdAt\n    updatedAt\n    lessonId\n    videoLevel\n    videoLevelLabel @client\n    videoType\n    youtubeId\n    title\n    introduction\n    tags\n    isSingle\n    day\n    savedCreatedAt\n    isCompleted\n  }\n`\nexport const DashboardLessonFieldsFragmentDoc = gql`\n  fragment DashboardLessonFields on Lesson {\n    _id\n    lessonName\n    videoLevel\n    videoLevelLabel @client\n    videoType\n    youtubeId\n  }\n`\nexport const GetProfileDocument = gql`\n  query getProfile {\n    profile {\n      _id\n      status\n      completedLesson\n      subscriptionLesson\n      currentPackage\n      subscriptionType\n      trialLessonLimit\n      isLevel\n      isAdmin\n      signupType\n      fullName\n      email\n      platform\n      userLevelId\n      userLevelName\n      stripeSandBoxCustomerId\n      stripeLiveCustomerId\n      extraSubscriptionLesson\n      subscriptionProductId\n      subTitleLanguage\n      userSubscriptionStartDate\n      userSubscriptionEndDate\n      profilePic\n      nativeLanguage {\n        _id\n        languageKey\n        languageName\n      }\n      total\n    }\n  }\n`\n\n/**\n * __useGetProfileQuery__\n *\n * To run a query within a React component, call `useGetProfileQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetProfileQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetProfileQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetProfileQuery(\n  baseOptions?: Apollo.QueryHookOptions<GetProfileQuery, GetProfileQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetProfileQuery, GetProfileQueryVariables>(\n    GetProfileDocument,\n    options,\n  )\n}\nexport function useGetProfileLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<GetProfileQuery, GetProfileQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetProfileQuery, GetProfileQueryVariables>(\n    GetProfileDocument,\n    options,\n  )\n}\nexport type GetProfileQueryHookResult = ReturnType<typeof useGetProfileQuery>\nexport type GetProfileLazyQueryHookResult = ReturnType<typeof useGetProfileLazyQuery>\nexport type GetProfileQueryResult = Apollo.QueryResult<\n  GetProfileQuery,\n  GetProfileQueryVariables\n>\nexport const PopularLessonsDocument = gql`\n  query popularLessons {\n    popularLessons {\n      total\n      totalLessons\n      data {\n        subLessonId\n        lessonName\n        srtFile\n        startTime\n        endTime\n        createdAt\n        updatedAt\n        lessonId\n        videoLevel\n        videoLevelLabel @client\n        youtubeId\n        title\n        introduction\n        tags\n        isSingle\n        day\n        savedCreatedAt\n        isCompleted\n      }\n    }\n  }\n`\n\n/**\n * __usePopularLessonsQuery__\n *\n * To run a query within a React component, call `usePopularLessonsQuery` and pass it any options that fit your needs.\n * When your component renders, `usePopularLessonsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = usePopularLessonsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function usePopularLessonsQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    PopularLessonsQuery,\n    PopularLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<PopularLessonsQuery, PopularLessonsQueryVariables>(\n    PopularLessonsDocument,\n    options,\n  )\n}\nexport function usePopularLessonsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    PopularLessonsQuery,\n    PopularLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<PopularLessonsQuery, PopularLessonsQueryVariables>(\n    PopularLessonsDocument,\n    options,\n  )\n}\nexport type PopularLessonsQueryHookResult = ReturnType<typeof usePopularLessonsQuery>\nexport type PopularLessonsLazyQueryHookResult = ReturnType<\n  typeof usePopularLessonsLazyQuery\n>\nexport type PopularLessonsQueryResult = Apollo.QueryResult<\n  PopularLessonsQuery,\n  PopularLessonsQueryVariables\n>\nexport const MyCoursesDocument = gql`\n  query myCourses($page: Int!) {\n    myCourses(page: $page) {\n      _id\n      title\n      introduction\n      youtubeId\n      videoLevel\n      videoLevelLabel @client\n      topicTitle\n      lessonCount\n    }\n  }\n`\n\n/**\n * __useMyCoursesQuery__\n *\n * To run a query within a React component, call `useMyCoursesQuery` and pass it any options that fit your needs.\n * When your component renders, `useMyCoursesQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMyCoursesQuery({\n *   variables: {\n *      page: // value for 'page'\n *   },\n * });\n */\nexport function useMyCoursesQuery(\n  baseOptions: Apollo.QueryHookOptions<MyCoursesQuery, MyCoursesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<MyCoursesQuery, MyCoursesQueryVariables>(\n    MyCoursesDocument,\n    options,\n  )\n}\nexport function useMyCoursesLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<MyCoursesQuery, MyCoursesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<MyCoursesQuery, MyCoursesQueryVariables>(\n    MyCoursesDocument,\n    options,\n  )\n}\nexport type MyCoursesQueryHookResult = ReturnType<typeof useMyCoursesQuery>\nexport type MyCoursesLazyQueryHookResult = ReturnType<typeof useMyCoursesLazyQuery>\nexport type MyCoursesQueryResult = Apollo.QueryResult<\n  MyCoursesQuery,\n  MyCoursesQueryVariables\n>\nexport const GetDashboardDocument = gql`\n  query getDashboard($day: String!, $videoLevel: LevelName!) {\n    todayLesson(day: $day) {\n      ...DashboardLessonFields\n    }\n    popularLessons {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n    savedLessons {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n    myCourses(size: 3) {\n      _id\n      title\n      introduction\n      youtubeId\n      videoLevel\n      videoLevelLabel @client\n      topicTitle\n      lessonCount\n    }\n    newUploadLessons(day: $day, videoLevel: $videoLevel) {\n      total\n      totalLessons\n      data {\n        ...DashboardLessonFields\n      }\n    }\n  }\n  ${DashboardLessonFieldsFragmentDoc}\n`\n\n/**\n * __useGetDashboardQuery__\n *\n * To run a query within a React component, call `useGetDashboardQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetDashboardQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetDashboardQuery({\n *   variables: {\n *      day: // value for 'day'\n *      videoLevel: // value for 'videoLevel'\n *   },\n * });\n */\nexport function useGetDashboardQuery(\n  baseOptions: Apollo.QueryHookOptions<GetDashboardQuery, GetDashboardQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetDashboardQuery, GetDashboardQueryVariables>(\n    GetDashboardDocument,\n    options,\n  )\n}\nexport function useGetDashboardLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetDashboardQuery,\n    GetDashboardQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetDashboardQuery, GetDashboardQueryVariables>(\n    GetDashboardDocument,\n    options,\n  )\n}\nexport type GetDashboardQueryHookResult = ReturnType<typeof useGetDashboardQuery>\nexport type GetDashboardLazyQueryHookResult = ReturnType<typeof useGetDashboardLazyQuery>\nexport type GetDashboardQueryResult = Apollo.QueryResult<\n  GetDashboardQuery,\n  GetDashboardQueryVariables\n>\nexport const GetDashboardDraftLessonsDocument = gql`\n  query getDashboardDraftLessons {\n    draftLessons {\n      total\n      totalLessons\n      data {\n        ...LessonFields\n      }\n    }\n  }\n  ${LessonFieldsFragmentDoc}\n`\n\n/**\n * __useGetDashboardDraftLessonsQuery__\n *\n * To run a query within a React component, call `useGetDashboardDraftLessonsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetDashboardDraftLessonsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetDashboardDraftLessonsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetDashboardDraftLessonsQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    GetDashboardDraftLessonsQuery,\n    GetDashboardDraftLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<\n    GetDashboardDraftLessonsQuery,\n    GetDashboardDraftLessonsQueryVariables\n  >(GetDashboardDraftLessonsDocument, options)\n}\nexport function useGetDashboardDraftLessonsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetDashboardDraftLessonsQuery,\n    GetDashboardDraftLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<\n    GetDashboardDraftLessonsQuery,\n    GetDashboardDraftLessonsQueryVariables\n  >(GetDashboardDraftLessonsDocument, options)\n}\nexport type GetDashboardDraftLessonsQueryHookResult = ReturnType<\n  typeof useGetDashboardDraftLessonsQuery\n>\nexport type GetDashboardDraftLessonsLazyQueryHookResult = ReturnType<\n  typeof useGetDashboardDraftLessonsLazyQuery\n>\nexport type GetDashboardDraftLessonsQueryResult = Apollo.QueryResult<\n  GetDashboardDraftLessonsQuery,\n  GetDashboardDraftLessonsQueryVariables\n>\nexport const GetLessonDeatilDocument = gql`\n  query getLessonDeatil($id: String!) {\n    currentLessonId @client\n    lesson(id: $id) {\n      _id\n      lessonId\n      courseId\n      youtubeId\n      lessonName\n      isSaved\n      isCompleted\n      title\n      tags\n      videoLevel\n      videoLevelLabel @client\n      introduction\n      isMy\n      scenes {\n        start\n        end\n        langs\n      }\n      phrases {\n        word\n        meaning\n        meanings {\n          lang\n          meaning\n        }\n      }\n    }\n  }\n`\n\n/**\n * __useGetLessonDeatilQuery__\n *\n * To run a query within a React component, call `useGetLessonDeatilQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetLessonDeatilQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetLessonDeatilQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetLessonDeatilQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    GetLessonDeatilQuery,\n    GetLessonDeatilQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetLessonDeatilQuery, GetLessonDeatilQueryVariables>(\n    GetLessonDeatilDocument,\n    options,\n  )\n}\nexport function useGetLessonDeatilLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetLessonDeatilQuery,\n    GetLessonDeatilQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetLessonDeatilQuery, GetLessonDeatilQueryVariables>(\n    GetLessonDeatilDocument,\n    options,\n  )\n}\nexport type GetLessonDeatilQueryHookResult = ReturnType<typeof useGetLessonDeatilQuery>\nexport type GetLessonDeatilLazyQueryHookResult = ReturnType<\n  typeof useGetLessonDeatilLazyQuery\n>\nexport type GetLessonDeatilQueryResult = Apollo.QueryResult<\n  GetLessonDeatilQuery,\n  GetLessonDeatilQueryVariables\n>\nexport const SetLessonSavedDocument = gql`\n  mutation setLessonSaved($id: String!, $isSave: Boolean!) {\n    setLessonSaved(lessonId: $id, isSave: $isSave) {\n      _id\n      isSaved\n    }\n  }\n`\nexport type SetLessonSavedMutationFn = Apollo.MutationFunction<\n  SetLessonSavedMutation,\n  SetLessonSavedMutationVariables\n>\n\n/**\n * __useSetLessonSavedMutation__\n *\n * To run a mutation, you first call `useSetLessonSavedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetLessonSavedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setLessonSavedMutation, { data, loading, error }] = useSetLessonSavedMutation({\n *   variables: {\n *      id: // value for 'id'\n *      isSave: // value for 'isSave'\n *   },\n * });\n */\nexport function useSetLessonSavedMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    SetLessonSavedMutation,\n    SetLessonSavedMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<SetLessonSavedMutation, SetLessonSavedMutationVariables>(\n    SetLessonSavedDocument,\n    options,\n  )\n}\nexport type SetLessonSavedMutationHookResult = ReturnType<\n  typeof useSetLessonSavedMutation\n>\nexport type SetLessonSavedMutationResult = Apollo.MutationResult<SetLessonSavedMutation>\nexport type SetLessonSavedMutationOptions = Apollo.BaseMutationOptions<\n  SetLessonSavedMutation,\n  SetLessonSavedMutationVariables\n>\nexport const SetLessonCompletedDocument = gql`\n  mutation setLessonCompleted($lessonId: String!) {\n    setLessonCompleted(lessonId: $lessonId) {\n      _id\n      isCompleted\n    }\n  }\n`\nexport type SetLessonCompletedMutationFn = Apollo.MutationFunction<\n  SetLessonCompletedMutation,\n  SetLessonCompletedMutationVariables\n>\n\n/**\n * __useSetLessonCompletedMutation__\n *\n * To run a mutation, you first call `useSetLessonCompletedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetLessonCompletedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setLessonCompletedMutation, { data, loading, error }] = useSetLessonCompletedMutation({\n *   variables: {\n *      lessonId: // value for 'lessonId'\n *   },\n * });\n */\nexport function useSetLessonCompletedMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    SetLessonCompletedMutation,\n    SetLessonCompletedMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<\n    SetLessonCompletedMutation,\n    SetLessonCompletedMutationVariables\n  >(SetLessonCompletedDocument, options)\n}\nexport type SetLessonCompletedMutationHookResult = ReturnType<\n  typeof useSetLessonCompletedMutation\n>\nexport type SetLessonCompletedMutationResult = Apollo.MutationResult<SetLessonCompletedMutation>\nexport type SetLessonCompletedMutationOptions = Apollo.BaseMutationOptions<\n  SetLessonCompletedMutation,\n  SetLessonCompletedMutationVariables\n>\nexport const GetCourseDocument = gql`\n  query getCourse($id: String!) {\n    course(id: $id) {\n      _id\n      tags\n      title\n      introduction\n      topicTitle\n      videoLevel\n      videoLevelLabel @client\n      youtubeId\n      lessons {\n        _id\n        lessonName\n        completedAt\n        scenes {\n          start\n          end\n        }\n      }\n    }\n  }\n`\n\n/**\n * __useGetCourseQuery__\n *\n * To run a query within a React component, call `useGetCourseQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetCourseQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetCourseQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetCourseQuery(\n  baseOptions: Apollo.QueryHookOptions<GetCourseQuery, GetCourseQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetCourseQuery, GetCourseQueryVariables>(\n    GetCourseDocument,\n    options,\n  )\n}\nexport function useGetCourseLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<GetCourseQuery, GetCourseQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetCourseQuery, GetCourseQueryVariables>(\n    GetCourseDocument,\n    options,\n  )\n}\nexport type GetCourseQueryHookResult = ReturnType<typeof useGetCourseQuery>\nexport type GetCourseLazyQueryHookResult = ReturnType<typeof useGetCourseLazyQuery>\nexport type GetCourseQueryResult = Apollo.QueryResult<\n  GetCourseQuery,\n  GetCourseQueryVariables\n>\nexport const AddToMyLessonDocument = gql`\n  mutation addToMyLesson($lessonId: String!) {\n    addToMyLesson(lessonId: $lessonId) {\n      _id\n      isMy\n    }\n  }\n`\nexport type AddToMyLessonMutationFn = Apollo.MutationFunction<\n  AddToMyLessonMutation,\n  AddToMyLessonMutationVariables\n>\n\n/**\n * __useAddToMyLessonMutation__\n *\n * To run a mutation, you first call `useAddToMyLessonMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddToMyLessonMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addToMyLessonMutation, { data, loading, error }] = useAddToMyLessonMutation({\n *   variables: {\n *      lessonId: // value for 'lessonId'\n *   },\n * });\n */\nexport function useAddToMyLessonMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    AddToMyLessonMutation,\n    AddToMyLessonMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<AddToMyLessonMutation, AddToMyLessonMutationVariables>(\n    AddToMyLessonDocument,\n    options,\n  )\n}\nexport type AddToMyLessonMutationHookResult = ReturnType<typeof useAddToMyLessonMutation>\nexport type AddToMyLessonMutationResult = Apollo.MutationResult<AddToMyLessonMutation>\nexport type AddToMyLessonMutationOptions = Apollo.BaseMutationOptions<\n  AddToMyLessonMutation,\n  AddToMyLessonMutationVariables\n>\nexport const SetNoteDocument = gql`\n  mutation setNote($wordData: WordData!) {\n    setNote(wordData: $wordData)\n  }\n`\nexport type SetNoteMutationFn = Apollo.MutationFunction<\n  SetNoteMutation,\n  SetNoteMutationVariables\n>\n\n/**\n * __useSetNoteMutation__\n *\n * To run a mutation, you first call `useSetNoteMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetNoteMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setNoteMutation, { data, loading, error }] = useSetNoteMutation({\n *   variables: {\n *      wordData: // value for 'wordData'\n *   },\n * });\n */\nexport function useSetNoteMutation(\n  baseOptions?: Apollo.MutationHookOptions<SetNoteMutation, SetNoteMutationVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<SetNoteMutation, SetNoteMutationVariables>(\n    SetNoteDocument,\n    options,\n  )\n}\nexport type SetNoteMutationHookResult = ReturnType<typeof useSetNoteMutation>\nexport type SetNoteMutationResult = Apollo.MutationResult<SetNoteMutation>\nexport type SetNoteMutationOptions = Apollo.BaseMutationOptions<\n  SetNoteMutation,\n  SetNoteMutationVariables\n>\nexport const ReportLessonIssueDocument = gql`\n  mutation reportLessonIssue($report: LessonReport!) {\n    reportLessonIssue(report: $report)\n  }\n`\nexport type ReportLessonIssueMutationFn = Apollo.MutationFunction<\n  ReportLessonIssueMutation,\n  ReportLessonIssueMutationVariables\n>\n\n/**\n * __useReportLessonIssueMutation__\n *\n * To run a mutation, you first call `useReportLessonIssueMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useReportLessonIssueMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [reportLessonIssueMutation, { data, loading, error }] = useReportLessonIssueMutation({\n *   variables: {\n *      report: // value for 'report'\n *   },\n * });\n */\nexport function useReportLessonIssueMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    ReportLessonIssueMutation,\n    ReportLessonIssueMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<\n    ReportLessonIssueMutation,\n    ReportLessonIssueMutationVariables\n  >(ReportLessonIssueDocument, options)\n}\nexport type ReportLessonIssueMutationHookResult = ReturnType<\n  typeof useReportLessonIssueMutation\n>\nexport type ReportLessonIssueMutationResult = Apollo.MutationResult<ReportLessonIssueMutation>\nexport type ReportLessonIssueMutationOptions = Apollo.BaseMutationOptions<\n  ReportLessonIssueMutation,\n  ReportLessonIssueMutationVariables\n>\nexport const SearchDictionaryDocument = gql`\n  query searchDictionary($search: String!) {\n    dictionary(search: $search) {\n      entry\n      meaning {\n        korean\n        noun\n        verb\n        adverb\n        adjective\n      }\n      ipa\n    }\n  }\n`\n\n/**\n * __useSearchDictionaryQuery__\n *\n * To run a query within a React component, call `useSearchDictionaryQuery` and pass it any options that fit your needs.\n * When your component renders, `useSearchDictionaryQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useSearchDictionaryQuery({\n *   variables: {\n *      search: // value for 'search'\n *   },\n * });\n */\nexport function useSearchDictionaryQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    SearchDictionaryQuery,\n    SearchDictionaryQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<SearchDictionaryQuery, SearchDictionaryQueryVariables>(\n    SearchDictionaryDocument,\n    options,\n  )\n}\nexport function useSearchDictionaryLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    SearchDictionaryQuery,\n    SearchDictionaryQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<SearchDictionaryQuery, SearchDictionaryQueryVariables>(\n    SearchDictionaryDocument,\n    options,\n  )\n}\nexport type SearchDictionaryQueryHookResult = ReturnType<typeof useSearchDictionaryQuery>\nexport type SearchDictionaryLazyQueryHookResult = ReturnType<\n  typeof useSearchDictionaryLazyQuery\n>\nexport type SearchDictionaryQueryResult = Apollo.QueryResult<\n  SearchDictionaryQuery,\n  SearchDictionaryQueryVariables\n>\nexport const GetDictationDocument = gql`\n  query getDictation($sceneIdx: Int!) {\n    dictation(sceneIdx: $sceneIdx) @client\n  }\n`\n\n/**\n * __useGetDictationQuery__\n *\n * To run a query within a React component, call `useGetDictationQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetDictationQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetDictationQuery({\n *   variables: {\n *      sceneIdx: // value for 'sceneIdx'\n *   },\n * });\n */\nexport function useGetDictationQuery(\n  baseOptions: Apollo.QueryHookOptions<GetDictationQuery, GetDictationQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetDictationQuery, GetDictationQueryVariables>(\n    GetDictationDocument,\n    options,\n  )\n}\nexport function useGetDictationLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetDictationQuery,\n    GetDictationQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetDictationQuery, GetDictationQueryVariables>(\n    GetDictationDocument,\n    options,\n  )\n}\nexport type GetDictationQueryHookResult = ReturnType<typeof useGetDictationQuery>\nexport type GetDictationLazyQueryHookResult = ReturnType<typeof useGetDictationLazyQuery>\nexport type GetDictationQueryResult = Apollo.QueryResult<\n  GetDictationQuery,\n  GetDictationQueryVariables\n>\nexport const GetRecordsDocument = gql`\n  query getRecords($sceneIdx: Int!) {\n    records(sceneIdx: $sceneIdx) @client {\n      audioAsBase64\n      audioUrl\n      sampleRate\n      stt {\n        error\n        confidence\n        transcript\n        percent\n      }\n    }\n  }\n`\n\n/**\n * __useGetRecordsQuery__\n *\n * To run a query within a React component, call `useGetRecordsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetRecordsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetRecordsQuery({\n *   variables: {\n *      sceneIdx: // value for 'sceneIdx'\n *   },\n * });\n */\nexport function useGetRecordsQuery(\n  baseOptions: Apollo.QueryHookOptions<GetRecordsQuery, GetRecordsQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetRecordsQuery, GetRecordsQueryVariables>(\n    GetRecordsDocument,\n    options,\n  )\n}\nexport function useGetRecordsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<GetRecordsQuery, GetRecordsQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetRecordsQuery, GetRecordsQueryVariables>(\n    GetRecordsDocument,\n    options,\n  )\n}\nexport type GetRecordsQueryHookResult = ReturnType<typeof useGetRecordsQuery>\nexport type GetRecordsLazyQueryHookResult = ReturnType<typeof useGetRecordsLazyQuery>\nexport type GetRecordsQueryResult = Apollo.QueryResult<\n  GetRecordsQuery,\n  GetRecordsQueryVariables\n>\nexport const GetNotesDocument = gql`\n  query getNotes($size: Int!, $page: Int!) {\n    getNotes(size: $size, page: $page) {\n      page\n      size\n      total\n      totalPage\n      data {\n        _id\n        word\n        meaning\n      }\n    }\n  }\n`\n\n/**\n * __useGetNotesQuery__\n *\n * To run a query within a React component, call `useGetNotesQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetNotesQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetNotesQuery({\n *   variables: {\n *      size: // value for 'size'\n *      page: // value for 'page'\n *   },\n * });\n */\nexport function useGetNotesQuery(\n  baseOptions: Apollo.QueryHookOptions<GetNotesQuery, GetNotesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetNotesQuery, GetNotesQueryVariables>(GetNotesDocument, options)\n}\nexport function useGetNotesLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<GetNotesQuery, GetNotesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetNotesQuery, GetNotesQueryVariables>(\n    GetNotesDocument,\n    options,\n  )\n}\nexport type GetNotesQueryHookResult = ReturnType<typeof useGetNotesQuery>\nexport type GetNotesLazyQueryHookResult = ReturnType<typeof useGetNotesLazyQuery>\nexport type GetNotesQueryResult = Apollo.QueryResult<\n  GetNotesQuery,\n  GetNotesQueryVariables\n>\nexport const MoreNotesDocument = gql`\n  query moreNotes($cursor: String, $size: Int!) {\n    moreNotes(cursor: $cursor, size: $size) {\n      cursor\n      hasMore @client\n      nodes {\n        _id\n        word\n        meaning\n        kor\n        noun\n        verb\n        adv\n        adj\n      }\n    }\n  }\n`\n\n/**\n * __useMoreNotesQuery__\n *\n * To run a query within a React component, call `useMoreNotesQuery` and pass it any options that fit your needs.\n * When your component renders, `useMoreNotesQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMoreNotesQuery({\n *   variables: {\n *      cursor: // value for 'cursor'\n *      size: // value for 'size'\n *   },\n * });\n */\nexport function useMoreNotesQuery(\n  baseOptions: Apollo.QueryHookOptions<MoreNotesQuery, MoreNotesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<MoreNotesQuery, MoreNotesQueryVariables>(\n    MoreNotesDocument,\n    options,\n  )\n}\nexport function useMoreNotesLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<MoreNotesQuery, MoreNotesQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<MoreNotesQuery, MoreNotesQueryVariables>(\n    MoreNotesDocument,\n    options,\n  )\n}\nexport type MoreNotesQueryHookResult = ReturnType<typeof useMoreNotesQuery>\nexport type MoreNotesLazyQueryHookResult = ReturnType<typeof useMoreNotesLazyQuery>\nexport type MoreNotesQueryResult = Apollo.QueryResult<\n  MoreNotesQuery,\n  MoreNotesQueryVariables\n>\nexport const DeleteNoteDocument = gql`\n  mutation deleteNote($id: String!) {\n    deleteNote(id: $id)\n  }\n`\nexport type DeleteNoteMutationFn = Apollo.MutationFunction<\n  DeleteNoteMutation,\n  DeleteNoteMutationVariables\n>\n\n/**\n * __useDeleteNoteMutation__\n *\n * To run a mutation, you first call `useDeleteNoteMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteNoteMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteNoteMutation, { data, loading, error }] = useDeleteNoteMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeleteNoteMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    DeleteNoteMutation,\n    DeleteNoteMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<DeleteNoteMutation, DeleteNoteMutationVariables>(\n    DeleteNoteDocument,\n    options,\n  )\n}\nexport type DeleteNoteMutationHookResult = ReturnType<typeof useDeleteNoteMutation>\nexport type DeleteNoteMutationResult = Apollo.MutationResult<DeleteNoteMutation>\nexport type DeleteNoteMutationOptions = Apollo.BaseMutationOptions<\n  DeleteNoteMutation,\n  DeleteNoteMutationVariables\n>\nexport const GerReviewCompletedLessonsDocument = gql`\n  query gerReviewCompletedLessons($cursor: String, $size: Int!) {\n    moreCompletedLessons(cursor: $cursor, size: $size) {\n      cursor\n      hasMore @client\n      nodes {\n        _id\n        lessonName\n        completedAt\n        videoLevel\n        videoLevelLabel @client\n        videoType\n        youtubeId\n      }\n    }\n  }\n`\n\n/**\n * __useGerReviewCompletedLessonsQuery__\n *\n * To run a query within a React component, call `useGerReviewCompletedLessonsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGerReviewCompletedLessonsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGerReviewCompletedLessonsQuery({\n *   variables: {\n *      cursor: // value for 'cursor'\n *      size: // value for 'size'\n *   },\n * });\n */\nexport function useGerReviewCompletedLessonsQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    GerReviewCompletedLessonsQuery,\n    GerReviewCompletedLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<\n    GerReviewCompletedLessonsQuery,\n    GerReviewCompletedLessonsQueryVariables\n  >(GerReviewCompletedLessonsDocument, options)\n}\nexport function useGerReviewCompletedLessonsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GerReviewCompletedLessonsQuery,\n    GerReviewCompletedLessonsQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<\n    GerReviewCompletedLessonsQuery,\n    GerReviewCompletedLessonsQueryVariables\n  >(GerReviewCompletedLessonsDocument, options)\n}\nexport type GerReviewCompletedLessonsQueryHookResult = ReturnType<\n  typeof useGerReviewCompletedLessonsQuery\n>\nexport type GerReviewCompletedLessonsLazyQueryHookResult = ReturnType<\n  typeof useGerReviewCompletedLessonsLazyQuery\n>\nexport type GerReviewCompletedLessonsQueryResult = Apollo.QueryResult<\n  GerReviewCompletedLessonsQuery,\n  GerReviewCompletedLessonsQueryVariables\n>\nexport const UploadProfilePictureDocument = gql`\n  mutation uploadProfilePicture($imageBase64: String!) {\n    uploadProfilePicture(imageBase64: $imageBase64) {\n      _id\n      profilePic\n    }\n  }\n`\nexport type UploadProfilePictureMutationFn = Apollo.MutationFunction<\n  UploadProfilePictureMutation,\n  UploadProfilePictureMutationVariables\n>\n\n/**\n * __useUploadProfilePictureMutation__\n *\n * To run a mutation, you first call `useUploadProfilePictureMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUploadProfilePictureMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [uploadProfilePictureMutation, { data, loading, error }] = useUploadProfilePictureMutation({\n *   variables: {\n *      imageBase64: // value for 'imageBase64'\n *   },\n * });\n */\nexport function useUploadProfilePictureMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    UploadProfilePictureMutation,\n    UploadProfilePictureMutationVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<\n    UploadProfilePictureMutation,\n    UploadProfilePictureMutationVariables\n  >(UploadProfilePictureDocument, options)\n}\nexport type UploadProfilePictureMutationHookResult = ReturnType<\n  typeof useUploadProfilePictureMutation\n>\nexport type UploadProfilePictureMutationResult = Apollo.MutationResult<UploadProfilePictureMutation>\nexport type UploadProfilePictureMutationOptions = Apollo.BaseMutationOptions<\n  UploadProfilePictureMutation,\n  UploadProfilePictureMutationVariables\n>\nexport const GetUserProgressDocument = gql`\n  query getUserProgress {\n    progressState {\n      totalCount\n      datetimes\n      counts {\n        type\n        count\n      }\n    }\n  }\n`\n\n/**\n * __useGetUserProgressQuery__\n *\n * To run a query within a React component, call `useGetUserProgressQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetUserProgressQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetUserProgressQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetUserProgressQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    GetUserProgressQuery,\n    GetUserProgressQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetUserProgressQuery, GetUserProgressQueryVariables>(\n    GetUserProgressDocument,\n    options,\n  )\n}\nexport function useGetUserProgressLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetUserProgressQuery,\n    GetUserProgressQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetUserProgressQuery, GetUserProgressQueryVariables>(\n    GetUserProgressDocument,\n    options,\n  )\n}\nexport type GetUserProgressQueryHookResult = ReturnType<typeof useGetUserProgressQuery>\nexport type GetUserProgressLazyQueryHookResult = ReturnType<\n  typeof useGetUserProgressLazyQuery\n>\nexport type GetUserProgressQueryResult = Apollo.QueryResult<\n  GetUserProgressQuery,\n  GetUserProgressQueryVariables\n>\nexport const GetLevelsDocument = gql`\n  query getLevels {\n    levels {\n      _id\n      name\n    }\n  }\n`\n\n/**\n * __useGetLevelsQuery__\n *\n * To run a query within a React component, call `useGetLevelsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetLevelsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetLevelsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetLevelsQuery(\n  baseOptions?: Apollo.QueryHookOptions<GetLevelsQuery, GetLevelsQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetLevelsQuery, GetLevelsQueryVariables>(\n    GetLevelsDocument,\n    options,\n  )\n}\nexport function useGetLevelsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<GetLevelsQuery, GetLevelsQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetLevelsQuery, GetLevelsQueryVariables>(\n    GetLevelsDocument,\n    options,\n  )\n}\nexport type GetLevelsQueryHookResult = ReturnType<typeof useGetLevelsQuery>\nexport type GetLevelsLazyQueryHookResult = ReturnType<typeof useGetLevelsLazyQuery>\nexport type GetLevelsQueryResult = Apollo.QueryResult<\n  GetLevelsQuery,\n  GetLevelsQueryVariables\n>\nexport const SetLevelDocument = gql`\n  mutation setLevel($levelName: LevelName!) {\n    setLevel(levelName: $levelName) {\n      _id\n      userLevelId\n      userLevelName\n    }\n  }\n`\nexport type SetLevelMutationFn = Apollo.MutationFunction<\n  SetLevelMutation,\n  SetLevelMutationVariables\n>\n\n/**\n * __useSetLevelMutation__\n *\n * To run a mutation, you first call `useSetLevelMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetLevelMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setLevelMutation, { data, loading, error }] = useSetLevelMutation({\n *   variables: {\n *      levelName: // value for 'levelName'\n *   },\n * });\n */\nexport function useSetLevelMutation(\n  baseOptions?: Apollo.MutationHookOptions<SetLevelMutation, SetLevelMutationVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useMutation<SetLevelMutation, SetLevelMutationVariables>(\n    SetLevelDocument,\n    options,\n  )\n}\nexport type SetLevelMutationHookResult = ReturnType<typeof useSetLevelMutation>\nexport type SetLevelMutationResult = Apollo.MutationResult<SetLevelMutation>\nexport type SetLevelMutationOptions = Apollo.BaseMutationOptions<\n  SetLevelMutation,\n  SetLevelMutationVariables\n>\nexport const GetUserGuideDocument = gql`\n  query getUserGuide {\n    userGuide {\n      introduction\n      youtubeId\n    }\n  }\n`\n\n/**\n * __useGetUserGuideQuery__\n *\n * To run a query within a React component, call `useGetUserGuideQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetUserGuideQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetUserGuideQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetUserGuideQuery(\n  baseOptions?: Apollo.QueryHookOptions<GetUserGuideQuery, GetUserGuideQueryVariables>,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useQuery<GetUserGuideQuery, GetUserGuideQueryVariables>(\n    GetUserGuideDocument,\n    options,\n  )\n}\nexport function useGetUserGuideLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    GetUserGuideQuery,\n    GetUserGuideQueryVariables\n  >,\n) {\n  const options = {...defaultOptions, ...baseOptions}\n  return Apollo.useLazyQuery<GetUserGuideQuery, GetUserGuideQueryVariables>(\n    GetUserGuideDocument,\n    options,\n  )\n}\nexport type GetUserGuideQueryHookResult = ReturnType<typeof useGetUserGuideQuery>\nexport type GetUserGuideLazyQueryHookResult = ReturnType<typeof useGetUserGuideLazyQuery>\nexport type GetUserGuideQueryResult = Apollo.QueryResult<\n  GetUserGuideQuery,\n  GetUserGuideQueryVariables\n>\n","import {\n  IonButtons,\n  IonBackButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonCard,\n  IonCardContent,\n  IonToolbar,\n  IonModal,\n  IonButton,\n  IonIcon,\n  useIonRouter,\n  IonRouterLink,\n} from '@ionic/react'\n\nimport React, {useState} from 'react'\nimport './Home.scss'\n\nconst Home: React.FC = () => {\n  // const [showModal, setShowModal] = useState(true);\n  const router = useIonRouter()\n  const [showModal, setShowModal] = useState(true)\n\n  const dashboard = () => {\n    setShowModal(false)\n    router.push('/dashboard/lessons')\n  }\n  return (\n    <IonPage onClick={dashboard}>\n      <IonContent fullscreen >\n        <IonModal isOpen={showModal} cssClass=\"my-custom-class\">\n          <IonContent className=\"modal\">\n            <IonGrid>\n            <IonRow className=\"ion-align-items-center ion-justify-content-end\">\n              <span>\n                <IonIcon\n                  style={{\n                    cursor: 'pointer',\n                    float: 'right',\n                    padding: '10px',\n                    color: 'white',\n                  }}\n                  size=\"large\"\n                  slot=\"icon-only\"\n                  name=\"close\"\n                  onClick={dashboard}\n                ></IonIcon>\n              </span>\n            </IonRow>\n\n            <IonRow className=\"content\">\n              {' '}\n              <IonCol sizeMd=\"6\" sizeXs=\"12\"\n                className=\"ion-justify-content-center ion-align-content-center\">\n                <div className=\"image-content\">\n                <img src=\"./assets/images/Character.svg\" alt=\"charachter\" />\n                </div>\n              </IonCol>\n              <IonCol  sizeMd=\"6\" sizeXs=\"12\"\n              className=\"ion-justify-content-center ion-align-content-center\">\n              \n              <h2>You’ve just received 5 free lessons! </h2>\n              <p>\n                We sent you a verification email. Please check your email so we know\n                you’re a human.{' '}\n              </p>\n              </IonCol>\n            </IonRow>\n            </IonGrid>\n          </IonContent>\n        </IonModal>\n\n        {/* <IonCard>\n          <IonCardHeader>\n          <span item-right> \n              <IonIcon style={{ cursor: 'pointer', float: \"right\", color: \"white\" }} size=\"large\" slot=\"icon-only\" name=\"close\" onClick={dashboard}/>\n          </span>\n          </IonCardHeader>\n          \n          <IonCardContent>\n          <img src=\"./assets/images/Character.svg\" alt=\"charachter\" />\n          <div className=\"mobile\">\n            <h2>You’ve just received 5 free lessons! </h2>\n            <p>\n              We sent you a verification email. Please check your email so we know you’re\n              a human.{' '}\n\n            </p>\n            </div>\n          </IonCardContent>\n        </IonCard> */}\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Home\n","import {Storage} from '@capacitor/storage'\n//   import {useStore} from 'src/reactapp/useStore'\n\nexport const storageHelper = {\n  async setNativeStorage(key, value) {\n    // this.storageCache[key] = {data: value}\n    return await Storage.set({\n      key,\n      value: JSON.stringify({\n        data: value,\n      }),\n    })\n  },\n\n  async getNativeStorage(key) {\n    // if (this.storageCache[key]) {\n    //   return this.storageCache[key]\n    // }\n    const ret = await Storage.get({key})\n    let value = JSON.parse(ret.value)\n    if (!value) {\n      value = {data: null}\n    }\n    // this.storageCache[key] = value\n    return value\n  },\n\n  async removeNativeStorage(key) {\n    // delete this.storageCache[key]\n    return await Storage.remove({key})\n  },\n\n  \n}\n","import {storageHelper} from './utils/storageHelper'\n\nexport async function fetchApi(input: RequestInfo, init?: RequestInit) {\n  const token = await storageHelper.getNativeStorage('token')\n  const opts = init || {headers: {}}\n  return await fetch(process.env.REACT_APP_API_URL + input, {\n    ...opts,\n    headers: {\n      ...opts.headers,\n      'Content-Type': 'application/json',\n      accesstoken: token?.data,\n    },\n  }).then((res) => res.json())\n}\n\nexport async function fetchSuggestedCurriculum() {\n  const res = await fetchApi('/lesson/suggested-curriculum/')\n  return res.data\n}\n\nexport async function userProfile() {\n  const res = await fetchApi('/user/get-profile')\n  return res.data\n}\n\nexport async function fetchCourses() {\n  const res = await fetchApi(`/lesson/my-course`)\n  return res.data\n}\n\nexport async function fetchSearchLessons(\n  page: number = 1,\n  videoLevel: string,\n  day: string,\n  searchKeyWord: string,\n) {\n  const res = await fetchApi(`/lesson/search-lessons/${page}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      videoLevel,\n      day,\n      searchKeyWord,\n    }),\n  })\n  console.log({res})\n  return res.data\n}\n","import React, {useState} from 'react'\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonProgressBar,\n  IonRow,\n  IonSearchbar,\n  IonSpinner,\n  IonText,\n  IonThumbnail,\n  useIonRouter,\n  IonCardHeader,\n  useIonViewWillEnter,\n} from '@ionic/react'\nimport {chevronForward} from 'ionicons/icons'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi, fetchSuggestedCurriculum} from '../../fetchApis'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\n\nimport './LibraryPage.scss'\n\nasync function fetchSearchLessons(\n  page: number = 1,\n  videoLevel: string,\n  day: string,\n  searchKeyWord: string,\n) {\n  const res = await fetchApi(`/lesson/search-lessons/${page}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      videoLevel,\n      day,\n      searchKeyWord,\n    }),\n  })\n\n  return res.data\n}\n\nconst weeklyImages = {\n  Monday: '/assets/images/search/news1.png',\n  Tuesday: '/assets/images/search/general-english1.png',\n  Wednesday: '/assets/images/search/tv-shows-movies1.png',\n  Thursday: '/assets/images/search/business-english1.png',\n  Friday: '/assets/images/search/speech1.png',\n  Weekend: '/assets/images/search/pop-songs1.png',\n}\n\nconst getThumbnail = (youtubeId: string) =>\n  'https://img.youtube.com/vi/' + youtubeId + '/mqdefault.jpg'\n\nconst PAGE_SIZE = 10\n\nconst weekdays = [\n  'Weekend', //'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Weekend', //'Saturday',\n]\n\nfunction SearchList({searchKeyWord}) {\n  const [noMore, setNoMore] = React.useState(false)\n  const [page, setPage] = React.useState(1)\n  \n\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const today = weekdays[new Date().getDay()]\n  const query = ReactQuery.useInfiniteQuery(\n    ['searchLessons', today, searchKeyWord],\n    ({pageParam = 1}) => {\n      return fetchSearchLessons(pageParam, profile.userLevelName, today, searchKeyWord)\n    },\n    {\n      // keepPreviousData: true\n      getNextPageParam: (lastPage, pages) => {\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n\n      onSuccess: () => {\n        setNoMore(true)\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  console.log(\"isLoading\", isLoading)\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n  const lessons = data?.pages || []\n\n  return (\n    <>\n      <IonRow>\n        <IonCol size=\"12\" className=\"ion-no-padding\">\n      {isLoading ? \n        ( <div className=\"ion-padding-top\"><IonSpinner></IonSpinner></div>)\n        : ( \n          data?.pages[0].length ? (\n            <IonRow className=\"ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"10\"\n                sizeLg=\"9\"\n                sizeXl=\"9\"\n                className=\"ion-align-self-center\"\n              >\n                <IonList\n                  mode=\"md\"\n                  className=\"ion-no-padding\"\n                  // list=\"none\"\n                >\n                  {lessons.map((group, i) => (\n                    <React.Fragment key={i}>\n                      {group.map((lesson) => (\n                        <IonItem\n                          key={lesson._id}\n                          className=\"pointer\"\n                          routerLink={`/lesson-details/${lesson._id}`}\n                          routerDirection=\"forward\"\n                          mode=\"md\"\n                          style={{cursor: 'pointer'}}\n                        >\n                          <IonThumbnail slot=\"start\">\n                            <IonImg src={getThumbnail(lesson.youtubeId)}></IonImg>\n                          </IonThumbnail>\n                          <IonLabel>\n                            <h2 className=\"ion-text-wrap\">{lesson.lessonName}</h2>\n                            <p>\n                              <IonText>{lesson.videoLevel}</IonText>\n                            </p>\n                            {/* <p>\n                          <IonText>{lesson.course.topic.title}</IonText>\n                        </p> */}\n                          </IonLabel>\n                          <IonIcon mode=\"ios\" icon={chevronForward} slot=\"end\"></IonIcon>\n                        </IonItem>\n                      ))}\n                    </React.Fragment>\n                  ))}\n                </IonList>\n              </IonCol>\n            </IonRow>\n          ) : \n          (\n            \n              <IonRow className=\"explore ion-text-center ion-align-items-center ion-justify-content-center ion-margin-top\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"6\"\n                  sizeXl=\"4\"\n                  sizeLg=\"4\"\n                  className=\"ion-align-self-center\"\n                >\n                  <img\n                    className=\"ion-margin-bottom\"\n                    src=\"/assets/images/search-lessons-not-found1.png\"\n                    width=\"30%\"\n                    alt=\"lessons not found\"\n                  />\n                  <h3>\n                    No results for <b>\"{searchKeyWord}\"</b>\n                    <br />\n                    </h3>\n                    <IonText>\n                    Try again using different spelling or keywords\n                    </IonText>\n                </IonCol>\n              </IonRow>\n            \n          ))\n        }\n        </IonCol>\n      </IonRow>\n      \n\n      <IonInfiniteScroll\n        disabled={!hasNextPage || isFetchingNextPage}\n        onIonInfinite={handleInfinite}\n        threshold=\"200px\"\n      >\n        <IonInfiniteScrollContent>\n          <IonSpinner />\n        </IonInfiniteScrollContent>\n      </IonInfiniteScroll>\n    </>\n  )\n}\n\nexport default function SearchLessons() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery({fetchPolicy: 'cache-only'})\n  const [searchKeyWord, setSearchKeyWord] = React.useState('')\n  const [trialLessonsLeft, setTrialLessonsLeft] = useState(0)\n  const [isFocus, setIsFocus] = React.useState(false)\n  const router = useIonRouter()\n  const query = ReactQuery.useQuery('suggested-curriculum', fetchSuggestedCurriculum)\n  const {isLoading, error, data} = query\n\n  \n\n  if (isLoading) {\n    return (\n      <IonPage className=\"libray-page\">\n        {/* <DesktopTabBar /> */}\n        <IonContent>\n          <IonProgressBar type=\"indeterminate\" />\n        </IonContent>\n      </IonPage>\n    )\n  }\n  if (error) {\n    return <div>Error...</div>\n  }\n\n  const list = Object.keys(weeklyImages).map((k) => ({\n    ...data.find((t) => t.day === k),\n    icon: weeklyImages[k],\n  }))\n\n  async function leftLesson() {\n    const res = await fetchApi(`/lesson/my-course`)\n    if (res) {\n      setTrialLessonsLeft(profile.trialLessonLimit - res.data.length)\n    }\n  }\n\n  if (profile) {\n    leftLesson()\n  }\n\n  // const trialLessonsLeft = profile.trialLessonLimit - profile.completedLesson\n\n  function handleFocus() {\n    setIsFocus(true)\n  }\n  function handleCancel() {\n    setIsFocus(false)\n  }\n  function handleClear() {\n    // console.log('handleClear')\n  }\n  function handleChange(e) {\n    setSearchKeyWord(e.target.value)\n  }\n\n  return (\n    <IonPage className=\"libray-page\">\n      <IonContent>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow \n          style={{paddingTop: '8%'}}\n          className=\"ion-margin-top ion-padding-top ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"8\"\n              sizeXl=\"4\"\n              sizeLg=\"6\"\n              className=\"ion-align-self-center\"\n            >\n              <IonSearchbar\n                mode=\"md\"\n                id=\"searchKeyWord\"\n                onIonFocus={handleFocus}\n                onIonCancel={handleCancel}\n                onIonClear={handleClear}\n                onIonChange={handleChange}\n                showCancelButton=\"focus\"\n                clear-icon=\"close-circle\"\n                animated\n                placeholder=\"Search your lesson\"\n              ></IonSearchbar>\n\n              {!isFocus && searchKeyWord === '' ? (\n                <>\n                  <IonRow>\n                    {list.map((topic) => (\n                      <IonCol size=\"6\">\n                        <IonCard\n                          key={topic._id}\n                          mode=\"ios\"\n                          className=\"card ion-padding\"\n                          routerLink={`/library/${topic.lessonTopicId}`}\n                        >\n                          <IonCardHeader>\n                            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                              <IonImg\n                                style={{width: '50%', height: '8vh'}}\n                                className=\"search-categories-icon\"\n                                src={topic.icon}\n                              ></IonImg>\n                            </IonRow>\n                          </IonCardHeader>\n                          <IonCardContent className=\"search-categories\" mode=\"ios\">\n                            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                              <p>\n                                <strong>{topic.title}</strong>\n                              </p>\n                            </IonRow>\n                          </IonCardContent>\n                        </IonCard>\n                      </IonCol>\n                    ))}\n                  </IonRow>\n                  {profile.currentPackage === 'Subscription' ? (\n                    <>\n                      {/* <p className=\"ion-text-center\">Help friends improve English</p>\n                      <IonButton\n                        mode=\"ios\"\n                        className=\"Sub\"\n                        shape=\"round\"\n                        expand=\"block\"\n                        routerLink=\"/share-app\"\n                        // routerLinkActive=\"router-link-active\"\n                      >\n                        <strong>SHARE NOW</strong>\n                      </IonButton> */}\n                      <IonRow className=\"ion-justify-content-center ion-no-padding ion-align-items-center\">\n                        <IonCol\n                          onClick={() => {\n                            router.push('/share-app', 'forward')\n                          }}\n                          className=\"ion-align-item-center \n                              ion-no-padding ion-align-self-center\n                              ion-justify-content-center\"\n                          sizeXs=\"12\"\n                          sizeSm=\"12\"\n                          sizeMd=\"10\"\n                          sizeLg=\"9\"\n                          sizeXl=\"8\"\n                        >\n                          <img\n                            src=\"../../../assets/images/share_app-h.png\"\n                            alt=\"subscribe\"\n                          />\n                        </IonCol>\n                      </IonRow>\n                    </>\n                  ) : (\n                    <>\n                      <IonRow\n                        style={{\n                          backgroundImage: `url(\"../../../assets/images/subscribeBg-Explore.png\")`,\n                          backgroundRepeat: 'no-repeat',\n                          backgroundSize: '100% 100%',\n                          height: '32vh',\n                          padding: '0px 20px'\n                        }}\n                        className=\"ion-align-items-center\"\n                      >\n                        <IonCol\n                          className=\"ion-align-item-center \n                                    ion-align-self-center\n                                      ion-justify-content-center\"\n                          sizeXs=\"12\"\n                          sizeSm=\"12\"\n                          sizeMd=\"10\"\n                          sizeLg=\"9\"\n                          sizeXl=\"8\"\n                        >\n                          <div className=\"ion-padding-top ion-padding-bottom  \">\n                            <h6 className=\"ion-text-center ion-padding-top\">\n                              <strong>\n                                \"{trialLessonsLeft}\" free{' '}\n                                {trialLessonsLeft <= 1 ? 'lesson is' : 'lessons are'}{' '}\n                                left. <br />\n                              </strong>\n                            </h6>\n                            <p className=\"ion-text-center ion-padding-top ion-padding-bottom\">\n                              Subscribe to unlock more lessons.\n                            </p>\n\n                            <IonButton\n                              mode=\"ios\"\n                              className=\"Sub\"\n                              shape=\"round\"\n                              expand=\"block\"\n                              routerLink=\"/subscriptionplans\"\n                            >\n                              <strong>SUBSCRIBE NOW</strong>\n                            </IonButton>\n                          </div>\n                        </IonCol>\n                      </IonRow>\n                    </>\n                  )}\n                </>\n              ) : (\n                searchKeyWord === '' && (\n                  <div className=\"explore ion-padding-top\">\n                    <img\n                      className=\"ion-margin-bottom ion-padding-top\"\n                      src=\"/assets/images/search-lessons1.png\"\n                      width=\"30%\"\n                      alt=\"expore lessons\"\n                    />\n                    <h3>Explore the lessons</h3>\n                    <IonText>Search for keywords, accents, topics, and genres.</IonText>\n                  </div>\n                )\n              )}\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol size=\"12\" className=\"ion-no-padding\">\n              {isFocus && searchKeyWord !== '' && (\n                <SearchList key={searchKeyWord} searchKeyWord={searchKeyWord} />\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n","import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react'\nimport SearchLessons from './LibraryPage'\n\nconst LibraryTab: React.FC = () => {\n  return <SearchLessons />\n  // return (\n  //   <IonPage>\n  //     <IonHeader>\n  //       <IonToolbar>\n  //         <IonTitle>Lesson Intro</IonTitle>\n  //       </IonToolbar>\n  //     </IonHeader>\n  //     <IonContent fullscreen>\n  //       <div>\n  //         LibraryTab\n  //         <IonButton routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n  //           Back\n  //         </IonButton>\n  //         {/* <IonButton routerLink=\"/login\">Back</IonButton> */}\n  //       </div>\n  //     </IonContent>\n  //   </IonPage>\n  // )\n}\n\nexport default LibraryTab\n","import {\n  IonCard,\n  IonCardContent,\n  IonCol,\n  IonGrid,\n  IonIcon,\n  IonImg,\n  IonItem,\n  IonLabel,\n  IonRadio,\n  IonRadioGroup,\n  IonRow,\n  IonText,\n  useIonAlert,\n} from '@ionic/react'\nimport React from 'react'\nimport ReactPlayer from 'react-player'\nimport {\n  LevelName,\n  useGetProfileQuery,\n  useGetUserGuideQuery,\n  useSetLevelMutation,\n} from '../../schema/types-and-hooks'\n// import {useStore} from '../ ../useStore'\nimport './UserLevel.scss'\n\nconst levelLevels = {\n  UpperBeginner: 'Upper Beginner',\n  'Upper-beginner': 'Upper Beginner',\n  Elementary: 'Upper Beginner',\n  Intermediate: 'Intermediate',\n  Advanced: 'Advanced',\n}\n\nconst UserLevelPlayer: React.FC = () => {\n  const {data, loading} = useGetUserGuideQuery()\n  const [playing, setPlaying] = React.useState(false)\n  const playerRef = React.useRef<ReactPlayer>(null)\n\n  function handleProgress(data: any) {}\n  function handleOnReady(player: ReactPlayer) {}\n\n  return (\n    <>\n      <IonRow className=\"lesson ion-align-items-center ion-justify-content-center\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeLg=\"12\"\n          sizeXl=\"12\"\n          sizeMd=\"12\"\n          className=\"ion-align-self-center ion-no-padding\"\n        >\n          <h5 className=\"ion-no-margin ion-padding\">\n            <IonText color=\"danger\">Level Test: </IonText> How much you can understand\n            from the video below?\n          </h5>\n          <div className=\"player-wrapper\">\n            <ReactPlayer\n              ref={playerRef}\n              url={\n                loading\n                  ? null\n                  : `https://www.youtube.com/watch?v=${data.userGuide.youtubeId}`\n              }\n              controls={false}\n              // playbackRate={2}\n              playing={playing}\n              width=\"100%\"\n              height=\"auto\"\n              // light\n              config={{\n                youtube: {\n                  playerVars: {\n                    showinfo: 0,\n                    disablekb: 1,\n                    controls: 0,\n                    cc_load_policy: 0,\n                  },\n                },\n              }}\n              progressInterval={500}\n              // onPlay={}\n              onPause={() => setPlaying(false)}\n              onProgress={handleProgress}\n              onReady={handleOnReady}\n            />\n            <div className=\"player-overlay\"></div>\n          </div>\n        </IonCol>\n      </IonRow>\n\n      <IonRow className=\"youtube-handler ion-align-items-center ion-justify-content-center\">\n        {playing ? (\n          <>\n            <IonCol\n              onClick={() =>\n                playerRef.current.seekTo(playerRef.current.getCurrentTime() - 3)\n              }\n              sizeXs=\"3\"\n              sizeSm=\"3\"\n              sizeMd=\"3\"\n              sizeLg=\"3\"\n              sizeXl=\"3\"\n              className=\"ion-align-self-center ion-no-padding\"\n            >\n              <IonIcon\n                className=\"pointer\"\n                src=\"/assets/images/lessons/3seconds-back.svg\"\n              ></IonIcon>\n            </IonCol>\n            <IonCol\n              onClick={() => setPlaying(false)}\n              sizeXs=\"4\"\n              sizeSm=\"4\"\n              sizeMd=\"4\"\n              sizeLg=\"4\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center ion-no-padding\"\n            >\n              <IonIcon\n                className=\"pointer\"\n                src=\"/assets/images/lessons/pause-lesson.svg\"\n              ></IonIcon>\n            </IonCol>\n          </>\n        ) : (\n          <IonCol\n            onClick={() => setPlaying(true)}\n            sizeXs=\"2\"\n            sizeSm=\"2\"\n            sizeMd=\"2\"\n            sizeLg=\"2\"\n            sizeXl=\"2\"\n            className=\"ion-text-center ion-align-self-center ion-no-padding\"\n          >\n            <IonIcon\n              className=\"pointer\"\n              src=\"/assets/images/lessons/play-lesson.svg\"\n            ></IonIcon>\n          </IonCol>\n        )}\n      </IonRow>\n    </>\n  )\n}\n\nconst UserLevelList: React.FC = () => {\n  const {\n    data: {profile},\n  } = useGetProfileQuery({fetchPolicy: 'cache-only'})\n  // const sharedService = useStore((state) => state.sharedService)\n  const [levelName, setUserLevelId] = React.useState<string>(profile.userLevelName)\n  const [present] = useIonAlert()\n  const [setLevel] = useSetLevelMutation({\n    onCompleted: (data) => {\n      present({\n        cssClass: 'user-level-alert',\n        message:\n          'Great! We will recommend <strong>' +\n          levelLevels[data.setLevel.userLevelName] +\n          '</strong> lessons for you.',\n        buttons: [\n          {\n            text: 'Ok',\n            handler: (d) => {\n              console.log('ok pressed')\n              // sharedService.gaTrackEvent(\n              //   'LevelChangeOnProfileLevel',\n              //   data.setLevel.userLevelId,\n              // )\n            },\n          },\n        ],\n      })\n    },\n  })\n\n  const list = [\n    {value: LevelName.UpperBeginner, label: 'Not much (0-40%)'},\n    {value: LevelName.Intermediate, label: 'About half (40-70%)'},\n    {value: LevelName.Advanced, label: 'Quite a lot (70%~)'},\n  ]\n\n  function handleChange(e) {\n    console.log(e.detail.value)\n    const lastLevelName = levelName\n    setUserLevelId(e.detail.value)\n    setLevel({variables: {levelName: e.detail.value}}).catch(() => {\n      setUserLevelId(lastLevelName)\n    })\n  }\n\n  return (\n    <>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeLg=\"12\"\n          sizeXl=\"12\"\n          sizeMd=\"12\"\n          className=\"ion-align-self-center\"\n        >\n          <IonRadioGroup\n            value={levelName}\n            onIonChange={handleChange}\n            id=\"selectedLevel\"\n            name=\"selectedLevel\"\n          >\n            {list.map((level) => (\n              <IonItem lines=\"none\" key={level.value}>\n                <IonLabel>{level.label}</IonLabel>\n\n                <IonRadio\n                  color=\"danger\"\n                  mode=\"md\"\n                  slot=\"end\"\n                  value={level.value}\n                ></IonRadio>\n              </IonItem>\n            ))}\n          </IonRadioGroup>\n        </IonCol>\n      </IonRow>{' '}\n    </>\n  )\n}\n\nconst UserLevel: React.FC = () => {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n\n  return (\n    <IonGrid class=\"user-level-panel ion-no-padding \">\n      <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeLg=\"12\"\n          sizeXl=\"12\"\n          sizeMd=\"12\"\n          className=\"ion-padding-start ion-padding-end ion-align-self-center\"\n        >\n          <IonCard className=\"ion-no-margin\" mode=\"ios\">\n            <IonCardContent>\n              We're currently recommending\n              <IonText color=\"danger\"> \"{levelLevels[profile.userLevelName]}\" </IonText>\n              lessons for you.\n            </IonCardContent>\n          </IonCard>\n        </IonCol>\n      </IonRow>\n      <UserLevelPlayer />\n      <UserLevelList />\n\n      <IonRow>\n        <IonCol>\n          <IonImg\n            src=\"/assets/images/level-up-guideline.svg\"\n            style={{paddingTop: '5px', borderTop: '2px solid #f8f6f6'}}\n          ></IonImg>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  )\n}\n\nexport default UserLevel\n","import React from 'react'\n// import {CameraDirection, CameraResultType, CameraSource, Plugins} from '@capacitor/core'\nimport {Camera, CameraDirection, CameraResultType, CameraSource} from '@capacitor/camera'\n\nimport {\n  IonAvatar,\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonFooter,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonLoading,\n  IonRow,\n  IonTitle,\n  IonToolbar,\n  useIonActionSheet,\n  useIonModal,\n  useIonToast,\n  isPlatform,\n} from '@ionic/react'\nimport ReactCrop from 'react-image-crop'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport {close} from 'ionicons/icons'\n// import {\n//   useGetProfileQuery,\n//   useUploadProfilePictureMutation,\n// } from '../../../schema/types-and-hooks'\n// import {usePlatform} from '@capacitor-community/react-hooks/platform'\nimport {getCroppedImg} from './getCroppedImg'\nimport {\n  useGetProfileQuery,\n  useUploadProfilePictureMutation,\n} from '../../schema/types-and-hooks'\n\n// const {Camera, Device} = Plugins\n\nconst toBase64 = (file): Promise<string> =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.readAsDataURL(file)\n\n    reader.onload = () => resolve(reader.result.toString())\n    reader.onerror = (error) => reject(error)\n  })\n\nconst ProfileImageUploadModal: React.FC<{\n  loading: boolean\n  onDismiss: () => void\n  onSubmit: (imageBase64: string) => void\n}> = ({loading, onDismiss, onSubmit}) => {\n  const [crop, setCrop] = React.useState<ReactCrop.Crop>({aspect: 1})\n  const [croppedImage, setCroppedImage] = React.useState<string>()\n  const [image, setImage] = React.useState<HTMLImageElement>()\n  const [imageBase64, setImageBase64] = React.useState<string | null>()\n  async function handleFileChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files.item(0)\n    if (file) {\n      const base64 = await toBase64(file)\n      setImageBase64(base64)\n    }\n  }\n  console.log(croppedImage)\n  async function takePicture() {\n    try {\n      const image = await Camera.getPhoto({\n        quality: 100,\n        allowEditing: false,\n        resultType: CameraResultType.Base64,\n        source: CameraSource.Photos,\n        correctOrientation: true,\n      })\n\n      if (image.base64String) {\n        setImageBase64('data:image/jpeg;base64,' + image.base64String)\n      }\n    } catch {}\n  }\n\n  function handleSubmit() {\n    const croppedImage = getCroppedImg(image, crop)\n\n    setCroppedImage(croppedImage)\n    onSubmit(croppedImage)\n  }\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar color=\"dark\">\n          <IonButtons slot=\"secondary\">\n            <IonButton color=\"light\" onClick={onDismiss}>\n              <IonIcon slot=\"icon-only\" icon={close}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>Update Profile Picture</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonGrid className=\"ion-padding h-100\">\n          <IonRow className=\"ion-justify-content-center h-100\">\n            <IonCol size=\"12\" className=\"ion-align-self-center\">\n              {/* {croppedImage && <img src={croppedImage} alt=\"cropped\" />} */}\n              {imageBase64 ? (\n                <ReactCrop\n                  src={imageBase64}\n                  crop={crop}\n                  onChange={(newCrop) => setCrop(newCrop)}\n                  keepSelection\n                  onImageLoaded={(image) => {\n                    const min = Math.min(image.width, image.height)\n\n                    setCrop({\n                      x: 0,\n                      y: 0,\n                      width: min,\n                      aspect: 1,\n                    })\n                    setImage(image)\n\n                    return false // Return false when setting crop state in here.\n                  }}\n                />\n              ) : (\n                <IonRow className=\"ion-justify-content-center\">\n                  <IonCol\n                    size-xs=\"12\"\n                    size-sm=\"12\"\n                    size-md=\"12\"\n                    size-xl=\"6\"\n                    size-lg=\"6\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <label className=\"profile-image ion-margin-bottom\">\n                      Choose Image\n                      <input\n                        type=\"file\"\n                        className=\"form-control\"\n                        accept=\"image/*\"\n                        onChange={handleFileChange}\n                      />\n                    </label>\n\n                    <IonButton\n                      mode=\"ios\"\n                      className=\"ion-margin-top\"\n                      color=\"danger\"\n                      shape=\"round\"\n                      expand=\"block\"\n                      onClick={takePicture}\n                    >\n                      Capture Image\n                    </IonButton>\n                  </IonCol>\n                </IonRow>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n      {imageBase64 && (\n        <IonFooter>\n          <IonRow className=\"ion-justify-content-center\">\n            <IonCol\n              size-xs=\"12\"\n              size-sm=\"12\"\n              size-md=\"12\"\n              size-xl=\"8\"\n              size-lg=\"8\"\n              className=\"ion-align-self-center\"\n            >\n              <IonButton\n                mode=\"ios\"\n                color=\"danger\"\n                shape=\"round\"\n                expand=\"block\"\n                disabled={loading}\n                onClick={handleSubmit}\n              >\n                <strong>UPLOAD</strong>\n              </IonButton>\n            </IonCol>\n          </IonRow>\n        </IonFooter>\n      )}\n    </>\n  )\n}\n\nexport function ProfileAvatar() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const [uploadProfile, {loading}] = useUploadProfilePictureMutation({\n    onCompleted: (data) => {\n      // console.log('onCompleted', {data})\n      presentToast('Profile updated successfully.', 2000)\n      dismiss()\n    },\n    onError: (err) => {\n      presentToast('Error! While updating user profile picture.', 2000)\n    },\n  })\n  const [presentToast] = useIonToast()\n  const [present] = useIonActionSheet()\n  const [presentModal, dismiss] = useIonModal(ProfileImageUploadModal, {\n    loading,\n    onDismiss: () => dismiss(),\n    onSubmit: (imageBase64) => {\n      // console.log(imageBase64)\n      uploadProfile({variables: {imageBase64}})\n    },\n  })\n\n  async function takePicture(source: CameraSource) {\n    try {\n      const image = await Camera.getPhoto({\n        quality: 20,\n        allowEditing: true,\n        resultType: CameraResultType.Base64,\n        source: source,\n        direction: CameraDirection.Front,\n        promptLabelHeader: 'Update profile picture',\n        promptLabelCancel: 'Cancel',\n        promptLabelPhoto: 'Load from Library',\n        promptLabelPicture: 'Use Camera',\n      })\n\n      if (image.base64String) {\n        uploadProfile({\n          variables: {imageBase64: 'data:image/jpeg;base64,' + image.base64String},\n        })\n      }\n    } catch {}\n  }\n\n  function presentUploadImage() {\n    present(\n      [\n        {\n          text: 'Use Camera',\n          handler: () => takePicture(CameraSource.Camera),\n        },\n        {\n          text: 'Load from Library',\n          handler: () => takePicture(CameraSource.Photos),\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        },\n      ],\n      'Update profile picture',\n    )\n  }\n  \n  function handleUploadClick() {\n    if (isPlatform('desktop')) {\n      presentModal({\n        cssClass: 'profile-upload-modal',\n      })\n    } else {\n      takePicture(CameraSource.Prompt)\n      //   presentUploadImage()\n    }\n  }\n\n  return (\n    <>\n      <IonLoading isOpen={loading} message=\"Please wait...\" />\n      <IonAvatar className=\"pointer\" onClick={handleUploadClick}>\n        <img\n          src={profile?.profilePic || '/assets/images/defaultProfile.svg'}\n          alt=\"profile\"\n        />\n      </IonAvatar>\n      <IonIcon\n        onClick={handleUploadClick}\n        className=\"update-picture\"\n        src=\"/assets/images/update-profile-plus-icon.svg\"\n      ></IonIcon>\n\n      <h3\n        className=\"ion-text-center\"\n        //  *ngIf=\"profile !== undefined; else noProfile\"\n      >\n        <strong style={{textTransform: 'capitalize'}}>{profile.fullName}</strong>\n      </h3>\n    </>\n  )\n}\n","import ReactCrop from 'react-image-crop'\n\n/**\n * @param {HTMLImageElement} image - Image File Object\n * @param {Object} crop - crop Object\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport function getCroppedImg(image: HTMLImageElement, crop: ReactCrop.Crop) {\n  const canvas = document.createElement('canvas')\n  const scaleX = image.naturalWidth / image.width\n  const scaleY = image.naturalHeight / image.height\n  canvas.width = crop.width\n  canvas.height = crop.height\n  const ctx = canvas.getContext('2d')\n\n  ctx.drawImage(\n    image,\n    crop.x * scaleX,\n    crop.y * scaleY,\n    crop.width * scaleX,\n    crop.height * scaleY,\n    0,\n    0,\n    crop.width,\n    crop.height,\n  )\n\n  // As Base64 string\n  const base64Image = canvas.toDataURL('image/jpeg')\n  return base64Image\n  // As a blob\n  //   return new Promise((resolve, reject) => {\n  //     canvas.toBlob(\n  //       (blob) => {\n  //         // blob.name = fileName;\n  //         resolve(blob)\n  //       },\n  //       'image/jpeg',\n  //       1,\n  //     )\n  //   })\n}\n","import React, { useEffect } from 'react'\nimport clsx from 'clsx'\nimport {\n  IonButton,\n  IonCol,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPopover,\n  IonRow,\n  IonSpinner,\n  useIonRouter,\n} from '@ionic/react'\nimport {indexBy} from 'lodash/fp';\n// import {useEffect} from 'react'\n\nimport {addMonths, getMonth, setMonth, startOfMonth} from 'date-fns'\n// import {format} from 'date-fns/fp'\nimport {caretDown} from 'ionicons/icons'\n// import './UserProgress.scss'\n// import {gql, useQuery} from '@apollo/client';\nimport { userProfile} from '../../fetchApis';\n\nimport {useGetProfileQuery, useGetUserProgressQuery} from '../../schema/types-and-hooks'\nimport {inRange} from 'lodash'\n\nimport './UserProgress.scss';\n\nconst months = [\n  {value: 1, label: 'January', shortForm: 'JAN'},\n  {value: 2, label: 'February', shortForm: 'FEB'},\n  {value: 3, label: 'March', shortForm: 'MAR'},\n  {value: 4, label: 'April', shortForm: 'APR'},\n  {value: 5, label: 'May', shortForm: 'MAY'},\n  {value: 6, label: 'June', shortForm: 'JUN'},\n  {value: 7, label: 'July', shortForm: 'JUL'},\n  {value: 8, label: 'August', shortForm: 'AUG'},\n  {value: 9, label: 'September', shortForm: 'SEP'},\n  {value: 10, label: 'October', shortForm: 'OCT'},\n  {value: 11, label: 'November', shortForm: 'NOV'},\n  {value: 12, label: 'December', shortForm: 'DEC'},\n]\n\nexport default function UserProgress() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery({fetchPolicy: 'cache-only'})\n  // console.log(\"profile\", profile)\n  // const navCtrl = useStore((state) => state.navController)\n  const router = useIonRouter()\n\n  useEffect(() => {\n    userProfile();\n    // console.log(\"info\", info)\n  },[]);\n  const now = new Date()\n  const [selectedMonth, setSelectedMonth] = React.useState(getMonth(new Date()))\n  const [showPopover, setShowPopover] = React.useState(null)\n  const start = startOfMonth(setMonth(now, selectedMonth))\n  const end = addMonths(start, 1)\n  const {loading, error, data} = useGetUserProgressQuery({\n    fetchPolicy: 'cache-and-network',\n  })\n\n  if (loading) {\n    return (\n      <div className=\"ion-text-center ion-padding-top\">\n        <IonSpinner name=\"dots\" />\n      </div>\n    )\n  }\n  if (error) {\n    return <div>Error</div>\n  }\n\n  \n\n  const progress = data.progressState\n  const byLevel = indexBy('type', progress.counts)\n  const inMonthCount = progress.datetimes.filter((date) => {\n    return inRange(+date, +start, +end)\n  }).length\n\n  return (\n    <div className=\"profile-progress-tab\">\n      <IonRow className=\"ion-justify-content-center ion-margin-top profile-progress\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeLg=\"12\"\n          sizeXl=\"12\"\n          sizeMd=\"12\"\n          className=\"ion-align-self-center ion-no-padding\"\n        >\n          <IonPopover\n            isOpen={!!showPopover}\n            event={showPopover}\n            mode=\"md\"\n            cssClass=\"months-popover\"\n            onDidDismiss={() => setShowPopover(null)}\n          >\n            <IonList lines=\"none\">\n              {months.map((m, i) => (\n                <IonItem\n                  key={i}\n                  onClick={() => {\n                    setShowPopover(null)\n                    setSelectedMonth(i)\n                  }}\n                >\n                  <IonLabel className={clsx(i === selectedMonth && 'c-red')}>\n                    {m.label}\n                  </IonLabel>\n                </IonItem>\n              ))}\n            </IonList>\n          </IonPopover>\n          <h5 className=\"current-month\">\n            <img src=\"/assets/images/user-progress/completed.svg\" alt=\"COMPLETED\" />\n            COMPLETED IN{' '}\n            <span>\n              {months[selectedMonth].shortForm}\n\n              <IonIcon\n                className=\"drop-down\"\n                mode=\"md\"\n                icon={caretDown}\n                onClick={(e) => {\n                  e.persist()\n                  setShowPopover(e)\n                }}\n              ></IonIcon>\n            </span>\n          </h5>\n          <h1 className=\"lessons-count\">\n            <strong> {inMonthCount} </strong> <small>lessons</small>\n          </h1>\n\n          <h5 className=\"current-month ion-padding-top\">\n            <img\n              src=\"/assets/images/user-progress/total-completed.svg\"\n              alt=\"TOTAL COMPLETED\"\n            />\n            TOTAL COMPLETED\n          </h5>\n          <h1 className=\"lessons-count\">\n            <strong id=\"total\"> {progress.totalCount}</strong> <small>lessons</small>\n          </h1>\n\n          <h5 className=\"current-month ion-padding-top\">\n            <img\n              src=\"/assets/images/user-progress/upper-beginner.svg\"\n              alt=\"UPPER-BEGINNER STUDIED\"\n            />\n            UPPER-BEGINNER STUDIED\n          </h5>\n          <h1 className=\"lessons-count\">\n            <strong> {byLevel['Upper-beginner'].count}</strong> <small>lessons</small>\n          </h1>\n\n          <h5 className=\"current-month ion-padding-top\">\n            <img\n              src=\"/assets/images/user-progress/intermediate.svg\"\n              alt=\"INTERMEDIATE STUDIED\"\n            />\n            INTERMEDIATE STUDIED\n          </h5>\n          <h1 className=\"lessons-count\">\n            <strong> {byLevel['Intermediate'].count}</strong> <small>lessons</small>\n          </h1>\n\n          <h5 className=\"current-month ion-padding-top\">\n            <img src=\"/assets/images/user-progress/advanced.svg\" alt=\"ADVANCED\" />\n            ADVANCED STUDIED\n          </h5>\n          <h1 className=\"lessons-count\">\n            <strong id=\"advance\"> {byLevel['Advanced'].count}</strong> <small>lessons</small>\n          </h1>\n          <p\n            className=\"current-month pointer\"\n            style={{textDecoration: 'underline', cursor: 'pointer'}}\n            onClick={() => {\n              // navCtrl.navigateForward(`/subscription`)\n              router.push('/subscription', 'forward')\n            }}\n          >\n            Manage Subscription\n          </p>\n        </IonCol>\n      </IonRow>\n      <IonRow className=\"ion-justify-content-center profile-bg-yellow\">\n        {profile?.currentPackage === 'Subscription' ? (\n          <IonCol\n            sizeXs=\"10\"\n            sizeSm=\"10\"\n            sizeLg=\"7\"\n            sizeXl=\"6\"\n            sizeMd=\"8\"\n            className=\"ion-no-padding ion-align-self-center\"\n          >\n            <h3 className=\"ion-no-margin ion-text-center\">\n              <strong>Help your friends and family speak English</strong>\n            </h3>\n            <IonButton\n              mode=\"ios\"\n              color=\"danger\"\n              shape=\"round\"\n              expand=\"block\"\n              onClick={() => {\n                // navCtrl.navigateForward(`/share-app`)\n                router.push('/share-app', 'forward')\n              }}\n            >\n              <strong>INVITE A FRIEND</strong>\n            </IonButton>\n          </IonCol>\n        ) : (\n          <IonCol\n            sizeXs=\"10\"\n            sizeSm=\"10\"\n            sizeLg=\"7\"\n            sizeXl=\"6\"\n            sizeMd=\"8\"\n            className=\"ion-no-padding ion-align-self-center\"\n          >\n            <h3 className=\"ion-no-margin ion-text-center\">\n              <strong>Unlock your journey</strong>\n            </h3>\n            <IonButton\n              mode=\"ios\"\n              color=\"danger\"\n              shape=\"round\"\n              expand=\"block\"\n              onClick={() => {\n                // navCtrl.navigateForward(`/subscriptionplans`)\n                router.push('/subscriptionplans', 'forward')\n              }}\n            >\n              <strong>SUBSCRIBE NOW</strong>\n            </IonButton>\n          </IonCol>\n        )}\n      </IonRow>\n    </div>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonLabel,\n  IonPage,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  useIonRouter,\n} from '@ionic/react'\nimport {cog} from 'ionicons/icons'\nimport {useState} from 'react'\nimport UserLevel from './UserLevel'\nimport {ProfileAvatar} from './ProfileAvatar'\nimport UserProgress from './UserProgress'\nimport './ProfileTab.scss'\n\nconst ProfileTab: React.FC = () => {\n  const router = useIonRouter()\n  const [segment, setSegment] = useState('progress')\n\n  return (\n    <IonPage>\n      <IonContent fullscreen className=\"profile-page\">\n        <IonGrid className=\"ion-padding-top\">\n          <IonRow className=\"ion-justify-content-center ion-margin-top\">\n            <IonCol\n              sizeXs=\"2\"\n              sizeSm=\"2\"\n              sizeLg=\"3\"\n              sizeXl=\"2\"\n              sizeMd=\"3\"\n              className=\"ion-align-self-end\"\n            >\n              {' '}\n            </IonCol>\n            <IonCol\n              sizeXs=\"8\"\n              sizeSm=\"8\"\n              sizeLg=\"5\"\n              sizeXl=\"4\"\n              sizeMd=\"5\"\n              className=\"ion-align-self-center\"\n            >\n              <ProfileAvatar />\n            </IonCol>\n            <IonCol\n              sizeXs=\"2\"\n              sizeSm=\"2\"\n              sizeLg=\"3\"\n              sizeXl=\"2\"\n              sizeMd=\"3\"\n              className=\"ion-align-self-start\"\n            >\n              <IonButtons\n                className=\"ion-float-right\"\n                // mode=\"ios\"\n              >\n                <IonButton\n                  // routerLink=\"/setting\"\n                  // routerDirection=\"forward\"\n                  // onClick={() => setShowModal(true)}\n                  // mode=\"ios\"\n                  onClick={() => {\n                    // navController.navigateForward('/setting')\n                    router.push('/setting', 'forward')\n                  }}\n                >\n                  <IonIcon color=\"dark\" mode=\"ios\" slot=\"icon-only\" icon={cog} />\n                </IonButton>\n              </IonButtons>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeLg=\"9\"\n              sizeXl=\"7\"\n              sizeMd=\"9\"\n              className=\"ion-no-padding ion-align-self-center\"\n            >\n              <IonSegment\n                color=\"danger\"\n                mode=\"md\"\n                value={segment}\n                onIonChange={(e) => {\n                  setSegment(e.detail.value)\n                  // sharedService.gaTrackEvent('TabChangedProfile', e.detail.value)\n                }}\n              >\n                <IonSegmentButton mode=\"md\" value=\"progress\">\n                  <IonLabel>My Progress</IonLabel>\n                </IonSegmentButton>\n                <IonSegmentButton mode=\"md\" value=\"level\">\n                  <IonLabel>My Level</IonLabel>\n                </IonSegmentButton>\n              </IonSegment>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeLg=\"7\"\n              sizeXl=\"6\"\n              sizeMd=\"8\"\n              className=\"ion-no-padding ion-align-self-center\"\n            >\n              {segment === 'progress' ? <UserProgress /> : <UserLevel />}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default ProfileTab\n","import Driver from 'driver.js'\nimport {storageHelper} from '../utils/storageHelper';\nimport 'driver.js/dist/driver.min.css';\n\nexport function showHelpGuideFunction({steps, onClose, delay = 1000}) {\n  setTimeout(() => {\n    const driver = new Driver({\n      animate: false, // Whether to animate or not\n      // opacity: 0,\n      allowClose: false, // Whether the click on overlay should close or not\n      overlayClickNext: true, // Whether the click on overlay should move next\n      doneBtnText: 'Done', // Text on the final button\n      closeBtnText: 'Skip', // Text on the close button for this step\n      // stageBackground: '#ffffff', // Background color for the staged behind highlighted element\n      nextBtnText: 'Next', // Next button text for this step\n      prevBtnText: 'Previous', // Previous button text for this step\n      keyboardControl: false, // Allow controlling through keyboard (escape to close, arrow keys to move)\n      // onNext: (Element) => {},\n      onHighlightStarted: (Element) => {\n        const node = Element.getNode() as HTMLElement\n        node.scrollIntoView(false)\n      },\n      onDeselected: (Element) => {\n        console.log('onDeselected')\n        if (!driver.isActivated) {\n          onClose()\n        }\n      },\n    })\n\n    driver.defineSteps(steps)\n\n    driver.start()\n  }, delay)\n}\n\nexport function useHelpGuide(storageKey, steps) {\n  async function showHelpGuide() {\n    const data = await storageHelper.getNativeStorage(storageKey)\n    if (data?.data !== true) {\n      return new Promise((resolve, reject) => {\n        showHelpGuideFunction({\n          steps,\n          onClose: () => {\n            storageHelper.setNativeStorage(storageKey, true).then(() => {\n              const el = document.getElementsByTagName('ion-content')\n              //@ts-ignore\n              // el.scrollToTop()\n              resolve(true)\n            })\n          },\n          delay: 200,\n        })\n      })\n    }\n    return null\n  }\n\n  return {showHelpGuide}\n}\n","import {TextToSpeech} from '@ionic-native/text-to-speech'\nimport {Capacitor} from '@capacitor/core'\nimport {ScreenReader} from '@capacitor/screen-reader'\n\nexport default function useSpeak() {\n  async function speak(text: string) {\n    if (Capacitor.getPlatform() === 'ios') {\n      try {\n        await TextToSpeech.speak({text, locale: 'en', rate: 1.5})\n      } catch (error) {\n        console.error('An error occured while initializing : ', error)\n      }\n    } else {\n      await ScreenReader.speak({value: text, language: 'en'})\n    }\n  }\n  return speak\n}\n","// import {gql} from '@apollo/client'\nimport {\n  IonAlert,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonModal,\n  IonNote,\n  IonPage,\n  IonRippleEffect,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  IonSpinner,\n  IonThumbnail,\n  useIonRouter,\n  useIonToast,\n  useIonViewWillEnter,\n} from '@ionic/react'\nimport {format} from 'date-fns/fp'\nimport {close} from 'ionicons/icons'\nimport {omit} from 'lodash'\nimport React from 'react'\n// import { useHelpGuide } from 'src/reactapp/pages/lessonSteps/useHelpGuide'\nimport {\n  useDeleteNoteMutation,\n  useGerReviewCompletedLessonsQuery,\n  useMoreNotesQuery,\n} from '../../schema/types-and-hooks'\n// import useSpeak from 'src/reactapp/useSpeak'\n// import {useStore} from 'src/reactapp/useStore'\nimport {useHelpGuide} from '../../hooks/useHelpGuide'\nimport useSpeak from '../../hooks/useSpeak'\nimport './ReviewTab.scss'\n\nconst ReviewTab: React.FC = () => {\n  const [segment, setSegment] = React.useState('lesson')\n  // const [segment, setSegment] = React.useState('phrasesAndVocab')\n  const {showHelpGuide} = useReviewHelpGuide()\n  React.useEffect(() => {\n    showHelpGuide()\n  }, [])\n  return (\n    <IonPage className=\"review-page\">\n      <IonContent className=\"ion-no-padding\">\n        <IonGrid className=\"ion-padding-top\">\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"9\"\n              sizeLg=\"8\"\n              sizeXl=\"8\"\n              className=\"ion-align-self-center\"\n            >\n              <h1>\n                <strong>Review</strong>\n              </h1>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n            >\n              <IonSegment\n                value={segment}\n                onIonChange={(e) => setSegment(e.detail.value)}\n                // value=\"lesson\"\n                color=\"danger\"\n                mode=\"md\"\n              >\n                <IonSegmentButton id=\"completedLessons\" mode=\"md\" value=\"lesson\">\n                  <IonLabel>Lesson</IonLabel>\n                </IonSegmentButton>\n                <IonSegmentButton id=\"phrases\" mode=\"md\" value=\"phrasesAndVocab\">\n                  <IonLabel>{'Phrase & Vocab'}</IonLabel>\n                </IonSegmentButton>\n              </IonSegment>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n              className=\"ion-align-self-center ion-padding-top\"\n            >\n              {segment === 'lesson' ? <Lesson /> : <PhraseAndVocab />}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default ReviewTab\n\nfunction useReviewHelpGuide() {\n  return useHelpGuide('isReviewHelpModeDone', [\n    {\n      element: '#completedLessons',\n      popover: {\n        title: 'Review past lessons',\n        description:\n          \"Past lessons you've completed. You can re-study them as much as you like\",\n        position: 'bottom',\n      },\n    },\n    {\n      element: '#phrases',\n      popover: {\n        title: 'Review saves words',\n        description: 'Save words and expressions while you study lessons.',\n        position: 'bottom',\n      },\n    },\n  ])\n}\n\nfunction getThumnailUrl(youtubeId) {\n  return `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n}\n\nfunction UserNote({userNote, onDismiss}) {\n  const speak = useSpeak()\n  function handleSpeak() {\n    speak(userNote.word)\n  }\n  return (\n    <IonRow className=\"usernote-content\">\n      <IonCol>\n        <div className=\"modal-header\">\n          <div className=\"title ion-no-margin c-red\">\n            <img\n              onClick={handleSpeak}\n              className=\"play play-icon\"\n              src=\"/assets/images/icon_play.svg\"\n              alt=\"speak word\"\n            />\n          </div>\n          <div className=\"title-word  c-red\">{userNote?.word}</div>\n          <IonIcon\n            mode=\"md\"\n            icon={close}\n            className=\"modal-dismiss pointer\"\n            onClick={onDismiss}\n          ></IonIcon>\n        </div>\n\n        <IonRow className=\"modal-body ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            {userNote?.meaning ? (\n              <>\n                <p>\n                  <strong className=\"c-orange\">English: </strong> {userNote?.meaning}\n                </p>\n                <p>{userNote?.kor}</p>\n              </>\n            ) : (\n              <>\n                {userNote?.kor && (\n                  <p>\n                    <b className=\"c-orange\">(Korean):</b> {userNote?.kor}\n                  </p>\n                )}\n                {userNote?.noun && (\n                  <p>\n                    <b className=\"c-orange\">(Noun):</b> {userNote?.noun}\n                  </p>\n                )}\n                {userNote?.verb && (\n                  <p>\n                    <b className=\"c-orange\">(Verb):</b> {userNote?.verb}\n                  </p>\n                )}\n                {userNote?.adv && (\n                  <p>\n                    <b className=\"c-orange\">(Adverb):</b> {userNote?.adv}\n                  </p>\n                )}\n                {userNote?.adj && (\n                  <p>\n                    <b className=\"c-orange\">(Adjective):</b> {userNote?.adj}\n                  </p>\n                )}\n              </>\n            )}\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\nconst formatDate = format('MMM d, y')\n\nconst PAGE_SIZE = 20\n\n// const GET_COMPLETED_LESSONS = gql`\n//   query completedLessons($page: Int) {\n//     completedLessons(page: $page, limit: 20) {\n//       _id\n//       courseId\n//       lessonName\n//       completedAt\n//       course {\n//         _id\n//         videoLevel\n//         thumbnail\n//         topic {\n//           title\n//         }\n//       }\n//     }\n//   }\n// `\n\nfunction Lesson() {\n  const {loading, error, data, fetchMore , refetch} = useGerReviewCompletedLessonsQuery({\n    variables: {size: PAGE_SIZE},\n  })\nuseIonViewWillEnter(()=>{\n  refetch()\n})\n  \n  \n  const router = useIonRouter()\n  \n  if (loading) {\n    return (\n      <div className=\"ion-text-center ion-padding-top\">\n        <IonSpinner name=\"dots\" />\n      </div>\n    )\n  }\n  if (error) {\n    return <div>Error...</div>\n  }\n\n  function handleInfinite(e) {\n    \n\n    fetchMore({\n      variables: {\n        cursor: data.moreCompletedLessons.cursor,\n      },\n      \n    })\n\n    e.target.complete()\n  }\n  const completedLessons = data.moreCompletedLessons.nodes || []\n\n  return (\n    <>\n     \n      <IonList className=\"completed-lessons\">\n        {completedLessons.map((lesson, i) => (\n          <IonItem\n            key={lesson._id}\n            button\n            onClick={() => {\n              \n              router.push(`/lesson-details/${lesson._id}/true/false`, 'forward')\n            }}\n            className=\"ion-align-self-center\"\n            detail={false}\n            lines=\"none\"\n          >\n            <IonNote className=\"review-num ion-align-self-center ion-text-center\">\n              <strong>{i + 1}</strong>\n            </IonNote>\n            <IonThumbnail>\n              <img src={getThumnailUrl(lesson.youtubeId)} alt={lesson.lessonName} />\n            </IonThumbnail>\n            <IonLabel className=\"ion-align-self-center\">\n              <div className=\"lesson-level\">\n                {lesson.videoLevelLabel} - {lesson.videoType}\n              </div>\n              <div className=\"lesson-name\"> {lesson.lessonName} </div>\n              <div className=\"lesson-completed-date\">\n                Studied on {formatDate(new Date(lesson.completedAt))}\n              </div>\n            </IonLabel>\n            \n          </IonItem>\n        ))}\n      </IonList>\n\n      {completedLessons.length === 0 && (\n        <IonRow className=\"ion-padding-top\">\n          <IonCol className=\"ion-text-center ion-padding-top\">\n            <h5 className=\"ion-padding-top\">\n              <strong>You haven’t completed any lessons yet.</strong>\n            </h5>\n          </IonCol>\n        </IonRow>\n      )}\n      <IonInfiniteScroll\n        disabled={!data.moreCompletedLessons.hasMore}\n        onIonInfinite={handleInfinite}\n        threshold=\"200px\"\n      >\n        <IonInfiniteScrollContent>\n          <IonSpinner />\n        </IonInfiniteScrollContent>\n      </IonInfiniteScroll>\n      {/* </IonCol>\n    </IonRow> */}\n    </>\n  )\n}\n\nfunction PhraseAndVocab() {\n  const speak = useSpeak()\n  const [presentToast] = useIonToast()\n  const [userNote, setUserNote] = React.useState<any>()\n  const [deleteNote] = useDeleteNoteMutation({\n    onCompleted: (data) => {\n      presentToast('Delete successfully.', 2000)\n    },\n    onError: (err) => {\n      presentToast('Oops! Something went wrong. Please try again.', 2000)\n    },\n    update(cache, {data}) {\n      if (data.deleteNote) {\n        const idToRemove = data.deleteNote\n        cache.modify({\n          fields: {\n            moreNotes(existing, {readField}) {\n              const nodes = omit(existing.nodes, idToRemove)\n              // console.log({existing})\n              return {...existing, nodes}\n            },\n          },\n        })\n      }\n    },\n  })\n\n  const [deleteUserNote, setDeleteUserNote] = React.useState<any>()\n  const {loading, error, data, fetchMore} = useMoreNotesQuery({\n    variables: {size: PAGE_SIZE},\n    fetchPolicy: 'cache-and-network',\n    nextFetchPolicy: 'cache-first',\n  })\n\n  if (loading) {\n    return (\n      <div className=\"ion-text-center ion-padding-top\">\n        <IonSpinner name=\"dots\" />\n      </div>\n    )\n  }\n  if (error) {\n    return <div>Error...</div>\n  }\n\n  function handleInfinite(e) {\n    fetchMore({\n      variables: {\n        cursor: data.moreNotes.cursor,\n      },\n    }).finally(() => {\n      e.target.complete && e.target.complete()\n    })\n  }\n\n  const userNotes = data.moreNotes.nodes\n\n  return (\n    <div style={{position: 'relative'}} className=\"phrase-n-vocab\">\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol\n          className=\"ion-align-self-center\"\n          size-xs=\"12\"\n          size-sm=\"12\"\n          size-md=\"10\"\n          size-lg=\"9\"\n          size-xl=\"9\"\n        >\n          {userNotes.map((userNote) => (\n            <IonRow\n              key={userNote._id}\n              className=\"hover-pointer  ripple-parent ion-align-items-center ion-justify-content-center completed-lessons border-bottom\"\n              // onClick={() => setUserNote(userNote)}\n            >\n              <IonCol\n                size-xs=\"9\"\n                size-sm=\"9\"\n                size-md=\"9\"\n                size-lg=\"9\"\n                size-xl=\"9\"\n                className=\"ion-align-self-center \"\n                onClick={() => setUserNote(userNote)}\n              >\n                <div className=\"usernote-word\">{userNote.word}</div>\n              </IonCol>\n              <IonCol size=\"3\" className=\"ion-align-self-center ion-no-padding\">\n                <IonRow className=\"ion-align-items-center\">\n                  <IonCol\n                    size=\"6\"\n                    className=\"ion-align-self-center\"\n                    onClick={() => speak(userNote.word)}\n                  >\n                    <img\n                      className=\"play-icon\"\n                      src=\"/assets/images/icon_play.svg\"\n                      alt=\"speak word\"\n                    />\n                  </IonCol>\n                  <IonCol size=\"6\" className=\"ion-align-self-center\">\n                    <IonIcon\n                      onClick={() => setDeleteUserNote(userNote)}\n                      icon={close}\n                      color=\"medium\"\n                      mode=\"md\"\n                    ></IonIcon>\n                  </IonCol>\n                </IonRow>\n              </IonCol>\n              <IonRippleEffect />\n            </IonRow>\n          ))}\n          {loading ? (\n            <IonRow>\n              <IonCol>\n                <IonSpinner />\n              </IonCol>\n            </IonRow>\n          ) : (\n            userNotes.length === 0 && (\n              <IonRow className=\"ion-padding-top\">\n                <IonCol className=\"ion-text-center ion-padding-top\">\n                  <h5 className=\"ion-padding-top\">\n                    <strong>You haven’t saved any words yet.</strong>\n                  </h5>\n                </IonCol>\n              </IonRow>\n            )\n          )}\n\n          <IonInfiniteScroll\n            disabled={!data.moreNotes.hasMore}\n            onIonInfinite={handleInfinite}\n            threshold=\"100px\"\n          >\n            <IonInfiniteScrollContent loadingSpinner=\"circular\"></IonInfiniteScrollContent>\n          </IonInfiniteScroll>\n        </IonCol>\n        <IonModal\n          mode=\"ios\"\n          isOpen={!!userNote}\n          cssClass=\"userNoteModal\"\n          onDidDismiss={() => setUserNote(undefined)}\n        >\n          <UserNote userNote={userNote} onDismiss={() => setUserNote(undefined)} />\n        </IonModal>\n        <IonAlert\n          isOpen={!!deleteUserNote}\n          onDidDismiss={() => setDeleteUserNote(undefined)}\n          // cssClass='my-custom-class'\n          // header={'Alert'}\n          // subHeader={'Subtitle'}\n          message={'Are you sure you want to delete this?'}\n          buttons={[\n            {\n              text: 'No',\n              role: 'cancel',\n              cssClass: 'secondary',\n              handler: (blah) => {\n                console.log('Confirm Cancel: blah')\n              },\n            },\n            {\n              text: 'Yes',\n              handler: () => {\n                deleteNote({variables: {id: deleteUserNote._id}})\n                  .then((data) => {})\n                  .catch((err) => {\n                    console.log(err)\n                  })\n              },\n            },\n          ]}\n        />\n      </IonRow>\n    </div>\n  )\n}\n","import {\n  IonButton,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonImg,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonModal,\n  IonRow,\n  IonSkeletonText,\n  IonText,\n  IonThumbnail,\n  isPlatform,\n  useIonRouter,\n  useIonActionSheet,\n  useIonViewWillEnter,\n} from '@ionic/react'\nimport Driver from 'driver.js'\nimport 'driver.js/dist/driver.min.css'\nimport React, {useEffect, useState} from 'react'\nimport {\n  useGerReviewCompletedLessonsQuery,\n  DashboardLessonFieldsFragment,\n  useGetDashboardDraftLessonsQuery,\n  useGetDashboardQuery,\n  useGetProfileQuery,\n} from '../../schema/types-and-hooks'\nimport {fetchApi, fetchSuggestedCurriculum} from '../../fetchApis'\nimport * as ReactQuery from 'react-query'\n\nimport {storageHelper} from '../../utils/storageHelper'\n//   import {useStore} from 'src/reactapp/useStore'\nimport './LessonsHome.scss'\n\nconst StoreHelper = storageHelper\n\nfunction getThumnailUrl(youtubeId) {\n  return `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n}\nfunction fixVideoLevel(videoLevel) {\n  return videoLevel === 'Elementary' ? 'Upper-beginner' : videoLevel\n}\n\nconst weekdays = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n]\n\nconst Section: React.FC = ({children}) => {\n  return (\n    <IonRow className=\"ion-justify-content-center ion-padding-start ion-padding-end ion-padding-top ion-padding-bottom\">\n      <IonCol\n        sizeXs=\"12\"\n        sizeSm=\"12\"\n        sizeMd=\"10\"\n        sizeLg=\"9\"\n        sizeXl=\"8\"\n        className=\"ion-align-self-center\"\n      >\n        {children}\n      </IonCol>\n    </IonRow>\n  )\n}\n\nfunction TodayLessonView({onClick, thumbnail, lessonName, videoLevel, videoType}) {\n  return (\n    <IonRow\n      className=\"pointer today-lesson lesson pt-0 ion-justify-content-center\"\n      onClick={onClick}\n    >\n      <IonCol\n        className=\"ion-align-self-center\"\n        sizeXs=\"6\"\n        sizeSm=\"6\"\n        sizeMd=\"4\"\n        sizeLg=\"4\"\n        sizeXl=\"3\"\n      >\n        <IonThumbnail>\n          <IonImg src={thumbnail} style={{width: '100%'}}></IonImg>\n        </IonThumbnail>\n      </IonCol>\n      <IonCol\n        sizeXs=\"6\"\n        sizeSm=\"6\"\n        sizeMd=\"8\"\n        sizeLg=\"8\"\n        sizeXl=\"9\"\n      >\n        <h5 className=\"video-title mt-0 \">{lessonName}</h5>\n\n        <IonText color=\"medium\">\n          {videoLevel && <h6 className=\"video-category-label\">{videoLevel}</h6>}\n          {videoType && <h6 className=\"video-category-label\">{videoType}</h6>}\n        </IonText>\n      </IonCol>\n    </IonRow>\n  )\n}\n\nconst TodayLesson: React.FC<{\n  loading: boolean\n  todaysLesson: Partial<DashboardLessonFieldsFragment>\n}> = ({loading, todaysLesson}) => {\n  const router = useIonRouter()\n\n  if (loading) {\n    return (\n      <TodayLessonView\n        thumbnail=\"../../../assets/images/thumbnail-youtube.jpg\"\n        lessonName={\n          <>\n            <IonSkeletonText\n              animated\n              style={{width: '100%', height: 19}}\n            ></IonSkeletonText>\n          </>\n        }\n        videoLevel={<IonSkeletonText animated style={{width: '50%'}}></IonSkeletonText>}\n        videoType={<IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>}\n        onClick={() => {}}\n      />\n    )\n  }\n\n  return todaysLesson ? (\n    <TodayLessonView\n      thumbnail={getThumnailUrl(todaysLesson.youtubeId)}\n      lessonName={todaysLesson.lessonName}\n      videoLevel={todaysLesson.videoLevelLabel}\n      videoType={todaysLesson.videoType}\n      onClick={() => {\n        //   navCtrl.navigateForward(['/lesson-details', todaysLesson._id, false, false])\n        router.push(`/lesson-details/${todaysLesson._id}`)\n      }}\n    />\n  ) : (\n    <TodayLessonView\n      thumbnail=\"../../../assets/images/movie.svg\"\n      lessonName={\n        <>\n          <strong>Good job!</strong> You've studied all the lessons prepared in 'Business\n          English'. Feel free to explore other lessons.\n        </>\n      }\n      videoLevel={null}\n      videoType={null}\n      onClick={() => {}}\n    />\n  )\n}\n\nfunction MyCourseItem({thumbnail, title, desc, onClick = null}) {\n  return (\n    <IonItem\n      lines=\"none\"\n      mode=\"md\"\n      onClick={(e) => {\n        e.preventDefault()\n        onClick && onClick(e)\n      }}\n      // className=\"pointer\"\n      routerLink={`link`} // for hover effect\n    >\n      <IonThumbnail slot=\"start\">\n        <IonImg src={thumbnail}></IonImg>\n      </IonThumbnail>\n      <IonLabel>\n        <h2 className=\"ion-text-wrap\">{title}</h2>\n        <IonText color=\"medium\">{desc}</IonText>\n      </IonLabel>\n    </IonItem>\n  )\n}\nfunction MyCourseLoadingItem() {\n  return (\n    <MyCourseItem\n      title={\n        <>\n          <IonSkeletonText animated style={{width: '80%'}}></IonSkeletonText>\n        </>\n      }\n      thumbnail=\"../../../../assets/images/thumbnail-youtube.jpg\"\n      desc={\n        <>\n          <p>\n            <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n          </p>\n          <p>\n            <IonSkeletonText animated style={{width: '30%'}}></IonSkeletonText>\n          </p>\n        </>\n      }\n    />\n  )\n}\n\nfunction MyCourses({loading, myCourses = []}) {\n  const router = useIonRouter()\n\n  if (loading) {\n    return (\n      <IonList mode=\"md\" className=\"ion-no-padding\">\n        <MyCourseLoadingItem />\n        <MyCourseLoadingItem />\n        <MyCourseLoadingItem />\n      </IonList>\n    )\n  }\n  if (myCourses.length === 0) {\n    return null\n  }\n\n\n  return (\n    <>\n      <IonList\n        mode=\"md\"\n        className=\"ion-no-padding\"\n        // list=\"none\"\n      >\n        {myCourses.slice(0, 3).map((myCourse) => (\n          <MyCourseItem\n            key={myCourse._id}\n            onClick={() => {\n              // navCtrl.navigateForward(['/course-details', myCourse._id, 'myCourse'])\n              router.push(`/course-details/${myCourse._id}`)\n            }}\n            title={myCourse.title || myCourse.introduction}\n            thumbnail={getThumnailUrl(myCourse.youtubeId)}\n            desc={\n              <>\n                <p>\n                  {/* <IonText>\n                    {myCourse?.lessonCount === 1\n                      ? 'Single -'\n                      : `${myCourse?.lessonCount} episodes - `}\n                  </IonText> */}\n                  {myCourse.videoLevel}\n                </p>\n                <p>{myCourse.topicDetails.title}</p>\n              </>\n            }\n          />\n        ))}\n      </IonList>\n    </>\n  )\n}\n\nfunction HorizontalLessonLoadingItem() {\n  return (\n    <IonItem className=\"pointer horizontal-lesson ion-activatable\">\n      <IonThumbnail>\n        <IonImg\n          style={{width: '100%'}}\n          src=\"../../../assets/images/thumbnail-youtube.jpg\"\n        ></IonImg>\n      </IonThumbnail>\n      <h5 className=\" mt-0\">\n        <IonSkeletonText animated style={{width: '90%'}}></IonSkeletonText>\n        <IonSkeletonText animated style={{width: '30%'}}></IonSkeletonText>\n      </h5>\n      <IonText color=\"medium\">\n        <h6 className=\"video-category-label\">\n          <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n        </h6>\n        <h6 className=\"video-category-label\">\n          <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n        </h6>\n      </IonText>\n      {/* <IonRippleEffect></IonRippleEffect> */}\n    </IonItem>\n  )\n}\n\nfunction ShareNow() {\n  const router = useIonRouter()\n  return (\n    <>\n      <IonRow className=\"ion-justify-content-center ion-align-items-center\">\n      <IonCol \n      onClick={() => {\n              router.push('/share-app', 'forward')\n            }} \n      className=\"ion-align-item-center \n      ion-no-padding ion-align-self-center\n      ion-justify-content-center\"\n      sizeXs=\"12\"\n      sizeSm=\"12\"\n      sizeMd=\"10\"\n      sizeLg=\"9\"\n      sizeXl=\"8\"\n      >\n      <img src=\"../../../assets/images/share_app-h.png\" alt=\"subscribe\" />\n      </IonCol>\n        {/* <IonCol className=\"ion-align-item-center trial-package-text ion-justify-content-center\">\n          <h1 className=\"ion-text-center ion-padding-bottom ion-no-margin\">\n            Learn English together\n          </h1>\n          <p className=\"ion-text-center ion-padding-bottom ion-no-margin\">\n            Share with your friends\n          </p>\n          <IonButton\n          size=\"small\"\n          expand=\"full\"\n          shape=\"round\"\n            style={{fontWeight: 800}}\n            onClick={() => {\n              router.push('/share-app', 'forward')\n            }}\n          >\n            SHARE WITH FRIENDS\n          </IonButton>\n        </IonCol >\n        <IonCol className=\"ion-align-self-center\">\n          <img src=\"../../../assets/images/share_app_home.png\" alt=\"subscribe\" />\n        </IonCol> */}\n      </IonRow>\n    </>\n  )\n}\n\nfunction SubscribeNow() {\n  const router = useIonRouter()\n  const [trialLessonsLeft, setTrialLessonsLeft] = useState(0)\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  async function leftLesson() {\n    const res = await fetchApi(`/lesson/my-course`)\n    if (res) {\n      setTrialLessonsLeft(profile.trialLessonLimit - res.data.length)\n    }\n  }\n\n  if (profile) {\n    leftLesson()\n  }\n  if (profile?.currentPackage === 'Subscription') {\n    return null\n  }\n\n  return (\n    <>\n      <IonRow className=\"ion-justify-content-center ion-align-items-center\">\n      <IonCol\n\n          className=\"ion-align-item-center \n          ion-no-padding ion-align-self-center\n          ion-justify-content-center\"\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeMd=\"10\"\n          sizeLg=\"9\"\n          sizeXl=\"8\"\n       onClick={() => {\n        router.push('/subscriptionplans', 'forward')\n      }}\n     >\n      <img src=\"../../../assets/images/subscribe_app_h.png\" alt=\"subscribe Now\" />\n      </IonCol>\n        {/* <IonCol className=\"ion-align-item-center trial-package-text ion-justify-content-center\">\n          <h1 className=\"ion-text-center ion-padding-bottom ion-no-margin\">\n          {trialLessonsLeft} free {trialLessonsLeft > 1 ? 'lessons are' : 'lesson is'} left!\n          </h1>\n          <p className=\"ion-text-center ion-padding-bottom ion-no-margin\">\n            Subscribe to unlock more lesson\n          </p>\n          <IonButton\n            size=\"small\"\n            expand=\"full\"\n            shape=\"round\"\n            style={{fontWeight: 800}}\n            onClick={() => {\n              router.push('/subscriptionplans', 'forward')\n            }}\n          >\n            SUBSCRIBE NOW\n          </IonButton>\n        </IonCol>\n        <IonCol className=\"ion-align-self-center\">\n          <img src=\"../../../assets/images/subscribe_home.png\" alt=\"subscribe\" />\n        </IonCol> */}\n      </IonRow>\n    </>\n  )\n}\n\nfunction HorizontalLessonList({loading, lessons, isDraft = false}) {\n  const router = useIonRouter()\n\n  if (loading) {\n    return (\n      <ul>\n        <HorizontalLessonLoadingItem />\n        <HorizontalLessonLoadingItem />\n        <HorizontalLessonLoadingItem />\n      </ul>\n    )\n  }\n  return (\n    <>\n      <ul>\n        {lessons.map((lesson) => (\n          <li\n            key={lesson._id}\n            className=\"pointer horizontal-lesson ion-activatable\"\n            onClick={() =>\n              router.push(`/lesson-details/${lesson._id}/false/${isDraft}`, 'forward')\n            }\n          >\n            <IonThumbnail>\n              <IonImg\n                style={{width: '100%'}}\n                src={getThumnailUrl(lesson.youtubeId)}\n              ></IonImg>\n            </IonThumbnail>\n            <h5 className=\"video-title mt-0\">{lesson.lessonName}</h5>\n            <IonText color=\"medium\">\n              <h6 className=\"video-category-label\">\n                {fixVideoLevel(lesson.videoLevelLabel)}\n              </h6>\n              <h6 className=\"video-category-label\">{lesson.videoType}</h6>\n            </IonText>\n          </li>\n        ))}\n      </ul>\n    </>\n  )\n}\n\nconst DraftLessonsSection: React.FC = () => {\n  const router = useIonRouter()\n  const {data, loading, error} = useGetDashboardDraftLessonsQuery({\n    fetchPolicy: 'network-only',\n    // pollInterval: 2000,\n  })\n\n  return (\n    <Section>\n      <IonRow className=\"ion-padding-bottom\">\n        <IonCol>\n          <h3 className=\"mt-0 font-weight-400\">\n            <strong>Draft Lessons</strong>\n          </h3>\n        </IonCol>\n        <IonCol>\n          <IonText\n            color=\"danger\"\n            className=\"ion-float-right pointer\"\n            onClick={() => {\n              router.push('/draft-lessons', 'forward')\n            }}\n          >\n            See All\n          </IonText>\n        </IonCol>\n      </IonRow>\n      <HorizontalLessonList\n        loading={loading}\n        lessons={data?.draftLessons?.data}\n        isDraft\n      />\n    </Section>\n  )\n}\n\ntype Props = {\n  ts: number\n}\n\nasync function fetchMyCourses() {\n  const res = await fetchApi(`/lesson/my-course`)\n\n  const getCompletedLessonsByUsers = await fetchApi(`/lesson/completedLessons`)\n\n  const result = res.data.filter((data) => {\n    if (\n      data.subLessons.some(\n        (c) =>\n          !getCompletedLessonsByUsers.data.some((i) => i.lessonId.includes(c.lessonId)),\n      )\n    ) {\n      return data\n    }\n  })\n  return result\n}\n\nconst LessonsHome: React.FC = () => {\n  const query = ReactQuery.useQuery('my-cources', fetchMyCourses,{\n    // Refetch the data every second\n    refetchInterval: 20,\n  })\n  \n\n useEffect(() => {\n\n },[query.data])\n  \n  const today = weekdays[new Date().getDay()]\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const dashboardRes = useGetDashboardQuery({\n    variables: {\n      day: today === 'Saturday' || today === 'Sunday' ? 'Weekend' : today,\n      videoLevel: profile.userLevelName,\n    },\n    fetchPolicy: 'cache-and-network',\n  })\n  \n  const PAGE_SIZE = 20\n  const result = useGerReviewCompletedLessonsQuery({\n    variables: {size: PAGE_SIZE},\n  })\n  const {data, loading, error, refetch} = dashboardRes\n  \n  useIonViewWillEnter(() =>{\n    fetchMyCourses()\n  })\n\n  let onBoarding\n  const [showModal, setShowModal] = useState(false)\n  const router = useIonRouter()\n  const [present, dismiss] = useIonActionSheet()\n\n  const sharedService = StoreHelper\n  const isLoading = !data && loading\n\n  React.useEffect(() => {\n    // console.log('useEffect')\n  }, [today])\n\n\n  const showQuickActions = async (details) => {\n    present({\n      buttons: [\n        {\n          text: 'Resume where I left off',\n          handler: () => {\n            router.push(`/lesson-steps/${details.lessonID}/false`)\n          },\n        },\n        {\n          text: \"Begin today's recommended lesson\",\n          handler: () => {\n            router.push(`/lesson-details/${data?.todayLesson._id}`, 'forward')\n          },\n        },\n        {\n          text: 'Explore other lessons',\n          handler: () => {\n            router.push('/dashboard/library')\n          },\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        },\n      ],\n    })\n  }\n\n  async function handleHelpGuide() {\n    const helpLog = await sharedService.getNativeStorage('isTodayLessonHelpModeDone')\n    onBoarding = await sharedService.getNativeStorage('isOnBoarding')\n\n    if (onBoarding?.data) {\n      setShowModal(true)\n    } else {\n      if (helpLog?.data) {\n        return\n      }\n\n      const steps = [\n        {\n          element: '#today-lesson',\n          popover: {\n            title: 'Recommendation',\n            description:\n              'We recommend a new lesson each day based on your level and from different categories.',\n            position: 'bottom',\n          },\n        },\n      ]\n\n      if (document.getElementById('my-course')) {\n        steps.push({\n          element: '#my-course',\n          popover: {\n            title: 'My Course',\n            description: \"Lessons you've started but not completed yet.\",\n            position: 'top',\n          },\n        })\n      }\n\n      showHelpGuide({\n        steps,\n        onClose: () => {\n          sharedService.setNativeStorage('isTodayLessonHelpModeDone', true)\n        },\n      })\n    }\n  }\n\n  React.useEffect(() => {\n    if (!loading) {\n      sharedService\n        .getNativeStorage('leftOfData')\n        .then((leftOfData) => {\n          if (leftOfData?.data) {\n            showQuickActions(leftOfData.data)\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n      handleHelpGuide()\n    }\n  }, [loading])\n\n  React.useEffect(() => {\n    if (!loading) {\n      handleHelpGuide()\n    }\n  }, [showModal])\n  React.useEffect(() => {\n    refetch()\n  }, [profile])\n \n\n  return (\n    <>\n      <IonModal isOpen={showModal} cssClass=\"my-custom\">\n        <IonContent className=\"modal\">\n          <IonGrid>\n            <IonRow className=\"ion-align-items-center ion-justify-content-end\">\n              <span>\n                <IonIcon\n                  style={{\n                    cursor: 'pointer',\n                    float: 'right',\n                    padding: '10px',\n                    color: 'white',\n                  }}\n                  size=\"large\"\n                  slot=\"icon-only\"\n                  name=\"close\"\n                  onClick={() => {\n                    setShowModal(false)\n                    storageHelper.setNativeStorage('isOnBoarding', false)\n                  }}\n                ></IonIcon>\n              </span>\n            </IonRow>\n\n            <IonRow className=\"content ion-align-items-center ion-justify-content\">\n              <IonCol\n                sizeMd=\"6\"\n                sizeXs=\"12\"\n                className=\"ion-justify-content-center ion-align-content-center\"\n              >\n                <div className=\"image-content\">\n                  <img src=\"./assets/images/Character.svg\" alt=\"charachter\" />\n                </div>\n              </IonCol>\n              <IonCol\n                sizeMd=\"5\"\n                sizeXs=\"11\"\n                className=\"ion-justify-content-center ion-align-content-center\"\n              >\n                <h2>You’ve just received 5 free lessons! </h2>\n                <p>\n                  We sent you a verification email. Please check your email so we know\n                  you’re a human.{' '}\n                </p>\n              </IonCol>\n            </IonRow>\n          </IonGrid>\n        </IonContent>\n      </IonModal>\n\n      <IonGrid className=\"lessons-page ion-no-padding ion-margin-top\">\n        {isPlatform('mobile') && (\n          <IonRow className=\"ion-justify-content-center\">\n            <IonCol\n            style={{ display: 'flex', alignItems: 'center', paddingTop:\"8%\"}}\n              className=\"ion-padding-top ion-padding-right ion-padding-left\"\n            >\n              <img\n                src=\"/assets/images/logo.png\"\n                width=\"12%\"\n                alt=\"logo\"\n                className=\"logo\"\n              />\n              <h3 style={{  fontWeight: \"bolder\"}}>Hi {profile?.fullName}!</h3>\n            </IonCol>\n          </IonRow>\n        )}\n\n        <Section>\n          {isPlatform('desktop') && <div className=\"ion-margin-top\"></div>}\n          <div \n          style={{backgroundColor : \"#EFEFFF\", padding:\"2%\", borderRadius: '12px'}}\n          >\n          <h2 id=\"today-lesson\" className=\"ion-no-margin todaysLessonsHeading\">\n            <strong>Study Today's Lesson For You</strong>\n          </h2>\n          <p className=\"c-medium m-5 ion-padding-bottom\">\n            <strong>Recommendation</strong>\n          </p>\n          <TodayLesson loading={isLoading} todaysLesson={data?.todayLesson} />\n          </div>\n        </Section>\n        {/* <hr /> */}\n        {query.data && query.data.length > 0 ? (\n          <>\n            {/* <hr /> */}\n            <Section>\n              <IonRow>\n                <IonCol size=\"auto\">\n                  <h3 id=\"my-course\" className=\"mt-0 font-weight-400\">\n                    <strong>My Unfinished Courses</strong>\n                  </h3>\n                </IonCol>\n                <IonCol>\n                  <IonText\n                    color=\"danger\"\n                    className=\"ion-float-right pointer\"\n                    style={{cursor: 'pointer'}}\n                    onClick={() => {\n                      router.push('/my-courses', 'forward')\n                    }}\n                  >\n                    See All\n                  </IonText>\n                </IonCol>\n              </IonRow>\n              <MyCourses loading={isLoading} myCourses={query.data} />\n            </Section>\n            {/* <hr /> */}\n          </>\n        ) : (\n          ''\n        )}\n        {data?.savedLessons?.data?.length > 0 ? (\n          <>\n            <Section>\n              <IonRow>\n                <IonCol>\n                  <h3 className=\"mt-0 font-weight-400\">\n                    <strong>Saved For Later</strong>\n                  </h3>\n                </IonCol>\n                <IonCol>\n                  <IonText\n                    color=\"danger\"\n                    className=\"ion-float-right pointer\"\n                    style={{cursor: 'pointer'}}\n                    onClick={() => {\n                      router.push('/saved-lessons', 'forward')\n                    }}\n                  >\n                    See All\n                  </IonText>\n                </IonCol>\n              </IonRow>\n              <HorizontalLessonList\n                loading={isLoading}\n                lessons={data?.savedLessons?.data}\n              />\n            </Section>\n            {/* <hr /> */}\n          </>\n        ) : (\n          ''\n        )}\n        {/* <hr /> */}\n        <Section>\n          <IonRow className=\"ion-padding-bottom\">\n            <IonCol size=\"auto\">\n              <h3 className=\"mt-0 font-weight-400\">\n                <strong>Popular Lessons</strong>\n              </h3>\n            </IonCol>\n            <IonCol>\n              <IonText\n                color=\"danger\"\n                className=\"ion-float-right pointer\"\n                style={{cursor: 'pointer'}}\n                onClick={() => {\n                  router.push('/popular', 'forward')\n                }}\n              >\n                See All\n              </IonText>\n            </IonCol>\n          </IonRow>\n          <HorizontalLessonList\n            loading={isLoading}\n            lessons={data?.popularLessons?.data}\n          />\n        </Section>\n        {/* <hr /> */}\n        <Section>\n          <IonRow className=\"ion-padding-bottom\">\n            <IonCol>\n              <h3 className=\"mt-0 font-weight-400\">\n                <strong>New Uploads</strong>\n              </h3>\n            </IonCol>\n            <IonCol>\n              <IonText\n                color=\"danger\"\n                className=\"ion-float-right pointer\"\n                style={{cursor: 'pointer'}}\n                onClick={() => {\n                  router.push('/new-uploads', 'forward')\n                }}\n              >\n                See All\n              </IonText>\n            </IonCol>\n          </IonRow>\n          <HorizontalLessonList\n            loading={isLoading}\n            lessons={data?.newUploadLessons?.data}\n          />\n        </Section>\n        {/* <hr /> */}\n        {profile.isAdmin && <DraftLessonsSection />}\n        {profile.currentPackage === 'Trial' ?\n        <SubscribeNow /> :\n        <ShareNow />\n      }\n        \n      </IonGrid>\n    </>\n  )\n}\n\nexport default LessonsHome\n\nfunction showHelpGuide({steps, onClose}) {\n  setTimeout(() => {\n    const driver = new Driver({\n      // animate: false, // Whether to animate or not\n      // opacity: 0,\n      allowClose: false, // Whether the click on overlay should close or not\n      overlayClickNext: true, // Whether the click on overlay should move next\n      doneBtnText: 'Done', // Text on the final button\n      closeBtnText: 'Skip', // Text on the close button for this step\n      // stageBackground: '#ffffff', // Background color for the staged behind highlighted element\n      nextBtnText: 'Next', // Next button text for this step\n      prevBtnText: 'Previous', // Previous button text for this step\n      keyboardControl: false, // Allow controlling through keyboard (escape to close, arrow keys to move)\n      // onNext: (Element) => {},\n      onHighlightStarted: (Element) => {\n        const node = Element.getNode() as HTMLElement\n        node.scrollIntoView(false)\n      },\n      onDeselected: (Element) => {\n        if (!driver.isActivated) {\n          onClose()\n        }\n      },\n    })\n\n    driver.defineSteps(steps)\n\n    driver.start()\n  }, 1000)\n}\n","import {IonContent, IonPage} from '@ionic/react'\nimport LessonsHome from './LessonsHome';\n// import {storageHelper} from '../../utils/storageHelper'\n\n\n\nconst LessonsTab: React.FC = () => {\n\n  return (\n    <IonPage>\n      <IonContent fullscreen>\n\n        <LessonsHome />\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default LessonsTab\n","class ChannelService {\n  constructor() {\n    this.loadScript();\n  }\n\n  loadScript() {\n    var w = window;\n    if (w.ChannelIO) {\n      return (window.console.error || window.console.log || function(){})('ChannelIO script included twice.');\n    }\n    var ch = function() {\n      ch.c(arguments);\n    };\n    ch.q = [];\n    ch.c = function(args) {\n      ch.q.push(args);\n    };\n    w.ChannelIO = ch;\n    function l() {\n      if (w.ChannelIOInitialized) {\n        return;\n      }\n      w.ChannelIOInitialized = true;\n      var s = document.createElement('script');\n      s.type = 'text/javascript';\n      s.async = true;\n      s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';\n      s.charset = 'UTF-8';\n      var x = document.getElementsByTagName('script')[0];\n      x.parentNode.insertBefore(s, x);\n    }\n    if (document.readyState === 'complete') {\n      l();\n    } else if (window.attachEvent) {\n      window.attachEvent('onload', l);\n    } else {\n      window.addEventListener('DOMContentLoaded', l, false);\n      window.addEventListener('load', l, false);\n    }\n  }\n\n  boot(settings) {\n    window.ChannelIO('boot', settings);\n  }\n\n  shutdown() {\n    window.ChannelIO('shutdown');\n  }\n  clearCallbacks() {\n    window.ChannelIO('clearCallbacks');\n}\n}\n\nexport default new ChannelService();","import {\n  IonIcon,\n  IonImg,\n  IonLabel,\n  IonRouterLink,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n  isPlatform,\n  useIonRouter,\n  useIonViewWillEnter,\n} from '@ionic/react'\nimport clsx from 'clsx'\nimport React from 'react'\nimport {Redirect, Route, useRouteMatch} from 'react-router'\nimport {useGetProfileQuery, useGetDashboardQuery} from '../schema/types-and-hooks'\nimport LibraryTab from './library/LibraryTab'\nimport ProfileTab from './profile/ProfileTab'\nimport ReviewTab from './review/ReviewTab'\nimport './Dashboard.scss'\nimport LessonsTab from './lessons/LessonTab';\nimport ChannelService from '../components/channel.js'\n\nconst weekdays = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n]\n\nfunction TabIcon({active, image}) {\n  return (\n    <IonIcon\n    src={`/assets/images/bottom-tab/${image}${active ? '-active' : ''}.svg`} />\n  )\n}\n\nconst Loading: React.FC = () => {\n  return <Redirect to=\"/dashboard/lessons\" />\n}\n\nconst Dashboard: React.FC = () => {\n  const {\n    data: {profile}, loading, refetch\n  } = useGetProfileQuery({fetchPolicy: 'cache-and-network'});\n  const today = weekdays[new Date().getDay()]\n  const dashboardRes = useGetDashboardQuery({\n    variables: {\n      day: today === 'Saturday' || today === 'Sunday' ? 'Weekend' : today,\n      videoLevel: profile.userLevelName,\n    },\n    fetchPolicy: 'cache-and-network',\n  })\n  const {data, error} = dashboardRes\n  const router = useIonRouter()\n  const isMobile = isPlatform('mobile')\n  const match = useRouteMatch<{tab: string}>({path: `/dashboard/:tab`, exact: true})\n  \n  const tab = match?.params.tab\n  const isDesktop = isPlatform('desktop')\n  \n  \n \n  React.useEffect(() => {\n    ChannelService.boot({\n      \"pluginKey\": \"8fbfb1cc-1a70-4f31-bf0c-05573008f269\", //please fill with your plugin key\n      \"channelButtonOption\": {\n        \"xMargin\": 16,\n        \"yMargin\": 16,\n        \"position\": 'right',  // 'left', 'right'\n      },\n      \"memberId\": `${profile?._id}`, //fill with user id\n      \"profile\": {\n        \"name\": `${profile?.fullName}`, //fill with user name\n        \"mobileNumber\": \"YOUR_USER_MOBILE_NUMBER\",\n        \"email\": `${profile?.email}`, \n      }\n    })\n  }, [])\n\n  React.useEffect(() => {\n    // console.log('useEffect')\n  }, [today])\n\n  useIonViewWillEnter(() => {\n    refetch()\n    // console.log(\"profile56\", profile)\n  },[profile])\n  \n\n  React.useEffect(() => {\n    // console.log(\"data loaded\")\n  }, [profile])\n\n \n \n  \n  return (\n    <>\n      {!isMobile && (\n        <div className=\"logo-desktop\">\n          <IonRouterLink routerLink=\"/dashboard/lessons\">\n            <IonImg src=\"/assets/images/speaky-peaky_logo.png\" />\n          </IonRouterLink>\n        </div>\n      )}\n      <IonTabs className={isMobile ? 'mobile-tab' : 'desktop-tab'}>\n        <IonTabBar slot={isMobile ? 'bottom' : 'top'} >\n          <IonTabButton tab=\"lessons\" href=\"/dashboard/lessons\">\n            <TabIcon active={tab === 'lessons'} image=\"lessons\" />\n            <IonLabel>Home</IonLabel>\n          </IonTabButton>\n\n          <IonTabButton tab=\"library\" href=\"/dashboard/library\">\n            <TabIcon active={tab === 'library'} image=\"search\" />\n            <IonLabel>Explore</IonLabel>\n          </IonTabButton>\n\n          <IonTabButton tab=\"review\" href=\"/dashboard/review\">\n            <TabIcon active={tab === 'review'} image=\"review\" />\n            <IonLabel>Review</IonLabel>\n          </IonTabButton>\n\n          <IonTabButton tab=\"profile\" href=\"/dashboard/profile\">\n            <TabIcon active={tab === 'profile'} image=\"profile\" />\n            <IonLabel id=\"user-name\">{profile.fullName || 'Profile'}</IonLabel>\n          </IonTabButton>\n        </IonTabBar>\n        <IonRouterOutlet>\n          <Route path=\"/dashboard/:tab(lessons)\" component={LessonsTab} exact={true} />\n          <Route path=\"/dashboard/:tab(library)\" component={LibraryTab} />\n          <Route path=\"/dashboard/:tab(review)\" component={ReviewTab} />\n          <Route path=\"/dashboard/:tab(profile)\" component={ProfileTab} />\n          <Route path=\"/dashboard/\" component={Loading} exact={true} />\n        </IonRouterOutlet>\n      </IonTabs>\n    </>\n  )\n}\n\nexport default Dashboard;\n","import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react'\n\nconst LessonIntro: React.FC = () => {\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Lesson Intro</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <div>\n          LessonIntro\n          <IonButton routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n            Back\n          </IonButton>\n          {/* <IonButton routerLink=\"/login\">Back</IonButton> */}\n        </div>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default LessonIntro\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  IonTitle,\n  useIonRouter,\nuseIonViewDidLeave,\nuseIonViewWillEnter,\nuseIonViewWillLeave\n} from '@ionic/react';\nimport './Account.scss';\nimport { fetchApi } from '../../../fetchApis';\n\nimport React, {useState} from 'react'\n// import {useGetProfileQuery} from '../../../schema/types-and-hooks'\n\nconst Account: React.FC = () => {\nconst router = useIonRouter()\nconst [user, setUser] = useState({\n    fullName: '',\n    email: '',\n    currentPackage: '',\n    subscriptionLabel: '',\n    subscriptionType: '',\n    promotionalLesson: '',\n    endDate: '',\n    startDate: '',\n})\n\n\n\n\nconst checkIsExpired = async (subscriptionType) => {\n  try {\n    const res = await fetchApi('/userSubscription/getUserSubscription', {\n      method: 'POST',\n      body: JSON.stringify({\n        subscriptionType\n      }),\n    })\n    // console.log(\"checkIsEx\", res.message)\n\n    return res.message === 'Your subscription has been canceled.'\n  } catch (error) {\n    console.log(error)\n  }\n  return false\n}\n\n\n\nconst userProfile = async () => {\n  const SUBSCRIPTION_LABELS = {\n    Subscription: 'Subscription',\n    SubscriptionExpired: 'Subscription Expired',\n    Trial: 'Free Trial',\n  }\n  try {\n  const {data: profile} = await fetchApi('/user/get-profile')\n  console.log(\"function account\", profile)\n  if (\n    profile.currentPackage === 'Subscription' &&\n    profile.subscriptionType &&\n    (await checkIsExpired(profile.subscriptionType))\n  ) {\n    profile.currentPackage = 'SubscriptionExpired'\n  }\n\n    setUser({\n    fullName: profile.fullName,\n    email: profile.email,\n    currentPackage: profile.currentPackage,\n    subscriptionLabel: SUBSCRIPTION_LABELS[profile.currentPackage],\n    subscriptionType: profile.subscriptionType,\n    promotionalLesson: profile.subscriptionLesson,\n    endDate: new Date(`${profile.userSubscriptionEndDate}`).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric' }),\n    startDate: new Date(`${profile.userSubscriptionStartDate}`).toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric' }),\n  })\n  \n\n\n} catch (error) {\n  console.log(error)\n}\n}\nconst subscription = () => {\n  if(user.currentPackage === 'Subscription') {\n    router.push('/subscription')\n  } else {\n    router.push('/subscriptionplans')\n\n  }\n}\n\nuseIonViewDidLeave(() => {\n  // console.log('ionViewDidLeave event fired');\n});\n\nuseIonViewWillLeave(() => {\n  // console.log('ionViewWillLeave event fired');\n});\n\nuseIonViewWillEnter(() => {\n  userProfile();\n});\n\n\n  return (\n    <IonPage>\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Account</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding account\">\n        <IonGrid>\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                <strong>Account</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <IonItem mode=\"ios\">\n                <IonLabel>\n                  User name\n                  <h2 className=\"ion-padding-top\">{ user.fullName }</h2>\n                </IonLabel>\n                <IonButton routerLink=\"/setting/edit-name\" routerDirection=\"forward\" slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                  Edit\n                </IonButton>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <IonItem mode=\"ios\">\n                <IonLabel>\n                  Email\n                  <h2 className=\"ion-padding-top\">{ user.email  }</h2>\n                </IonLabel>\n                <IonButton routerLink=\"/setting/edit-email\" slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                  Edit\n                </IonButton>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <IonItem mode=\"ios\">\n                <IonLabel>\n                  Update password\n                </IonLabel>\n                <IonButton routerLink=\"/setting/edit-password\" slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                  Manage\n                </IonButton>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <IonItem mode=\"ios\" >\n                <IonLabel>\n                  Subscription Status\n                  <h2 className=\"ion-padding-top\">{ user.subscriptionLabel  }</h2>\n                </IonLabel>\n                <IonButton\n                onClick={subscription}\n                 slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                  Manage\n                </IonButton>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n          {user?.subscriptionType === \"Promtion\" ?\n          <IonRow  class=\"ion-align-items-center ion-justify-content-center\">\n      <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeLg=\"6\" sizeXl=\"4\" class=\"ion-align-self-center\">\n        <IonItem mode=\"ios\">\n          <IonLabel\n            >Promotional Lessons\n            <h2 className=\"ion-padding-top\">{ user.promotionalLesson } ( {user.startDate} - { user.endDate } )</h2>\n            \n          </IonLabel>\n        </IonItem>\n      </IonCol>\n    </IonRow> : \" \" }\n\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Account;","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  useIonLoading,\n  IonInput,\n  useIonToast,\n} from '@ionic/react'\nimport './Edit.scss'\nimport { fetchApi} from '../../../../fetchApis'\n\nimport React, {useState} from 'react'\nimport {useGetProfileQuery} from '../../../../schema/types-and-hooks'\n\nconst EditName: React.FC = () => {\n  const router = useIonRouter();\n  const [present] = useIonToast();\n\n  const [pres, dismi] = useIonLoading();\n\n  const [inputs, setInputs] = useState('')\n  // const [showLoading, setShowLoading] = useState(false);\n  const {data} = useGetProfileQuery()\n\n  const updateName = async () => {\n    pres({\n      message: 'Loading...',\n    })\n    const res = await fetchApi('/user/update-name', {\n      method: 'POST',\n      body: JSON.stringify({\n        fullName: inputs,\n        _id: data?.profile._id,\n      }),\n    })\n\n    if (res.error) {\n      dismi()\n      present(`${res.error}`, 3000)\n\n      // console.log('res.error', res.error)\n    } else {\n      dismi()\n      present(`${res.message}`, 3000)\n      router.push('/setting/account','back')\n    }  \n    \n  }\n  return (\n    <IonPage>\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting/account\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Edit Name</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n      \n        <IonGrid>\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n              <h1 className=\"ion-no-margin\">\n                <strong>Edit Name</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          \n          <form>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonItem mode=\"ios\" className=\"ion-no-padding auth-inputs\">\n                  <IonLabel position=\"floating\">User name</IonLabel>\n                  <IonInput\n                    name=\"Name\"\n                    type=\"text\"\n                    value={inputs}\n                    onIonChange={(e) => setInputs(e.detail.value!)}\n                    placeholder=\"fullName\"\n                    required\n                  >\n                    {' '}\n                  </IonInput>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={() => updateName()}\n                >\n                  Save\n                </IonButton>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"medium\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  routerLink=\"/setting/account\"\n                >\n                  Cancel\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </form>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default EditName\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  IonInput,\n  useIonLoading,\n  IonLoading,\n  useIonToast,\n} from '@ionic/react'\nimport './Edit.scss'\nimport React, {useEffect, useState} from 'react'\nimport {userProfile, fetchApi} from '../../../../fetchApis'\nimport {useGetProfileQuery} from '../../../../schema/types-and-hooks'\n\nconst UpdateEmail: React.FC = () => {\n  const router = useIonRouter()\n  const [pres, dismi] = useIonLoading()\n  const [inputs, setInputs] = useState('')\n  const [present] = useIonToast()\n  const [showLoading, setShowLoading] = useState(false)\n  const {data} = useGetProfileQuery()\n\n  useEffect(() => {\n    userProfile()\n  }, [])\n\n  const updateEmail = async () => {\n    pres({\n      message: 'Loading...',\n    })\n\n    const res = await fetchApi('/user/update-email', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: inputs.toLowerCase(),\n        _id: data?.profile._id,\n      }),\n    })\n    if (res.error) {\n      dismi()\n      present(`${res.error}`, 3000)\n    } else {\n      dismi()\n      present(`${res.message}`, 3000)\n      router.push('/setting/account', 'back')\n    }\n  }\n  return (\n    <IonPage>\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting/account\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n            <div style={{textAlign: 'center'}}>\n              <b>Edit Email</b>\n            </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonLoading\n          cssClass=\"custom-class\"\n          isOpen={showLoading}\n          onDidDismiss={() => setShowLoading(false)}\n          message={'Please wait...'}\n          duration={2000}\n        />\n        <IonGrid>\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <h1 className=\"ion-no-margin\">\n                  <strong>Edit Email</strong>\n                </h1>\n              </IonCol>\n            </IonRow> */}\n          <form>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonItem mode=\"ios\" className=\"ion-no-padding auth-inputs\">\n                  <IonLabel position=\"floating\">User Email</IonLabel>\n                  <IonInput\n                    value={inputs}\n                    onIonChange={(e) => setInputs(e.detail.value!)}\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    required\n                  >\n                    {' '}\n                  </IonInput>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={() => updateEmail()}\n                >\n                  Save\n                </IonButton>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"medium\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  routerLink=\"/setting/account\"\n                >\n                  Cancel\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </form>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default UpdateEmail\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  useIonLoading,\n  IonLoading,\n  IonInput,\n  useIonToast,\n} from '@ionic/react'\nimport {useGetProfileQuery} from '../../../../schema/types-and-hooks'\nimport React, {useEffect, useState} from 'react'\nimport {userProfile, fetchApi} from '../../../../fetchApis'\n\nconst UpdatePassword: React.FC = () => {\n  const router = useIonRouter()\n  const [present] = useIonToast()\n  const [pres, dismi] = useIonLoading()\n\n  const [password, setPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [showLoading, setShowLoading] = useState(false)\n\n  const {data} = useGetProfileQuery()\n\n  useEffect(() => {\n    userProfile()\n  }, [])\n\n  const updatePassword = async () => {\n    pres({\n      message: 'Loading...',\n    })\n\n    const res = await fetchApi('/user/update-password', {\n      method: 'POST',\n      body: JSON.stringify({\n        password: password,\n        newPassword: newPassword,\n        _id: data?.profile._id,\n      }),\n    })\n\n    if (res.error) {\n      dismi()\n      present(`${res.error}`, 3000)\n    } else {\n      dismi()\n      present(`${res.message}`, 3000)\n      router.push('/setting/account', 'back')\n    }\n  }\n  return (\n    <IonPage>\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting/account\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n            <div style={{textAlign: 'center'}}>\n              <b>Edit Password</b>\n            </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonLoading\n          cssClass=\"custom-class\"\n          isOpen={showLoading}\n          onDidDismiss={() => setShowLoading(false)}\n          message={'Please wait...'}\n          duration={2000}\n        />\n        <IonGrid>\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n              <h1 className=\"ion-no-margin\">\n                <strong>Edit Password</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <form>\n            <IonRow class=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonItem mode=\"ios\" class=\"ion-no-padding auth-inputs\">\n                  <IonLabel position=\"floating\">Current Password</IonLabel>\n                  <IonInput\n                    value={password}\n                    onIonChange={(e) => setPassword(e.detail.value!)}\n                    type=\"password\"\n                    placeholder=\"password\"\n                    required\n                  >\n                    {' '}\n                  </IonInput>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n            <IonRow class=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonItem mode=\"ios\" class=\"ion-no-padding auth-inputs\">\n                  <IonLabel position=\"floating\">New Password</IonLabel>\n                  <IonInput\n                    value={newPassword}\n                    onIonChange={(e) => setNewPassword(e.detail.value!)}\n                    type=\"password\"\n                    placeholder=\"newPassword\"\n                    required\n                  >\n                    {' '}\n                  </IonInput>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={() => updatePassword()}\n                >\n                  Save\n                </IonButton>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"medium\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  routerLink=\"/setting/account\"\n                >\n                  Cancel\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </form>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default UpdatePassword\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  isPlatform,\n  useIonToast,\n  IonTitle,\n} from '@ionic/react'\nimport {Share} from '@capacitor/share'\nimport {Clipboard} from '@ionic-native/clipboard'\n// import {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport './ShareApp.scss'\n\nconst ShareApp: React.FC = () => {\n  const [present] = useIonToast()\n  // const {data} = useGetProfileQuery()\n  // console.log('account', data)\n  let appURL = 'https://speakypeaky.page.link/home'\n\n  const copy = (appURL) => {\n    if (isPlatform('mobile') && !isPlatform('mobileweb')) {\n      Clipboard.copy(appURL).then(() => {\n        present('It’s copied!', 2000)\n      })\n    } else {\n      navigator.clipboard.writeText(appURL).then(\n        (res) => {\n          present('It’s copied!', 2000)\n        },\n\n        (err) => {\n          console.error('Async: Could not copy text: ', err)\n        },\n      )\n    }\n  }\n\n  const shareApp = async () => {\n    await Share.share({\n      title: 'Speaky Peaky',\n      text: 'Speaky Peaky',\n      url: appURL,\n      dialogTitle: 'Share with buddies',\n    })\n  }\n\n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Share The App</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent>\n        <IonGrid\n          className=\"share-app ion-no-padding\"\n          style={{\n            backgroundImage: \"url('./assets/images/profile-bg-yellow copy.jpg')\",\n            width: '100%',\n            height: '100%',\n          }}\n        >\n          {/* <IonRow\n            className=\"ion-align-items-center ion-justify-content-center\"\n            style={{padding: '16px 16px 0px 16px'}}\n          >\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                <strong>Share This App</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow\n            className=\"ion-align-items-center ion-justify-content-center\"\n            style={{padding: '0px 16px 16px 16px;'}}\n          >\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <p>\n                Because you can help your friends and family improve their English skills\n                and live their best lives speaking English fluently!\n              </p>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"share ion-no-padding ion-align-self-center ion-align-items-center ion-justify-content-center\"\n            >\n              <div className=\"share-img ion-align-items-center ion-justify-content-center\">\n                <img src=\"./assets/images/share1.svg\" alt=\"share\" />\n              </div>\n              {isPlatform('mobile') ? (\n                <>\n                  <IonButton\n                    mode=\"ios\"\n                    color=\"danger\"\n                    shape=\"round\"\n                    expand=\"block\"\n                    type=\"button\"\n                    onClick={shareApp}\n                  >\n                    <strong>SHARE NOW</strong>\n                  </IonButton>\n                  <p className=\"ion-text-center\">or copy link</p>\n                </>\n              ) : (\n                ''\n              )}\n              <IonRow className=\"copy-link ion-margin ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-no-padding ion-align-self-center\"\n                >\n                  <IonRow>\n                    <IonCol id=\"app-link\" className=\"ion-no-padding link\" size=\"10\">\n                      {appURL}\n                    </IonCol>\n                    <IonCol\n                      className=\"ion-no-padding IonText-right c-red pointer\"\n                      size=\"2\"\n                      onClick={() => copy(appURL)}\n                    >\n                      <strong className=\"c-red pointer\">COPY</strong>\n                    </IonCol>\n                  </IonRow>\n                </IonCol>\n              </IonRow>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default ShareApp\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonText,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  IonToggle,\n  useIonViewWillEnter,\n  IonSkeletonText,\n  useIonAlert,\n  IonTitle\n} from '@ionic/react'\nimport moment from 'moment'\nimport React, {useState, useEffect} from 'react'\nimport {LocalNotifications} from '@capacitor/local-notifications'\nimport {DatePicker} from '@ionic-native/date-picker'\n// import {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport {storageHelper} from '../../utils/storageHelper'\nimport './Reminder.scss'\n\nconst Reminder: React.FC = () => {\n  // const {data} = useGetProfileQuery()\n  const [checked] = useState(false)\n  const [load, setLoad] = useState(false)\n  const [present] = useIonAlert()\n  const [reminder, setreminder] = useState(false)\n  const [reminderTime, setreminderTime] = useState('')\n\n \n\n  const onChangeReminder = (event) => {\n    if (event === false) {\n      storageHelper.removeNativeStorage('reminder')\n      setreminder(false)\n      setreminderTime(undefined)\n      LocalNotifications.cancel({notifications: [{id: 42}]})\n    } else if (event) {\n      setReminder()\n    } else {\n      storageHelper.removeNativeStorage('reminder')\n      setreminderTime(undefined)\n      LocalNotifications.cancel({notifications: [{id: 42}]})\n    }\n  }\n\n  const setReminderTime = async (date) => {\n    const time = new Date(date.getTime())\n    const notifs = await LocalNotifications.schedule({\n      notifications: [\n        {\n          id: 42,\n          title: 'SpeakyPeaky',\n          body: '20 mins a day = big gains in 3 months',\n          schedule: {\n            repeats: true,\n            every: 'day',\n            on: {\n              hour: time.getHours(),\n              minute: time.getMinutes(),\n            },\n          },\n          sound: null,\n          attachments: null,\n          actionTypeId: '',\n          extra: null,\n        },\n      ],\n    })\n    console.log('notify', notifs)\n  }\n  const setReminder = async () => {\n    try {\n      const date = await DatePicker.show({\n        date: new Date(),\n        mode: 'time',\n        androidTheme: DatePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT,\n      })\n\n      storageHelper.setNativeStorage('reminder', date.getTime())\n\n      await setReminderTime(date)\n      setreminderTime(date.getTime().toString())\n      setreminder(true)\n\n      present({\n        header: 'Reminder is set!',\n        message:\n          'Perfect. We will send you a nudge at <strong>' +\n          `${moment(date).format('LT')}` +\n          '</strong> everyday',\n        cssClass: 'user-level-alert',\n        buttons: ['OK'],\n      })\n    } catch (err) {\n      // console.log('Error occurred while getting date: ', err)\n    }\n  }\n\n  useIonViewWillEnter(() => {\n    LocalNotifications.requestPermissions()\n    storageHelper.getNativeStorage('reminder').then((reminder) => {\n      console.log('reminder', reminder?.data)\n\n      if (reminder?.data) {\n        setreminderTime(new Date(reminder.data).toString())\n        setreminder(true)\n        setReminderTime(new Date(reminder.data))\n      }\n      setLoad(true)\n    })\n  })\n\n  useEffect(() => {\n    storageHelper.getNativeStorage('reminder').then((reminder) => {\n      console.log('reminder', reminder?.data)\n\n      if (reminder?.data) {\n        setreminderTime(new Date(reminder.data).toString())\n        setreminder(true)\n        setReminderTime(new Date(reminder.data))\n      }\n      setLoad(true)\n    })\n  }, [checked, reminder, reminderTime])\n\n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Reminder</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        {load ? (\n          <IonGrid>\n            {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeLg=\"6\"\n                sizeMd=\"7\"\n                sizeXl=\"4\"\n                className=\"ion-align-self-center\"\n              >\n                <h1 className=\"ion-no-margin\">\n                  <strong>Reminder</strong>\n                </h1>\n              </IonCol>\n            </IonRow> */}\n\n            <IonRow className=\"reminder-block ion-align-items-center\">\n              <IonCol className=\"ion-align-self-center\">\n                {reminderTime === undefined || reminderTime === '' ? (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center ion-text-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeLg=\"6\"\n                      sizeMd=\"7\"\n                      sizeXl=\"4\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonIcon\n                        className=\"alarm\"\n                        src=\"../../../../../assets/images/alarm.svg\"\n                      ></IonIcon>\n                      <h3 className=\"ion-text-center ion-margin-bottom\">\n                        Would you like to receive a reminder?\n                      </h3>\n                    </IonCol>\n                  </IonRow>\n                ) : (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeLg=\"6\"\n                      sizeMd=\"7\"\n                      sizeXl=\"4\"\n                      className=\"ion-align-self-center ion-text-center ion-margin-top\"\n                    >\n                      <IonIcon\n                        className=\"alarm\"\n                        src=\"../../../../../assets/images/alarm.svg\"\n                      ></IonIcon>\n                      <h3 className=\"ion-text-center ion-margin-bottom\">\n                        We will send you a nudge <br />\n                        at{' '}\n                        <span className=\"c-orange\">\n                          {' '}\n                          {moment(reminderTime).format('LT')}{' '}\n                        </span>{' '}\n                        everyday\n                      </h3>\n                    </IonCol>\n                  </IonRow>\n                )}\n                {reminderTime === undefined || reminderTime === '' ? (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"10\"\n                      sizeSm=\"10\"\n                      sizeMd=\"7\"\n                      sizeLg=\"6\"\n                      sizeXl=\"4\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonItem lines=\"none\">\n                        <IonLabel color=\"danger\">\n                          Yes, set a reminder. <br />\n                          <IonText color=\"medium\">(Push notification)</IonText>\n                        </IonLabel>\n                        <IonToggle\n                          mode=\"ios\"\n                          checked={reminder}\n                          onIonChange={(e) => {\n                            onChangeReminder(e.detail.checked)\n                          }}\n                        ></IonToggle>\n                      </IonItem>\n                    </IonCol>\n                  </IonRow>\n                ) : (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"10\"\n                      sizeSm=\"10\"\n                      sizeMd=\"7\"\n                      sizeLg=\"6\"\n                      sizeXl=\"4\"\n                      className=\"ion-align-self-center ion-text-center\"\n                    >\n                      <IonItem lines=\"none\">\n                        <IonToggle\n                          mode=\"ios\"\n                          checked={reminder}\n                          onIonChange={(e) => {\n                            onChangeReminder(e.detail.checked)\n                          }}\n                        ></IonToggle>\n                      </IonItem>\n                      <p\n                        style={{cursor: 'pointer'}}\n                        className=\"c-orange ion-margin-top ion-align-self-center\"\n                        onClick={setReminder}\n                      >\n                        Edit\n                      </p>\n                    </IonCol>\n                  </IonRow>\n                )}\n              </IonCol>\n            </IonRow>\n          </IonGrid>\n        ) : (\n          [0, 1, 2, 3, 4].map((i) => (\n            <IonRow class=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"7\"\n                sizeLg=\"6\"\n                sizeXl=\"4\"\n                class=\"ion-align-self-center\"\n              >\n                <IonItem mode=\"ios\">\n                  <IonLabel>\n                    <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n                    <h3>\n                      <IonSkeletonText animated style={{width: '70%'}}></IonSkeletonText>\n                    </h3>\n                  </IonLabel>\n                  <IonButton slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                    <IonSkeletonText animated style={{width: '20%'}}></IonSkeletonText>\n                  </IonButton>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n          ))\n        )}\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Reminder\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  IonRadioGroup,\n  IonCard,\n  IonCardContent,\n  IonRadio,\n  useIonViewWillLeave,\n  useIonToast,\n  useIonLoading,\n  IonTitle\n} from '@ionic/react'\nimport React, {useEffect, useState} from 'react'\n\n// Multilanguage page content object\n// import {withTranslation} from 'react-i18next'\n// import {useTranslation} from 'react-i18next'\n// import i18n from '../../language/i18n'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport './Language.scss'\nimport {userProfile, fetchApi} from '../../fetchApis'\n\nconst Language: React.FC = () => {\n  const {data} = useGetProfileQuery()\n  let intialLanguage = data?.profile.nativeLanguage.languageName\n  // const router = useIonRouter()\n  const [pres, dismi] = useIonLoading()\n  const [present] = useIonToast()\n\n  const [selected, setSelected] = useState(intialLanguage)\n\n  // const {t, i18n} = useTranslation()\n\n  useEffect(() => {\n    userProfile()\n    // console.log('info', info)\n  }, [])\n\n  useEffect(() => {\n\n    setSelected(intialLanguage)\n  }, [intialLanguage, data?.profile.nativeLanguage.languageName])\n\n  useIonViewWillLeave(() => {\n    // console.log('leave', intialLanguage)\n  })\n\n  const changeLanguage = async () => {\n    pres('Please wait ...')\n    const lang = await fetchApi('/subTitleLanguages/list')\n\n    const langId = lang.data.filter((number) => {\n      return number.languageName === selected\n    })\n\n    const res = await fetchApi('/user/set-subtitleLanguage', {\n      method: 'POST',\n      body: JSON.stringify({\n        subTitleLanguageId: langId[0]._id,\n      }),\n    })\n    if (res.error) {\n      dismi()\n      present(`${res.error}`, 3000)\n    } else {\n      dismi()\n      present(`${res.message}`, 3000)\n    }\n  }\n\n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Language</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding myCSS\">\n        <IonGrid\n          // style={{\n          //   backgroundImage: \"url('./assets/images/on-boarding-language-bg.png')\",\n          //   width: '100%',\n          //   height: '100%',\n          // }}\n        >\n          <IonRow className=\"ion-align-items-center\">\n            <IonCol size=\"12\" className=\"ion-align-self-center\">\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center\"\n                >\n                  <h1 className=\"ion-no-margin\">\n                    <strong>Language for Subtitles</strong>\n                  </h1>\n                  <p className=\"ion-margin-bottom\">\n                    Choose your language for translation\n                  </p>\n                </IonCol>\n              </IonRow>\n              <IonRadioGroup\n                class=\"my-custom-class\"\n                value={selected}\n                onIonChange={(e) => setSelected(e.detail.value)}\n              >\n                <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonCard className=\"ion-no-margin\" mode=\"ios\">\n                      <IonCardContent className=\"ion-no-margin ion-no-padding\">\n                        <IonItem lines=\"none\">\n                          <IonLabel>Portuguese</IonLabel>\n                          <IonRadio\n                            onClick={changeLanguage}\n                            color=\"danger\"\n                            mode=\"md\"\n                            slot=\"start\"\n                            value=\"Portuguese\"\n                            name=\"Portuguese\"\n                          >\n                            {' '}\n                          </IonRadio>\n                        </IonItem>\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                </IonRow>\n\n                <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonCard className=\"ion-no-margin\" mode=\"ios\">\n                      <IonCardContent>\n                        <IonItem lines=\"none\">\n                          <IonLabel>Spanish</IonLabel>\n                          <IonRadio\n                            onClick={changeLanguage}\n                            color=\"danger\"\n                            mode=\"md\"\n                            slot=\"start\"\n                            value=\"Spanish\"\n                            name=\"Spanish\"\n                          >\n                            {' '}\n                          </IonRadio>\n                        </IonItem>\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                </IonRow>\n\n                <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonCard className=\"ion-no-margin ion-no-padding\" mode=\"ios\">\n                      <IonCardContent>\n                        <IonItem lines=\"none\">\n                          <IonLabel>Vietnamese</IonLabel>\n                          <IonRadio\n                            onClick={changeLanguage}\n                            color=\"danger\"\n                            mode=\"md\"\n                            slot=\"start\"\n                            value=\"Vietnamese\"\n                            name=\"Vietnamese\"\n                          >\n                            {' '}\n                          </IonRadio>\n                        </IonItem>\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                </IonRow>\n\n                <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonCard className=\"ion-no-margin\" mode=\"ios\">\n                      <IonCardContent>\n                        <IonItem lines=\"none\">\n                          <IonLabel>Korean</IonLabel>\n                          <IonRadio\n                            onClick={changeLanguage}\n                            color=\"danger\"\n                            mode=\"md\"\n                            slot=\"start\"\n                            value=\"Korean\"\n                            name=\"korean\"\n                          >\n                            {' '}\n                          </IonRadio>\n                        </IonItem>\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                </IonRow>\n              </IonRadioGroup>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Language\n","\nexport  const GlobalService = {\n  languages : ['Korean', 'Spanish', 'Vietnamese', 'Portuguese'],\n  iOSAppURL : 'https://apps.apple.com/in/app/speaky-peaky/id1486127431',\n  androidAppURL :\n    'https://play.google.com/store/apps/details?id=com.summer.startenglishnow&hl=en',\n  iOSAppID : '1455374609',\n  androidPackage : 'market://details?id=com.summer.startenglishnow',\n  webAppURL : 'https://start-english-now-android.firebaseapp.com',\n\n  weekdays : [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n  ],\n  faqCategories : [\n    {\n      title: 'Subscriptions and Billing',\n      type: 'Subscriptions_and_Billing',\n    },\n    {\n      title: 'App Features',\n      type: 'App_Features',\n    },\n    {\n      title: 'Study Methods',\n      type: 'Study_Methods',\n    },\n    {\n      title: 'Suggestions',\n      type: 'Suggestions',\n    },\n    // , {\n    //     title: 'Others',\n    //     type: 'Others'\n    // }\n  ],\n\n  lessonSteps : [\n    {\n      name: 'Step 1 : Listen',\n      _id: 'Listen',\n    },\n    {\n      name: 'Step 2 : Dictation',\n      _id: 'Dictation',\n    },\n    {\n      name: 'Step 3 : Review',\n      _id: 'Review',\n    },\n    {\n      name: 'Step 4 : Practice',\n      _id: 'Practice',\n    },\n    {\n      name: 'Step 5 : Re-listen',\n      _id: 'Re-listen',\n    },\n  ],\n\n  lessonDictationStepLoop : [\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n  ],\n  lessonReviewingStepLoop : [\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n  ],\n  lessonPracticeStepLoop : [\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n    {\n      isCompleted: false,\n    },\n  ],\n\n  subscriptionsAndBillingFaqs : [\n    {\n      question: 'If I become a subscriber, can I select different levels?',\n      answer:\n        'Yes! You can choose any level any time you like! If you select a level, we will recommend you lessons within that level. \\nIf you feel that your recommended lessons are too easy or difficult for you, you can change your level in Profile (your username in the bottom bar).',\n      expanded: false,\n    },\n    {\n      question: 'Can I review the previous lessons I have studied?',\n      answer:\n        'Yes, you can review any lesson you want at any point in time!  If you want to look at all \\nthe lessons you’ve studied so far, please visit Review in the bottom bar.',\n      expanded: false,\n    },\n    {\n      question: 'How can I cancel my subscription?',\n      answer:\n        'In order to turn off auto-renewal, please go to Profile (your username in the bottom bar) \\n> Settings > Account > Subscription Status',\n      expanded: false,\n    },\n    {\n      question:\n        'I’m a monthly subscriber so I have 30 lessons per month to study. However, I didn’t \\nstudy all the 30 lessons. Will the remaining lessons be carried forward to the next \\nsubscription month?',\n      answer:\n        'The remaining number of lessons won’t be carried forward to the next subscription \\nmonth. \\n\\n If you become an annual subscriber or a 6-month subscriber, you will have unlimited \\nnumber of lessons throughout the subscription period at a discounted price by 20% and \\n40% respectively',\n      expanded: false,\n    },\n    {\n      question: 'How does a subscription period work?',\n      answer:\n        'We have three types of subscription plans. The first one is a monthly subscription. For example, if you subscribed on August 15, 2019, this month’s subscription period is until September 14, 2019.\\n\\nThe second plan is a 6-month subscription and the annual subscription lasts for a year.\\n\\nAll of our subscription plans are auto-renewal. That means you will be automatically charged when the next subscription period starts. If you want to turn off auto-renewal, you can do so at anytime you want in Profile (your username in the bottom bar) > Settings > Account > Subscription Status',\n      expanded: false,\n    },\n  ],\n  appFeaturesFaqs : [\n    {\n      question: 'I want to see the list of lessons I’ve studied.',\n      answer:\n        'If you want to look at all the lessons you’ve studied so far, please visit Review in the bottom bar.',\n      expanded: false,\n    },\n    {\n      question:\n        'I’m a monthly subscriber and I’ve studied all 30 lessons. Can I buy more lessons?',\n      answer:\n        'Yes, you can. Please go to Profile (your username in the bottom bar) > Settings > Account > Subscription Status, this is where you can purchase extra lessons. The additional number of lessons should be studied within the current subscription month as they are not carried forward to the next month. For example, let’s say, your current subscription month is from August 15 to September 14 and you purchased 5 additional lessons on September 5. You need to study the additional lessons by September 14.',\n      expanded: false,\n    },\n    {\n      question:\n        'When I get my pronunciation evaluated, I don’t get a 100 even though the app types exactly what I say.',\n      answer:\n        \"First of all, don’t feel frustrated! If you get over a 90, your pronunciation is great. Even if the app understands you perfectly, our app evaluates how well you pronounce, not how much the app can understand you. That means, even though your speech is understandable, it doesn't mean your pronunciation is 100% perfect. \\nWe use Google API, one of the best speech recognition APIs (Application Program Interfaces) in the world, which has a high accuracy rate at 97%. What it means is that even if you make all the sounds correct, there is still a 3% chance that the Google speech API can make a mistake. The technology is getting better, but not perfect yet.  \\nWe experimented on this technology with English native speakers. The average grade they got was 98. Therefore, if you get over a 90 as a non English native speaker, I would say it’s great! Don’t get stressed out that you don’t get a 100. If you see over 90 and the app understands you please move on to the next scene.\",\n      expanded: false,\n    },\n    {\n      question:\n        'I’m using an Android phone. The pronunciation evaluation feature doesn’t work. The mic does not seem to be working.',\n      answer:\n        \"Please follow the instructions below. If it still doesn't work, please email us at hi@speakypeaky.com.\\n1) Go to Google Play Store \\n2) Search for “Google” \\n3) If you see a button that says “Enable”, please click on it. \\n4) After number 3, you will see either a “Update” button or an “Open” button. Click on either of them. Please click on the “Open” button to see if the Google app is working fine. \\n5) After checking the Google app is working fine, open our app Speaky Peaky again. The mic in the evaluation step should be working now.\",\n      expanded: false,\n    },\n  ],\n  studyMethods : [\n    {\n      question: 'Should I learn English only using this app?',\n      answer:\n        \"Our app will definitely help improve your English. However, we don't claim that you ONLY need our app to learn English. To be fluent in English, you need a holistic approach. Not only do you need to improve listening skills, but also grammar, vocabulary, and writing. Speaky Peaky especially helps you with English listening skills and sounds (intonation, linking, tone), vocabulary, and speaking. If you feel that you’re not confident with English grammar, we recommend that you study it separately. Grammar can be boring, but we believe it would be ideal if you went over English grammar at least once. You don’t need to master English grammar but you need to know basic grammar, especially if the grammar of your native language is very different from English\",\n      expanded: false,\n    },\n    {\n      question:\n        'It seems that I just can’t make English sounds correctly? The app doesn’t exactly type what I say. ',\n      answer:\n        'Well, it might be because you’re not familiar with basic English sounds. For example, do you know the difference in sound between sit and seat, or mad and med, or do you know how to correctly pronounce ‘pleasure’? If you’re not sure, we strongly, strongly recommend you learn English phonetics as well, through which you can learn accurate sounds of English vowels and consonants. If you learn English phonetics on top of using Speaky Peaky, the effect will be much bigger.',\n      expanded: false,\n    },\n    {\n      question: 'Can I improve English speaking skills using Speaky Peaky?',\n      answer:\n        'Absolutely. There are two major effects in spoken English with Speaky Peaky’s methods: \\nAutomaticity: By repeating English sentences multiple times, your automaticity will improve significantly. This means that you will speak sentences that you’ve practiced automatically without trying too hard. A lot of English expressions are very commonly used. It’s a great practice to get used to set expressions and sentences by repetition and practice. \\nStronger memory building: With Speaky Peaky, all lessons are based off of videos with stories. Stories give us emotions and feelings. Learning something with stories and emotions is the most effective way of memorizing things scientifically. Amygdala, the emotional center of our brain is closely connected to the hippocampus, the part of our brain that deals with memorization. Therefore, if you’re emotionally connected, it allows yours brain to form a more detailed and stronger memory.  That’s why we always recommend you memorize words and expressions from stories rather than making a list of unrelated words.  \\nHowever, please don’t forget to go out and meet real people to speak English with. You are learning English to communicate with people, right? Conversations are interpersonal. Go out there and start real conversations with people when you feel like you are ready. Use the words and expressions you learned with Speaky Peaky, and practice asking questions and engaging in conversations. Good luck Speaky Speaky fam! :)',\n      expanded: false,\n    },\n    {\n      question:\n        'There are some words I just can’t hear well no matter how many times I try to listen. Should I listen to it more? How many times should I listen to it?',\n      answer:\n        'We understand your frustration. There could be 2 main reasons why you can’t hear exactly as the script says. \\n Firstly, it may be because the native speaker spoke it with inaccurate pronunciation. Speaky Peaky is using real-life videos which are not made for only English learners unlike many English text books. Therefore, English native speakers may have mispronounced or may have not enunciated the sounds. In this case, no matter how many times you listen, it won’t be clear to your ears. But, that’s okay. You’re not supposed to listen to it clearly. You should guess what the speaker may have said out of the context. That is what we do in our native language as well. \\nSecondly, you may not be familiar with the rule of emphasized and unemphasized sounds and linking sounds. If they are the issues you’re experiencing, are issues with you, try to find patterns. Here are some patterns that might be helpful for you. \\nEnglish is like a song. Even in one word, a sound can go up and down. This is because there are stressed syllables and unstressed syllables. Let me explain what syllables are first. A word can be composed of multiple syllables. For example, “Matter” has 2 syllables -- Ma / tter. “Pronunciation” has 5 syllables -- pro / nun / ci / a / tion. In one word, there must be at least one primary stressed syllable. In a long word, there can be multiple syllables and there is one primary stressed syllable and sometimes there is one secondary stressed syllable. When a syllable is stressed,  that should be pronounced as it is originally supposed to be pronounced.  When a syllable is NOT stressed, the sound becomes very weak and the sound changes; the unstressed sound is called schwa sound (ə). When syllables are not stressed, you pronounce it more softly and at a lower tone. Let’s take ‘pronunciation’ as an example. The 4th syllable, “a” is the prime stressed one and you pronounce it as “ey” and the secondary stressed syllable is the second syllable, “nun”, so you pronounce it as “nʌn”. You should pronounce the rest of the syllables more weakly. Especially, the first and the last syllables become a schwa sound (ə). \\nOnce you get each word right, the next one you want to pay attention to is linking sounds. When you speak English sentences, some sounds are linked. Here are some examples; \\nWhen the /t/ and /y/ are next to each other, for example, don’t you, the sounds become one to the \\'ch sound\\' /ʧ/. This makes the phrase \"don\\'t you\" /doʊntyu/ to be pronounced as \"donchou\" /doʊnʧu/.\\nWhen the /d/ and the /y/ are next to each other, they are pronounced as a \\'j sound\\' /ʤ/. This makes the phrase \"did you\" /dɪdyu/ to be pronounced as \"dijou\" /dɪʤu/.\\nSometimes, a sound is removed from a word. For example, when a /t/ or /d/ is between two other consonant sounds (but not the first sound of a word), the /t/ or /d/ can be omitted. In the phrase “kep-going”, the /t/ is between two consonant sounds and can be omitted. \\nSo it is pronounced as “kep-going” \\nIn the phrase “Sam\\'s first‿day”, the /t/ can be omitted. So it is pronounced as “Sam’s firs-day” \\nWhen a word ends with a consonant and the next word begins with a vowel, or when a word ends with a vowel and the next word begins with a consonant, the consonant and vowel sounds blend. For example, “press‿enter” is pronounced as “presenter”  and “fix‿it” is pronounced as “fi-xit”.',\n      expanded: false,\n    },\n    {\n      question: 'Why do I need to do dictation?',\n      answer:\n        'Sometimes you may think you have listened to all the words correctly when, in fact, you didn’t. By doing dictation, you will be able to learn what sounds are familiar to you and what sounds you cannot listen to well. This will help you objectively evaluate your listening skill and you will know which sounds you need to focus on. I understand that this might take a long time and can be tedious, however, this method has academically been proven to be effective.',\n      expanded: false,\n    },\n  ],\n  suggestions : [\n    {\n      question: 'Can I suggest videos I want to study with to the team?',\n      answer:\n        'Absolutely! Please email us at at hi@speakypeaky.com Can’t wait to get your suggestions!! :)',\n      expanded: false,\n    },\n    {\n      question: 'I have found errors / typos in the app. What should I do?',\n      answer:\n        'I am so sorry for the error or typo. Our team tries our best to provide the best quality lessons. However, sometimes we make mistakes. Thank you for your understanding. You can report any errors or typos in lessons you’ve found by clicking the exclamation mark on the right upper corner in any page of all lessons.',\n      expanded: false,\n    },\n    {\n      question: 'Everything is in English in the app.',\n      answer:\n        'We’ve had many discussions on this. We’ve decided to make everything in English except for subtitles in your native language. That’s because we thought that you should be exposed to English as much as possible since this app is to help you learn English. If you don’t understand any parts of the app, please feel free to email us at hi@speakypeaky.com.',\n      expanded: false,\n    },\n  ]\n}\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonCard,\n  IonCardContent,\n  IonSearchbar,\n  IonItem,\n  IonText,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  IonList,\n  IonTitle\n} from '@ionic/react'\n\n// import {useGetProfileQuery} from '../../../schema/types-and-hooks'\nimport {GlobalService} from '../../../global/global.service'\nimport {useState} from 'react'\nimport './Support.scss'\n\nconst Support: React.FC = () => {\n  const router = useIonRouter()\n  // const {data} = useGetProfileQuery()\n  const [isFocus, setIsFocus] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  // console.log('searchText', searchText)\n\n  const {\n    faqCategories,\n    subscriptionsAndBillingFaqs,\n    appFeaturesFaqs,\n    studyMethods,\n    suggestions,\n  } = GlobalService\n  // console.log('faqCategories', faqCategories)\n  const emailTeam = () => {\n    router.push('/email-the-team')\n  }\n\n  const combined2 = [\n    ...suggestions,\n    ...subscriptionsAndBillingFaqs,\n    ...appFeaturesFaqs,\n    ...studyMethods,\n  ]\n  // console.log('combined', combined2)\n\n  const [answer, setAnswer] = useState(combined2)\n\n  const showAnswer = (result) => {\n    setAnswer(\n      [...answer].map((object) => {\n        if (object.question === result.question) {\n          if (object.expanded) {\n            return {\n              ...object,\n              expanded: false,\n            }\n          } else {\n            return {\n              ...object,\n              expanded: true,\n            }\n          }\n        } else return object\n      }),\n    )\n  }\n\n  const filtered = answer.filter((string) => {\n    return string.question.includes(`${searchText}`)\n  })\n\n  // console.log('filtered', filtered)\n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n              <div style={{textAlign: 'center'}}>\n              <b>Support</b>\n              </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding support-content\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"6\"\n              sizeSm=\"6\"\n              sizeMd=\"3\"\n              sizeLg=\"2\"\n              sizeXl=\"2\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                {/* <strong>FAQ</strong> */}\n              </h1>\n            </IonCol>\n            <IonCol\n              sizeXs=\"6\"\n              sizeSm=\"6\"\n              sizeMd=\"3\"\n              sizeLg=\"2\"\n              sizeXl=\"2\"\n              className=\"ion-align-self-center\"\n            >\n              <IonText onClick={emailTeam} className=\"email ion-float-right\">\n                Email the team\n              </IonText>\n            </IonCol>\n          </IonRow>\n\n          <IonRow className=\"ion-margin-top ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeXl=\"4\"\n              sizeLg=\"6\"\n              className=\"ion-align-self-center\"\n            >\n              <IonSearchbar\n                mode=\"md\"\n                id=\"searchFaq\"\n                type=\"text\"\n                showCancelButton=\"focus\"\n                value={searchText}\n                onFocus={() => setIsFocus(true)}\n                onIonChange={(e) => setSearchText(e.detail.value!)}\n                onIonCancel={() => setIsFocus(false)}\n                animated\n                placeholder=\"Search in FAQs\"\n              ></IonSearchbar>\n            </IonCol>\n          </IonRow>\n\n          {isFocus ? (\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"7\"\n                sizeXl=\"4\"\n                sizeLg=\"6\"\n                className=\"ion-no-padding ion-align-self-center\"\n              >\n                {searchText === '' ? (\n                  <IonList>\n                    {answer.map((result) => (\n                      <IonItem\n                        key={result.question}\n                        onClick={() => {\n                          // console.log('showAnswer', showAnswer(result))\n\n                          return showAnswer(result)\n                        }}\n                      >\n                        <div>\n                          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                            <IonCol\n                              className=\"ion-no-padding\"\n                              sizeXs=\"12\"\n                              sizeSm=\"12\"\n                              sizeMd=\"12\"\n                              sizeXl=\"12\"\n                              sizeLg=\"12\"\n                            >\n                              <p>Q. {result.question}</p>\n                            </IonCol>\n                            {/* <IonCol\n                            className=\"ion-no-padding ion-float-right\"\n                            sizeXs=\"1\"\n                            sizeSm=\"1\"\n                            sizeMd=\"1\"\n                            sizeXl=\"1\"\n                            sizeLg=\"1\"\n                          >\n                            {result.expanded ? \n                            <IonIcon  name=\"chevron-down\"></IonIcon>\n                            : <IonIcon  name=\"chevron-up\"></IonIcon>\n                          }\n                          </IonCol> */}\n                          </IonRow>\n                          {result.expanded ? (\n                            <IonRow\n                              id=\"expandWrapper\"\n                              style={{color: 'orange', display: 'block'}}\n                              className=\"expand-wrapper\"\n                            >\n                              {result.answer}\n                            </IonRow>\n                          ) : (\n                            ''\n                          )}\n                        </div>\n                      </IonItem>\n                    ))}\n                  </IonList>\n                ) : (\n                  <IonList>\n                    {filtered.map((result) => (\n                      <IonItem\n                        key={result.question}\n                        onClick={() => {\n                          // console.log('showAnswer', showAnswer(result))\n\n                          return showAnswer(result)\n                        }}\n                      >\n                        <div>\n                          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                            <IonCol\n                              className=\"ion-no-padding\"\n                              sizeXs=\"12\"\n                              sizeSm=\"12\"\n                              sizeMd=\"12\"\n                              sizeXl=\"12\"\n                              sizeLg=\"12\"\n                            >\n                              <p>Q. {result.question}</p>\n                            </IonCol>\n                            {/* <IonCol\n                            className=\"ion-no-padding ion-float-right\"\n                            sizeXs=\"1\"\n                            sizeSm=\"1\"\n                            sizeMd=\"1\"\n                            sizeXl=\"1\"\n                            sizeLg=\"1\"\n                          >\n                            {result.expanded ? \n                            <IonIcon  name=\"chevron-down\"></IonIcon>\n                            : <IonIcon  name=\"chevron-up\"></IonIcon>\n                          }\n                          </IonCol> */}\n                          </IonRow>\n                          {result.expanded ? (\n                            <IonRow\n                              id=\"expandWrapper\"\n                              style={{color: 'orange', display: 'block'}}\n                              className=\"expand-wrapper\"\n                            >\n                              {result.answer}\n                            </IonRow>\n                          ) : (\n                            ''\n                          )}\n                        </div>\n                      </IonItem>\n                    ))}\n                  </IonList>\n                )}\n              </IonCol>\n            </IonRow>\n          ) : (\n            faqCategories.map((category) => (\n              <IonRow key={category.title}>\n                <IonCol size=\"12\" className=\"ion-no-padding\">\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeMd=\"7\"\n                      sizeXl=\"4\"\n                      sizeLg=\"6\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonCard\n                        routerLink={`/faqs/${category.type}`}\n                        mode=\"ios\"\n                        className=\"card\"\n                        style={{cursor: 'pointer'}}\n                      >\n                        <IonCardContent mode=\"ios\">\n                          <IonText color=\"dark\">{category.title}</IonText>\n                        </IonCardContent>\n                      </IonCard>\n                    </IonCol>\n                  </IonRow>\n                </IonCol>\n              </IonRow>\n            ))\n          )}\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Support;\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonViewDidLeave,\n  useIonViewWillEnter,\n  useIonViewWillLeave,\n  IonTitle\n} from '@ionic/react'\nimport {Device} from '@capacitor/device'\nimport React, {useState} from 'react'\n\n// import {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport './AppInfo.scss'\n\nconst AppInfo: React.FC = () => {\n  const [versioncode, setVersioncode] = useState('')\n  const [versionnumber, setVersionnumber] = useState('')\n\n  const logDeviceInfo = async () => {\n    let device\n    const info = await Device.getInfo()\n    const isApp = ['ios', 'android'].includes(info.platform)\n    const isMobileWeb =\n      info.platform === 'web' && ['ios', 'android'].includes(info.operatingSystem)\n    const isDesktop = info.platform === 'web' && !isMobileWeb\n    device = {...info, isApp, isMobileWeb, isDesktop}\n\n    if (!device.isApp) {\n      setVersioncode('RA003')\n      setVersionnumber('')\n    } else {\n      setVersioncode(device.appVersion)\n      setVersionnumber(device.appBuild)\n    }\n  }\n\n\n  useIonViewDidLeave(() => {\n    // console.log('ionViewDidLeave event fired');\n  })\n\n  useIonViewWillLeave(() => {\n    // console.log('ionViewWillLeave event fired');\n  })\n\n  useIonViewWillEnter(() => {\n    logDeviceInfo()\n  })\n  \n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>App Information</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding app-info\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow\n            className=\"ion-align-items-center ion-justify-content-center\"\n            style={{padding: '16px'}}\n          >\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              class=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                <strong>App Information</strong>\n              </h1>\n            </IonCol>\n          </IonRow>\n          <IonRow\n            className=\"ion-align-items-center ion-justify-content-center\"\n            style={{padding: '16px'}}\n          >\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <p>Build Version: {versioncode} </p>\n              <p>Build Number: {versionnumber} </p>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default AppInfo\n","import {\n    IonButton,\n    IonIcon,\n    IonButtons,\n    IonContent,\n    IonHeader,\n    IonItem,\n    IonLabel,\n    IonPage,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonToolbar,\n    IonInput,\n    IonTitle\n  } from '@ionic/react'\n  // import {useGetProfileQuery} from '../../schema/types-and-hooks'\n  \n  const RateApp: React.FC = () => {\n    // const {data : {profile}} = useGetProfileQuery()\n    return (\n      <IonPage>\n         <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Rate App</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n  \n        <IonContent className=\"ion-padding\">\n          <IonGrid>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                <h1 className=\"ion-no-margin\">\n                  <strong>Edit Name</strong>\n                </h1>\n              </IonCol>\n            </IonRow>\n            <form>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                  <IonItem mode=\"ios\" className=\"ion-no-padding auth-inputs\">\n                    <IonLabel position=\"floating\">User name</IonLabel>\n                    <IonInput type=\"text\" placeholder=\"fullName\" required>\n                      {' '}\n                    </IonInput>\n                  </IonItem>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n                <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                  <IonButton\n                    mode=\"ios\"\n                    color=\"danger\"\n                    fill=\"outline\"\n                    shape=\"round\"\n                    expand=\"block\"\n                    type=\"submit\"\n                  >\n                    Save\n                  </IonButton>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n                <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeXl=\"4\" sizeLg=\"6\">\n                  <IonButton\n                    mode=\"ios\"\n                    color=\"medium\"\n                    fill=\"outline\"\n                    shape=\"round\"\n                    expand=\"block\"\n                    routerLink=\"/setting/account\"\n                  >\n                    Cancel\n                  </IonButton>\n                </IonCol>\n              </IonRow>\n            </form>\n          </IonGrid>\n        </IonContent>\n      </IonPage>\n    )\n  }\n  \n  export default RateApp\n  ","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonTextarea,\n  IonToolbar,\n  IonInput,\n  useIonToast,\n  useIonLoading,\n  useIonRouter,\n  IonTitle,\n} from '@ionic/react'\nimport './EmailTeam.scss'\nimport {useState, useEffect} from 'react'\nimport {userProfile, fetchApi} from '../../../fetchApis'\nimport {useGetProfileQuery} from '../../../schema/types-and-hooks'\n\nconst EmailTeam: React.FC = () => {\n  const {data} = useGetProfileQuery()\n  const [present] = useIonToast()\n  const router = useIonRouter()\n  const [pres, dismi] = useIonLoading()\n  const [description, setDescription] = useState('')\n  const [subject, setSubject] = useState('')\n\n  useEffect(() => {\n    userProfile()\n  }, [])\n\n  const emailAdmin = async () => {\n    pres({\n      message: 'Loading...',\n    })\n    const res = await fetchApi('/contactus/user/set-contact-us', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: data?.profile.email,\n        message: description,\n      }),\n    })\n\n    if (res.error) {\n      dismi()\n      present(`${res.error}`, 3000)\n\n      // console.log('res.error', res.error)\n    } else {\n      dismi()\n      present(`${res.message}`, 3000)\n      router.push('/setting', 'back')\n    }\n  }\n\n  return (\n    <IonPage>\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/support\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n            <div style={{textAlign: 'center'}}>\n              <b>Email Us</b>\n            </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding email-team\">\n        <IonGrid className=\"ion-no-padding\">\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n      <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"7\" sizeLg=\"4\" sizeXl=\"6\" className=\"ion-align-self-center\">\n        <h1 className=\"ion-no-margin\"><strong>Email Us</strong></h1>\n      </IonCol>\n    </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeXl=\"4\"\n              sizeLg=\"6\"\n              className=\"ion-align-self-center\"\n            >\n              <p>\n                Hi there! We will personally reply to you as soon as possible. If you want\n                to find a solution to an issue immediately, check our\n                <span className=\"c-orange\" style={{color: 'orange'}}>\n                  {' '}\n                  FAQ\n                </span>\n                , you may find most answers you need with just a few clicks.\n              </p>\n            </IonCol>\n          </IonRow>\n          <form>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"7\"\n                sizeXl=\"4\"\n                sizeLg=\"6\"\n                className=\"ion-align-self-center\"\n              >\n                <IonItem>\n                  <IonInput\n                    value={subject}\n                    onIonChange={(e) => setSubject(e.detail.value!)}\n                    placeholder=\"Subject*\"\n                    name=\"subject\"\n                  ></IonInput>\n                </IonItem>\n\n                <IonItem className=\"ion-margin-top\">\n                  <IonTextarea\n                    value={description}\n                    onIonChange={(e) => setDescription(e.detail.value!)}\n                    rows={6}\n                    placeholder=\"Description*\"\n                    name=\"message\"\n                  ></IonTextarea>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"7\"\n                sizeXl=\"4\"\n                sizeLg=\"6\"\n                className=\"ion-align-self-center\"\n              >\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={() => emailAdmin()}\n                >\n                  Submit\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </form>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default EmailTeam\n","import {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonSearchbar,\n  IonItem,\n  IonList,\n  IonText,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  IonTitle\n} from '@ionic/react'\n// import {useGetProfileQuery} from '../../../schema/types-and-hooks'\nimport {GlobalService} from '../../../global/global.service'\nimport {userProfile} from '../../../fetchApis'\n// import {IoIosArrowDown, IoIosArrowUp} from 'react-icons/io'\n\nimport {useRouteMatch} from 'react-router-dom'\n\nimport './Faq.scss'\nimport {useState, useEffect} from 'react'\n\nconst Faq: React.FC = () => {\n  const router = useIonRouter()\n\n\n  useEffect(() => {\n    userProfile()\n  }, [])\n\n  const emailTeam = () => {\n    router.push('/email-the-team')\n  }\n\n  const match = useRouteMatch<{type: string}>({path: `/faqs/:type`, exact: true})\n  // console.log('march', match)\n  const tab = match?.params.type\n  // console.log('tab', tab)\n\n  let quesData\n  if (tab === 'Subscriptions_and_Billing') {\n    quesData = GlobalService.subscriptionsAndBillingFaqs\n  } else if (tab === 'App_Features') {\n    quesData = GlobalService.appFeaturesFaqs\n  } else if (tab === 'Study_Methods') {\n    quesData = GlobalService.studyMethods\n  } else if (tab === 'Suggestions') {\n    quesData = GlobalService.suggestions\n  }\n  const [open, setOpen] = useState(quesData)\n  // console.log('open', open)\n\n  const showAnswer = (result) => {\n    setOpen(\n      [...open].map((object) => {\n        if (object.question === result.question) {\n          if(object.expanded) {\n            return {\n              ...object,\n              expanded: false,\n            }\n\n          } else {\n          return {\n            ...object,\n            expanded: true,\n          }\n        }\n        } else return object\n      }),\n    )\n  }\n\n  useEffect(() => {\n    // console.log('result', quesData)\n  }, [quesData]);\n\n  return (\n    <IonPage>\n     <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/support\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>FAQ</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding Faq\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"6\"\n              sizeSm=\"6\"\n              sizeMd=\"3\"\n              sizeLg=\"2\"\n              sizeXl=\"2\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                {/* <strong>FAQ</strong> */}\n              </h1>\n            </IonCol>\n            <IonCol\n              sizeXs=\"6\"\n              sizeSm=\"6\"\n              sizeMd=\"3\"\n              sizeLg=\"2\"\n              sizeXl=\"2\"\n              className=\"ion-align-self-center\"\n            >\n              <IonText\n                onClick={emailTeam}\n                style={{color: 'orange', cursor: 'pointer'}}\n                className=\"email ion-float-right\"\n              >\n                Email the team\n              </IonText>\n            </IonCol>\n          </IonRow>\n\n          <IonRow className=\"ion-margin-top ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeXl=\"4\"\n              sizeLg=\"6\"\n              className=\"ion-align-self-center\"\n            >\n              <IonSearchbar\n                mode=\"md\"\n                id=\"searchFaq\"\n                showCancelButton=\"focus\"\n                animated\n                placeholder=\"Search in FAQs\"\n              ></IonSearchbar>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeXl=\"4\"\n              sizeLg=\"6\"\n              className=\"ion-no-padding ion-align-self-center\"\n            >\n              <IonList>\n                {open.map((result) => (\n                  <IonItem\n                   style={{cursor: 'pointer'}}\n                    key={result.question}\n                    onClick={() => {\n                      // console.log('showAnswer', showAnswer(result))\n\n                      return showAnswer(result)\n                    }}\n                  >\n                    <div>\n                      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                        <IonCol\n                          className=\"ion-no-padding\"\n                          sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"12\"\n                sizeXl=\"12\"\n                sizeLg=\"12\"\n                        >\n                          <p>Q. {result.question}</p>\n                        </IonCol>\n                        {/* <IonCol className=\"ion-no-padding ion-float-right\" \n                        sizeXs=\"1\"\n                        sizeSm=\"1\"\n                        sizeMd=\"1\"\n                        sizeXl=\"1\"\n                        sizeLg=\"1\">\n                          {result.expanded ? <IoIosArrowDown /> : <IoIosArrowUp />}\n                        </IonCol> */}\n                      </IonRow>\n                      {result.expanded ? (\n                        <div\n                          id=\"expandWrapper\"\n                          style={{color: 'orange', display: 'block'}}\n                          className=\"expand-wrapper\"\n                        >\n                          {result.answer}\n                        </div>\n                      ) : (\n                        <div\n                          id=\"expandWrapper\"\n                          style={{color: 'orange', display: 'none'}}\n                          className=\"expand-wrapper\"\n                        >\n                          {result.answer}\n                        </div>\n                      )}\n                    </div>\n                  </IonItem>\n                ))}\n              </IonList>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Faq;\n","// import {useApolloClient} from '@apollo/client'\nimport {\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  isPlatform,\n  useIonRouter,\n  IonTitle,\n} from '@ionic/react'\n\nimport {Route, useRouteMatch} from 'react-router'\nimport {storageHelper} from '../../utils/storageHelper'\nimport Account from './Account/Account'\n\nimport EditName from './Account/Edit/EditName'\nimport UpdateEmail from './Account/Edit/UpdateEmail'\nimport UpdatePassword from './Account/Edit/UpdatePassword'\nimport ShareApp from './ShareApp'\nimport Reminder from './Reminder'\nimport Language from './Language'\nimport Support from './Support/Support'\nimport AppInfo from './AppInfo'\nimport RateApp from './RateApp'\nimport EmailTeam from './Support/EmailTeam'\nimport Faq from './Support/Faq'\nimport './Setting.scss'\nimport ChannelService from '../../components/channel.js'\n\nexport const SettingList: React.FC = () => {\n  const router = useIonRouter()\n\n  const match = useRouteMatch<{type: string}>({path: `/faqs/:type`, exact: true})\n  // console.log(\"march\", match)\n  const tab = match?.params.type\n  console.log(\"tab\", tab)\n\n  async function handleLogout() {\n    storageHelper.removeNativeStorage('leftOfData')\n    // storageHelper.gaTrackEvent('Logout', 'Settings Screen')\n    // storageHelper.setNativeStorage('isOnBoarding', true)\n    storageHelper.setNativeStorage('isAdmin', false)\n    storageHelper.removeNativeStorage('token')\n    // console.log(\"native storage\", await storageHelper.getNativeStorage('token') )\n    // authService.authSubject.next(false)\n    // Error in user profile -> profile is not define ->> need to fix\n    // client.clearStore()\n    // queryClient.clear()\n    ChannelService.shutdown()\n    ChannelService.clearCallbacks()\n    router.push('/sign-up', 'root')\n  }\n\n  function Terms() {\n    window.open('https://www.newsite.speakypeaky.com/terms-and-conditions', '_blank')\n  }\n\n  function privacyPolicy() {\n    window.open('https://www.newsite.speakypeaky.com/privacypolicy', '_blank')\n  }\n  function rateApp() {\n    if (isPlatform('ios')) {\n      window.open('https://apps.apple.com/us/app/speaky-peaky/id1486127431', '_blank')\n    } else if (isPlatform('android')) {\n      window.open(\n        'https://play.google.com/store/apps/details?id=com.summer.startenglishnow',\n        '_blank',\n      )\n    }\n  }\n  return (\n    <IonPage id=\"setting-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/profile\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Setting</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"setting\">\n        <IonGrid>\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                <strong>Settings</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"7\"\n              sizeLg=\"6\"\n              sizeXl=\"4\"\n              className=\"ion-align-self-center\"\n            >\n              <IonItem mode=\"md\" routerLink=\"/setting/account\" routerDirection=\"forward\">\n                <IonLabel>Account</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              {isPlatform('capacitor') || isPlatform('cordova') ? (\n                <IonItem mode=\"md\" routerLink=\"/reminder\" routerDirection=\"forward\">\n                  <IonLabel>Reminder</IonLabel>\n                  <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n                </IonItem>\n              ) : (\n                ''\n              )}\n              <IonItem mode=\"md\" routerLink=\"/language\" routerDirection=\"forward\">\n                <IonLabel>Language</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              <IonItem mode=\"md\" routerLink=\"/support\" routerDirection=\"forward\">\n                <IonLabel>Support</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              <IonItem mode=\"md\" routerLink=\"/share-app\" routerDirection=\"forward\">\n                <IonLabel>Share this app</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              <IonItem mode=\"md\" routerLink=\"/app-info\" routerDirection=\"forward\">\n                <IonLabel>App Information</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              {isPlatform('capacitor') || isPlatform('cordova') ? (\n                <IonItem mode=\"md\" onClick={rateApp} routerDirection=\"forward\">\n                  <IonLabel>Rate this app</IonLabel>\n                  <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n                </IonItem>\n              ) : (\n                ''\n              )}\n              <IonItem mode=\"md\" onClick={Terms} style={{cursor: 'pointer'}}>\n                <IonLabel>Term of Use</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              <IonItem mode=\"md\" onClick={privacyPolicy} style={{cursor: 'pointer'}}>\n                <IonLabel>Privacy Policy</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n              <IonItem mode=\"md\" onClick={handleLogout} style={{cursor: 'pointer'}}>\n                <IonLabel>Log Out</IonLabel>\n                <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n              </IonItem>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport const settingRoutes = [\n  {path: '/setting', exact: true, component: SettingList},\n  {path: '/setting/account', exact: true, component: Account},\n  {path: '/setting/edit-name', exact: true, component: EditName},\n  {path: '/setting/edit-email', exact: true, component: UpdateEmail},\n  {path: '/setting/edit-password', exact: true, component: UpdatePassword},\n  {path: '/share-app', exact: true, component: ShareApp},\n  {path: '/reminder', exact: true, component: Reminder},\n  {path: '/language', exact: true, component: Language},\n  {path: '/support', exact: true, component: Support},\n  {path: '/app-info', exact: true, component: AppInfo},\n  {path: '/rate-app', exact: true, component: RateApp},\n  {path: '/email-the-team', exact: true, component: EmailTeam},\n  {path: '/faqs/:type', exact: true, component: Faq},\n]\nexport const SettingRoutes: React.FC = () => {\n  return (\n    <>\n      <Route path=\"/setting/account\" exact component={Account} />\n      <Route path=\"/setting\" exact component={SettingList} />\n      <Route path=\"/setting/edit-name\" exact component={EditName} />\n      <Route path=\"/setting/edit-email\" exact component={UpdateEmail} />\n      <Route path=\"/setting/edit-Password\" exact component={UpdatePassword} />\n      <Route path=\"/share-app\" exact component={ShareApp} />\n      <Route path=\"/reminder\" exact component={Reminder} />\n      <Route path=\"/language\" exact component={Language} />\n      <Route path=\"/support\" exact component={Support} />\n      <Route path=\"/app-info\" exact component={AppInfo} />\n      {/* <Route path=\"/rate-app\" exact component={RateApp} /> */}\n      <Route path=\"/email-the-team\" exact component={EmailTeam} />\n      <Route path=\"/faqs/:type\" exact component={Faq} />\n    </>\n  )\n}\n","//@ts-nocheck\nimport React from 'react'\nimport {useState, useRef, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n`\nconst Circle = styled.div`\n  width: 10px;\n  height: 10px;\n  background-color: #cfc5fa;\n  position: relative;\n  border-radius: 20px;\n  margin-right: 4px;\n  overflow: hidden;\n`\nconst Mover = styled.div`\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 15px;\n  height: 10px;\n  border-radius: 15px;\n  background-color: #1e2d47;\n  transition: transform 0.5s ease;\n`\n\n/**\n * Indicator component\n */\nexport const CardIndicator = ({position, size}) => {\n  const items = [...Array(size).keys()]\n  const [index, setIndex] = useState(position - 1)\n  const increment = useRef(1)\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      if (index >= items.length - 1) {\n        // increment.current = -1;\n      } else if (index <= 0) {\n        // increment.current = 1;\n      }\n\n      // setIndex(index + increment.current);\n    }, 200)\n    return () => clearInterval(interval)\n  })\n  return (\n    <Wrapper>\n      <Container>\n        {items.map((i) => {\n          return (\n            <Circle key={i}>\n              <Mover\n                style={{\n                  transform: `translateX(${(position - i) * 40}px)`,\n                }}\n              />\n            </Circle>\n          )\n        })}\n      </Container>\n    </Wrapper>\n  )\n}\n\nCardIndicator.propTypes = {\n  position: PropTypes.number,\n  size: PropTypes.number,\n}\n\nexport default CardIndicator\n","//@ts-nocheck\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport {default as MaterialButton} from '@material-ui/core/Button'\nimport {withStyles} from '@material-ui/core/styles'\n/**\n * Reusable button component\n */\n\nconst CustomButton = withStyles({\n  root: {\n    '&:disabled': {\n      color: '#747474',\n    },\n  },\n  // checked: {},\n})((props) => <MaterialButton color=\"default\" {...props} />)\n\nexport const Button = ({\n  variant = 'contained',\n  color = 'primary',\n  size = 'small',\n  label,\n  ...props\n}) => {\n  return (\n    <CustomButton variant={variant} color={color} size={size} {...props} fullWidth={true}>\n      {label}\n    </CustomButton>\n  )\n}\n\nButton.propTypes = {\n  variant: PropTypes.oneOf(['contained', 'outlined']),\n  color: PropTypes.oneOf(['primary', 'secondary']),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n}\n\nexport default Button\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\nimport CloseIcon from '@material-ui/icons/Close'\nimport styled from 'styled-components'\n\n// Styles\nconst Button = styled(Fab)`\n  && {\n    color: #e22d2d;\n    background-color: #ffffff;\n    border-color: #e22d2d;\n    border: 1.8px solid;\n    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    &:focus {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n    &:active {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n    &:disabled {\n      background-color: #ffffff;\n      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0);\n    }\n  }\n`\n\n/**\n * Reusable action button component\n */\nexport const ActionButton = ({color, size, direction, ...props}) => {\n  if (direction === 'right') {\n    return (\n      <Button size={size} {...props}>\n        <KeyboardArrowRightIcon fontSize={'large'} />\n      </Button>\n    )\n  } else if (direction === 'left') {\n    return (\n      <Button size={size} {...props}>\n        <KeyboardArrowLeftIcon fontSize={'large'} />\n      </Button>\n    )\n  } else if (direction === 'next') {\n    return (\n      <Button size={size} {...props}>\n        <ArrowForwardIcon fontSize={'large'} />\n      </Button>\n    )\n  } else if (direction === 'cancel') {\n    return (\n      <Button size={size} {...props}>\n        <CloseIcon fontSize={'large'} />\n      </Button>\n    )\n  }\n}\n\nActionButton.propTypes = {\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  direction: PropTypes.oneOf(['right', 'left', 'next', 'cancel']),\n  onClick: PropTypes.func,\n}\n\nexport default ActionButton\n","import {useEffect, useState} from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\nimport LanguageIcon from '@material-ui/icons/Language'\nimport Paper from '@material-ui/core/Paper'\nimport styled, {keyframes} from 'styled-components'\nimport {fadeIn} from 'react-animations'\n// import i18n from '../../../language/i18n'\n\nconst Container = styled.div`\n  z-index: 1000 !important;\n  cursor: pointer;\n`\n\nconst Content = styled.div<{row?: boolean}>`\n  display: flex;\n  flex-direction: ${(props) => (props.row ? 'row' : 'column')};\n  justify-content: space-evenly;\n  align-items: center;\n`\nconst Language = styled.div`\n  display: flex;\n  height: 100%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n`\n\nconst Text = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n`\nconst Selection = styled.div<{value: string; name: string}>`\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n  align-items: center;\n  padding-left: 7%;\n`\nconst Wrapper = styled.div`\n  padding: 5%;\n`\nconst Image = styled.img`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  padding: 1%;\n`\nfunction LanguageSelectorMobile({applyLanguage, lang = 'ENGLISH'}) {\n  const [toggle, setToggle] = useState(false)\n  const [language, setLanguage] = useState(lang)\n\n  // app detect initial language\n  useEffect(() => {\n    applyLanguage(navigator.language)\n    if (navigator.language.includes('en')) {\n      setLanguage('ENGLISH')\n    } else if (navigator.language.includes('ko')) {\n      setLanguage('KOREAN')\n    }\n  }, [])\n\n  // handle manual language changes\n  useEffect(() => {\n    if (language === 'ENGLISH') {\n      applyLanguage('en')\n    } else if (language == 'KOREAN') {\n      applyLanguage('ko')\n    }\n  }, [language])\n\n  const changeLanguage = (event) => {\n    setLanguage(event.currentTarget.attributes['value'].value)\n\n    setToggle(false)\n  }\n\n  if (toggle) {\n    return (\n      <Container>\n        <Content row onClick={() => setToggle(false)}>\n          <Text style={{whiteSpace: 'nowrap'}}>\n            <LanguageIcon />\n            <span>&#160;</span>{' '}\n          </Text>\n\n          <Content row onClick={() => setToggle(false)}>\n            <Language>{language}</Language>\n            <ExpandLessIcon style={{color: '#626262'}}></ExpandLessIcon>\n          </Content>\n        </Content>\n        <Paper\n          style={{position: 'absolute', zIndex: 1000, width: '150px', height: '90px'}}\n          elevation={3}\n        >\n          <Wrapper>\n            <Selection onClick={changeLanguage} value=\"ENGLISH\" name=\"english\">\n              <Image src={'/assets/images/onboarding/english.svg'}></Image>\n              <Language>ENGLISH</Language>\n            </Selection>\n            <Selection onClick={changeLanguage} value=\"KOREAN\" name=\"korean\">\n              <Image src={'/assets/images/onboarding/korean.svg'}></Image>\n              <Language>한국어</Language>\n            </Selection>\n            {/* <Selection onClick={changeLanguage} value=\"Spanish\" name=\"spanish\">\n              <Image src={'/assets/images/on-bording/english.svg'}></Image>\n              <Language>Español</Language>\n            </Selection>\n            <Selection onClick={changeLanguage} value=\"Vietnamese\" name=\"viet\">\n              <Image src={'/assets/images/on-bording/english.svg'}></Image>\n              <Language>Tiếng Việt</Language>\n            </Selection>\n            <Selection onClick={changeLanguage} value=\"Portuguese\" name=\"port\">\n              <Image src={'/assets/images/on-bording/english.svg'}></Image>\n              <Language>Português</Language>\n            </Selection> */}\n          </Wrapper>\n        </Paper>\n      </Container>\n    )\n  } else {\n    return (\n      <Container>\n        <Content row onClick={() => setToggle(true)}>\n          <Text style={{whiteSpace: 'nowrap'}}>\n            <LanguageIcon />\n            <span>&#160;</span>{' '}\n          </Text>\n          <Content row>\n            <Language>{language}</Language>\n            <ExpandMoreIcon style={{color: '#626262'}}></ExpandMoreIcon>\n          </Content>\n        </Content>\n      </Container>\n    )\n  }\n}\nexport default LanguageSelectorMobile\n","import {createTheme} from '@material-ui/core/styles'\n\nconst GlobalMaterialStyles = createTheme({\n  palette: {\n    primary: {\n      main: '#E22D2D',\n    },\n    secondary: {\n      main: '#CFC5FA',\n    },\n    warning: {\n      main: '#fff176',\n    },\n  },\n  shape: {\n    borderRadius: 16,\n  },\n  typography: {\n    fontFamily: 'Open Sans',\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        fontFamily: 'Open Sans',\n        fontWeight: 'bold',\n        fontStyle: 'normal',\n        borderRadius: '16px',\n      },\n      outlinedPrimary: {\n        border: '2px solid',\n        '&:hover': {\n          border: '2px solid',\n        },\n      },\n    },\n  },\n})\n\nexport default GlobalMaterialStyles\n","import {createGlobalStyle} from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n\n:root {\n    --primary-color:#E22D2D;\n    --primary-dark:#B41818;\n    --primary-lite:#E95D5D;\n    --pimary-extra-lite:#FCCECE;\n\n    --secondary-color:#5F6DCB;\n    --secondary-dark:#394179;\n    --secondary-lite:#8D98F5;\n    --secondary-extra-lite:#D4D4FF;\n\n    --text-black: #000000;\n    --text-gray:#706E6E;\n    --text-highlite:#4870B8;\n}\n\n p{\n    font-family: 'Open Sans';\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n\n }\n  \n  h1{\n  \n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 26px;\n    line-height: 27px;\n    text-align: center;\n    letter-spacing: 0.164211px;\n  }\n\n  h3{\n    \n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 18px;\n    text-align: center;\n    letter-spacing: -0.0853333px;\n  }\n  \n  body {\n    \n    margin: 0;\n    padding: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    font-Weight: \"bold\";\n    font-Style: \"normal\";\n    border-Radius: \"16px\";\n  \n    line-height: 22px;\n    text-align: center;\n    letter-spacing: -0.0693333px;\n    }\n\n  \n`\n\nexport default GlobalStyles\n","import React, {useState, useEffect, useRef, Suspense} from 'react'\nimport {useHistory} from 'react-router-dom'\n// Components\nimport CardIndicator from './components/CardIndicator'\nimport Button from './components/Button'\nimport ActionButton from './components/ActionButton'\nimport LanguageSelectorMobile from './components/LanguageSelectorMobile'\n// Global Store\n// import {languageStore} from '../../store/globalStore'\n\n// Style library\nimport styled, {keyframes} from 'styled-components'\nimport {fadeIn} from 'react-animations'\n\n// Multilanguage page content object\nimport {withTranslation} from 'react-i18next'\nimport {useTranslation} from 'react-i18next'\n// import i18n from '../../language/i18n'\nimport {ThemeProvider} from '@material-ui/core/styles'\n\nimport GlobalMaterialStyles from '../../styles/globalMaterialStyles'\n\n// Defines global styles for User styled components\nimport GlobalStyles from '../../styles/globalStyles'\nimport {createGesture, Gesture, useIonRouter} from '@ionic/react'\n\nimport {useSwipeable} from 'react-swipeable'\n\n// Styles\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n    padding-top: 5%;\n    padding-bottom: 5%;\n  }\n`\nconst Wrapper = styled.div`\n  width: 80%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst Navigator = styled.div`\n  height: 80%;\n  padding: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 600px) {\n    height: 6%;\n    width: 100%;\n    padding: 2%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n  }\n`\n\nconst PrevBar = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (max-width: 600px) {\n    display: none;\n  }\n`\nconst NextBar = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (max-width: 600px) {\n    display: none;\n  }\n`\nconst SkipBarMobile = styled.div`\n  @media (max-width: 600px) {\n    display: none;\n  }\n`\n\nconst SkipBar = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 5%;\n  padding-left: 5%;\n  @media (min-width: 600px) {\n    display: none;\n  }\n`\n\nconst Content = styled.div`\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-self: center;\n  align-items: center;\n  @media only screen and (min-width: 600px) {\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n  }\n  @media (min-width: 600px) {\n    height: 80%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  @media (min-width: 1200px) {\n    width: 80%;\n    height: 80%;\n  }\n`\nconst NavButtons = styled.p`\n  padding: 1%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1px;\n  letter-spacing: 0.5px;\n  color: #626262;\n  width: max-content;\n  cursor: pointer;\n`\n\nconst NavigatorBarMobile = styled.div`\n  height: 5%;\n  width: 80%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  @media (min-width: 600px) {\n    display: none;\n  }\n`\nconst NavigatorBar = styled.div`\n  height: 20%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 600px) {\n    display: none;\n  }\n`\nconst Internals = styled.div`\n  height: 80%;\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n`\nconst Image = styled.img`\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  width: 100%;\n  height: 70%;\n`\nconst Title = styled.h3`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n`\nconst Text = styled.div`\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  padding-top: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const OnBoardingPage: React.FC = () => {\n  // const navController = useStore((state) => state.navController)\n  // const router = useIonRouter()\n\n  const history = useHistory()\n  const [activeCard, setActiveCard] = useState(0)\n  const {t, i18n} = useTranslation()\n  \n\n  // useEffect(() => () => console.log('unmount'), [])\n\n  const handleLanguageChange = (language) => {\n    i18n.changeLanguage(language)\n  }\n\n  // Redirect operation to next view\n  const redirect = () => {\n    history.push('/sign-up', 'forward')\n  }\n\n  // Next card\n  const next = () => {\n    setActiveCard(Math.min(cards.length - 1, activeCard + 1))\n  }\n  // Previous card\n  const prev = () => {\n    setActiveCard(Math.max(0, activeCard - 1))\n  }\n  const skip = () => {\n    setActiveCard(cards.length - 1)\n  }\n  const handlers = useSwipeable({\n    onSwipedLeft: () => next(),\n    onSwipedRight: () => prev(),\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: true,\n  })\n\n  // Available cards\n  var cards = [\n    {\n      id: 1,\n      title: t('onbording.title1'),\n      image: '/assets/images/onboarding/feature1.min.svg',\n      description: t('onbording.description1'),\n    },\n    {\n      id: 2,\n      title: t('onbording.title2'),\n      image: '/assets/images/onboarding/feature2.min.svg',\n      description: t('onbording.description2'),\n    },\n    {\n      id: 3,\n      title: t('onbording.title3'),\n      image: '/assets/images/onboarding/feature3.min.svg',\n      description: t('onbording.description3'),\n    },\n  ]\n  const isLast = activeCard === cards.length - 1\n  const isFirst = activeCard === 0\n\n  return (\n    <Container>\n      <Wrapper {...handlers}>\n        <Navigator>\n          <SkipBar>\n            <LanguageSelectorMobile applyLanguage={handleLanguageChange} />\n            <NavButtons style={isLast ? {opacity: 0} : {opacity: 100}} onClick={skip}>\n              {t('onbording.skip')}\n            </NavButtons>\n          </SkipBar>\n\n          <PrevBar>\n            <SkipBarMobile>\n              <LanguageSelectorMobile applyLanguage={handleLanguageChange} />\n            </SkipBarMobile>\n            <ActionButton\n              color=\"secondary\"\n              size=\"medium\"\n              direction=\"left\"\n              style={activeCard === 0 ? {opacity: 0} : {opacity: 100}}\n              onClick={prev}\n            ></ActionButton>\n            <div></div>\n          </PrevBar>\n        </Navigator>\n\n        <Content>\n          <Feature styles={{height: '100%'}} current={activeCard} cards={cards} />\n\n          <NavigatorBar>\n            <div style={{display: isLast ? 'none' : 'inline'}}>\n              <CardIndicator size={3} position={activeCard}></CardIndicator>\n            </div>\n            <div style={{display: isLast ? 'inline' : 'none', width: '40%'}}>\n              <Button label={t('onbording.button')} onClick={redirect}></Button>\n            </div>\n          </NavigatorBar>\n        </Content>\n        <Navigator>\n          <NextBar>\n            <SkipBarMobile>\n              <NavButtons style={isLast ? {opacity: 0} : {opacity: 100}} onClick={skip}>\n                <div>{t('onbording.skip')}</div>\n              </NavButtons>\n            </SkipBarMobile>\n            <ActionButton\n              color=\"secondary\"\n              size=\"medium\"\n              direction=\"right\"\n              style={activeCard !== 2 ? {display: 'flex'} : {display: 'none'}}\n              onClick={next}\n            ></ActionButton>\n            <div></div>\n          </NextBar>\n\n          <NavigatorBarMobile>\n            <NavButtons style={{opacity: isFirst ? 0 : 100}} onClick={prev}>\n              {t('onbording.prev')}\n            </NavButtons>\n            <div style={{display: isLast ? 'none' : 'inline'}}>\n              <CardIndicator size={3} position={activeCard}></CardIndicator>\n            </div>\n            <NavButtons style={{display: isLast ? 'none' : 'inline'}} onClick={next}>\n              {t('onbording.next')}\n            </NavButtons>\n            <Button\n              style={isLast ? {display: 'inline', width: '50%'} : {display: 'none'}}\n              label={t('onbording.button')}\n              onClick={redirect}\n            ></Button>\n          </NavigatorBarMobile>\n        </Navigator>\n      </Wrapper>\n    </Container>\n  )\n}\n\nfunction Feature({current, cards, ...props}) {\n  const ref = useRef()\n\n  React.useEffect(() => {\n    if (ref.current) {\n      const gesture: Gesture = createGesture({\n        el: ref.current,\n        threshold: 15,\n        gestureName: 'my-gesture',\n        onMove: (ev) => console.log(ev),\n      })\n      gesture.enable()\n      return () => {\n        gesture.destroy()\n      }\n    }\n  }, [ref])\n\n  return (\n    <Internals ref={ref} key={current}>\n      <Image src={cards[current].image} alt=\"ilustration\"></Image>\n      <Text>\n        <Title>{cards[current].title}</Title>\n        <div style={{width: '100%', whiteSpace: 'pre-line'}}>\n          <p>{cards[current].description}</p>\n        </div>\n      </Text>\n    </Internals>\n  )\n}\n\nconst OnBoardingPageWithTranslation = withTranslation()(OnBoardingPage)\n\nconst OnBoarding: React.FC = () => (\n  <ThemeProvider theme={GlobalMaterialStyles}>\n    <Suspense fallback={<div>Loading...</div>}>\n      <GlobalStyles />\n      <OnBoardingPageWithTranslation />\n    </Suspense>\n  </ThemeProvider>\n)\nexport default OnBoarding\n","import {useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport InputBase from '@material-ui/core/InputBase'\n// import InputAdornment from '@material-ui/core/InputAdornment'\nimport styled from 'styled-components'\nimport Paper from '@material-ui/core/Paper'\n\nconst Wrapper = styled.div`\n  padding: 2%;\n  border-radius: 16px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n`\nconst Container = styled(Paper)`\n  && {\n    box-shadow: 0px 4px 10px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 16px;\n    margin-top: 3%;\n    margin-bottom: 3%;\n    caret-color: red;\n  }\n`\nconst Icon = styled.img`\n  margin-right: 2.5%;\n`\n\nexport const Input = ({ error, type, value, placeholder, ...props}) => {\n  // Hooks\n  useEffect(() => {}, [error])\n\n  return (\n    <Container elevation={3}>\n      <Wrapper\n        style={{\n          boxShadow: error ? '0px 0px 0px 1.5px #E22D2D' : 'none',\n        }}\n      >\n        <InputBase\n          // key={key}\n          //style={{ color: invalidInput }}\n          color=\"secondary\"\n          autoComplete=\"new-password\"\n          placeholder={placeholder}\n          error={error}\n          type={type}\n          //label={label}\n          value={value}\n          fullWidth={true}\n          {...props}\n        ></InputBase>\n\n        <Icon\n          style={{\n            opacity: error ? '100%' : '0%',\n          }}\n          src=\"/assets/images/authentication/invalid.svg\"\n          alt=\"warning\"\n        ></Icon>\n      </Wrapper>\n    </Container>\n  )\n}\n\nInput.propTypes = {\n  type: PropTypes.oneOf(['Email', 'Password', 'Text']),\n  label: PropTypes.string.isRequired,\n}\nexport default Input\n","import FormControl from '@material-ui/core/FormControl'\nimport IconButton from '@material-ui/core/IconButton'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport InputBase from '@material-ui/core/InputBase'\nimport Paper from '@material-ui/core/Paper'\nimport Visibility from '@material-ui/icons/Visibility'\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\nimport React, {useEffect} from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled(Paper)`\n  && {\n    box-shadow: 0px 4px 10px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 16px;\n    margin-top: 3%;\n    margin-bottom: 3%;\n    caret-color: red;\n  }\n`\n\nexport default function PasswordInput({error, type, label, value, ...props}) {\n  const [values, setValues] = React.useState({\n    showPassword: false,\n  })\n\n  useEffect(() => {}, [error])\n\n  const handleChange = (prop) => (event) => {\n    setValues({...values, [prop]: event.target.value})\n  }\n\n  const handleClickShowPassword = () => {\n    setValues({...values, showPassword: !values.showPassword})\n  }\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault()\n  }\n\n  return (\n    <Container elevation={3} style={{marginTop: '2%', marginBottom: '2%'}}>\n      <FormControl\n        style={{\n          padding: '2%',\n          display: 'flex',\n          borderRadius: '16px',\n          boxShadow: error ? '0px 0px 0px 1.5px #E22D2D' : 'none',\n        }}\n      >\n        <InputBase\n          //label=\"Password\"\n          name=\"Password\"\n          color=\"secondary\"\n          error={error}\n          type={values.showPassword ? 'text' : 'password'}\n          value={value}\n          onChange={handleChange('password')}\n          {...props}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                style={{color: '#212121'}}\n                aria-label=\"toggle password visibility\"\n                onClick={handleClickShowPassword}\n                onMouseDown={handleMouseDownPassword}\n              >\n                {values.showPassword ? <Visibility /> : <VisibilityOff />}\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n      </FormControl>\n    </Container>\n  )\n}\n","import i18n from 'i18next'\nimport Backend from 'i18next-http-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport {initReactI18next} from 'react-i18next'\n\ni18n\n  .use(Backend) // load translation  see /public/locales.\n\n  // .use(LanguageDetector) // detect user language\n\n  .use(initReactI18next) // pass the i18n instance to react-i18next.\n\n  .init({\n    backend: {\n      // translations are in the locales assets folder\n      loadPath: '/assets/locales/{{lng}}/{{ns}}.json',\n      addPath: '/assets/locales/add/{{lng}}/{{ns}}',\n      allowMultiLoading: false,\n    },\n    // defaultNS: 'translation',\n    fallbackLng: 'en', // if user computer language is not on the list of available languages, than we will be using the fallback language specified earlier\n    debug: false,\n\n    interpolation: {\n      escapeValue: false,\n    },\n  })\n\nexport default i18n;\n","import create from 'zustand'\n\nexport const languageStore = create((set, get) => ({\n  language: 'en',\n}))\n\nexport const libraryStore = create<{\n  category: any\n}>((set, get) => ({\n  category: 'General',\n  setCategory: (category) => set({ category }),\n  //count: () => get().username.length,\n}))\nexport const authenticationStore = create<{\n  authComponentState: string\n  userName: string\n  userEmail: string\n}>((set, get) => ({\n  authComponentState: 'auth',\n  userName: '',\n  userEmail: '',\n  // setUserName: (userName) => set({ userName }),\n  // setUserEmail: (useEmail) => set({ useEmail }),\n  // setAuthComponentState: (authComponentState) => set({ authComponentState }),\n}))\n\n\n","import React, {Suspense, useEffect, useState} from 'react'\nimport { useHistory, Redirect } from 'react-router-dom'\n// import { Redirect } from 'react-router'\nimport Button from './components/Button'\nimport Input from './components/Input'\nimport MediaButtons from './components/MediaButtons'\nimport PasswordInput from './components/PasswordInput'\nimport LanguageSelectorMobile from './components/LanguageSelectorMobile'\n// Utility modules\nimport Validator from 'validatorjs'\nimport {SnackbarProvider, useSnackbar} from 'notistack'\nimport '../../language/i18n';\n\n// Material Ui components\nimport Checkbox from '@material-ui/core/Checkbox'\nimport {ThemeProvider} from '@material-ui/core/styles'\n\nimport GlobalMaterialStyles from '../../styles/globalMaterialStyles'\n\n// Global Store\nimport {authenticationStore} from '../../store/globalStore'\n\n// Style library\nimport styled, { keyframes, css } from 'styled-components'\nimport { fadeIn } from 'react-animations'\nimport './Authentication.scss'\n\n// Multilanguage page content object\nimport { useTranslation } from 'react-i18next'\nimport {IonContent, IonPage, IonSpinner, useIonRouter,useIonLoading,useIonAlert} from '@ionic/react'\nimport {Device} from '@capacitor/device'\nimport {App} from '@capacitor/app'\n\nimport {storageHelper} from '../../utils/storageHelper'\n\n// Styles\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-top: 8%;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n`\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Small devices (portrait tablets and large phones, 600px and up) */\n  @media only screen and (min-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Medium devices (landscape tablets, 768px and up) */\n  @media only screen and (min-width: 768px) {\n    width: 50%;\n    height: 100%;\n  }\n\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 40%;\n    height: 90%;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 30%;\n    height: 90%;\n  }\n`\nconst Header = styled.div<{login?: boolean}>`\n  position: relative;\n  padding-top: 5%;\n  height: 10%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ${(props) =>\n    props.login &&\n    css`\n      height: 10%;\n    `}\n`\nconst Body = styled.div<{login?: boolean}>`\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ${(props) =>\n    props.login &&\n    css`\n      height: 70%;\n    `}\n`\nconst Footer = styled.div<{login?: boolean}>`\n  height: 10%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  ${(props) =>\n    props.login &&\n    css`\n      height: 10%;\n    `}\n`\n\nconst Row = styled.div`\n  padding-top: 2%;\n  line-height: 5px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n`\nconst Content = styled.div`\n  height: 20%;\n  display: flex;\n  padding: 3%;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Form = styled.div`\n  margin-left: 2%;\n  margin-right: 2%;\n  padding-left: 2%;\n  padding-right: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst Logo = styled.div`\n  padding: 2%;\n  position: fixed;\n  top: 0px !important;\n  left: 0px !important;\n  @media only screen and (max-width: 1200px) {\n    opacity: 0;\n  }\n`\nconst LanguageSelector = styled.div`\n  margin: 2%;\n  padding: 2%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n`\n\nconst LogoSignUp = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    align-self: flex-end;\n  }\n  @media only screen and (min-width: 1200px) {\n    opacity: 0;\n  }\n`\n\nconst LogoLogin = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    align-self: flex-end;\n  }\n`\nconst Image = styled.img`\n  animation: 1s ${keyframes`${fadeIn}`};\n  padding: 2%;\n`\nconst Title = styled.h1`\n  padding-left: 5%;\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: bold;\n  text-align: start;\n  letter-spacing: -0.0853333px;\n  color: #212121;\n`\nconst SubTitle = styled.p`\n  margin: 1%;\n  padding-left: 5%;\n\n  font-style: normal;\n  font-weight: normal;\n  text-align: start;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n`\nconst Text = styled.p<{noMargin?: boolean}>`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n  ${(props) =>\n    props.noMargin &&\n    css`\n      margin: 0%;\n    `}\n`\nconst Highlite = styled.span`\n  font-weight: 600;\n  color: #4870b8;\n  font-style: normal;\n  font-weight: bold;\n  line-height: 16px;\n  letter-spacing: -0.288px;\n  '&:hover': {\n    cursor: pointer;\n  }\n`\nconst Link = styled.div`\n  display: flex;\n`\n\nconst Box = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 2% 5%;\n`\nconst Line = styled.p`\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid #747474;\n  line-height: 0.1em;\n  margin: 10px 0 20px;\n`\nconst Tag = styled.span`\n  padding-left: 5%;\n  padding-right: 5%;\n  color: #747474;\n  background: #fff;\n  font-weight: 600;\n  font-size: 10px;\n`\n\nconst NavButtons = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 5%;\n`\n\nexport const AuthenticationPage = () => {\n  // Page content based on injected Language\n  const {t, i18n} = useTranslation()\n  const router = useIonRouter()\n  const history = useHistory()\n  // local state\n  const authComponentState = authenticationStore((store) => store.authComponentState)\n  const {enqueueSnackbar} = useSnackbar()\n  // const [present, dismiss] = useIonToast();\n\n  const [present, dismiss] = useIonLoading();\n  const [pres] = useIonAlert()\n  const [inputs, setInputs] = useState({\n    Name: '',\n    Email: '',\n    Confirmation: '',\n    Password: '',\n    Terms: null,\n    Privacy: null,\n  })\n\n  const [errors, setErrors] = useState({\n    Name: false,\n    Email: false,\n    Confirmation: false,\n    Password: false,\n    Terms: false,\n    Privacy: false,\n  })\n\n\n\n  useEffect(() => {\n    i18n.changeLanguage('en')\n  }, [errors])\n\n  \n\n  //Events\n  const logIn = async () => {\n    \n    let data = {...inputs}\n    let rules = {\n      Email: 'required|email',\n      Password: 'required',\n    }\n    // validates fields based on rules\n    //@ts-ignore\n    let validation = new Validator(data, rules)\n\n    if (validation.fails()) {\n      let errorMessages = [...Object.values(validation.errors.errors)]\n      let errorFields = [...Object.keys(validation.errors.errors)]\n\n      displayErrors(errorFields)\n      enqueueSnackbar(errorMessages[0], {preventDuplicate: true})\n    } else {\n      // history.push('/home')\n      //   const user = this.loginForm.value\n      // user.email = this.loginForm.value.email.trim().toLowerCase()\n      // user.loginType = 'Email'\n      // user.userPlatform = this.userPlatform\n      present({\n        message: 'Please Wait...',\n      })\n      let appInfo\n      try {\n        appInfo = await App.getInfo()\n      } catch {}\n      const info = await Device.getInfo()\n      const userPlatform = `${info.manufacturer} ( ${info.platform} ) ${info.model} ( ${info.osVersion} ) - ${appInfo?.version}`\n\n      const baseUrl = process.env.REACT_APP_API_URL\n\n      const res = await fetch(baseUrl + '/user/authenticate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: inputs.Email,\n          password: inputs.Password,\n          loginType: 'Email',\n          userPlatform,\n        }),\n      }).then((res) => res.json())\n      //return this.apiService.postWithoutToken('/user/authenticate', user)\n\n      // storageHelper\n      if (res.error) {\n        dismiss()\n        enqueueSnackbar(res.error, {preventDuplicate: true})\n      } else if (res.token) {\n        dismiss()\n        await storageHelper.setNativeStorage('token', res.token)\n        history.push('/dashboard/lessons')\n      }\n    }\n  }\n\n  const signUp = async () => {\n   \n    let data = {...inputs}\n    let rules = {\n      Name: 'required',\n      Email: 'required|email',\n      Confirmation: 'required|same:Email',\n      Password: 'required',\n      Terms: 'accepted',\n      Privacy: 'accepted',\n    }\n    const baseUrl = process.env.REACT_APP_API_URL\n\n    // validates fields based on rules\n    //@ts-ignore\n    let validation = new Validator(data, rules)\n\n    if (validation.fails()) {\n      \n      let errorMessages = [...Object.values(validation.errors.errors)]\n      let errorFields = [...Object.keys(validation.errors.errors)]\n\n      displayErrors(errorFields)\n\n      let errorNotification\n\n      if (errorMessages[0][0].includes('Privacy')) {\n        errorNotification = ' You must accept Privacy Policy'\n      } else if (errorMessages[0][0].includes('Terms')) {\n        errorNotification = ' You must accept Terms of Service'\n      } else {\n        errorNotification = errorMessages[0][0]\n      }\n      enqueueSnackbar(errorNotification, {preventDuplicate: true})\n      \n    } else {\n      present({\n        message: 'Please Wait...',\n      })\n      let appInfo\n      try {\n        appInfo = await App.getInfo()\n      } catch {}\n      const info = await Device.getInfo()\n      const userPlatform = `${info.manufacturer} ( ${info.platform} ) ${info.model} ( ${info.osVersion} ) - ${appInfo?.version}`\n\n      const res = await fetch(baseUrl + '/user/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: inputs.Email,\n          password: inputs.Password,\n          loginType: 'Email',\n          userPlatform,\n          fullName: inputs.Name,\n        }),\n      }).then((res) => res.json())\n      //return this.apiService.postWithoutToken('/user/authenticate', user)\n      // storageHelper\n      if (res.error) {\n        dismiss()\n        let errorMail = 'An account with this email address already exists.'\n        enqueueSnackbar(errorMail, {preventDuplicate: true})\n      } else if (res) {\n        const res = await fetch(baseUrl + '/user/authenticate', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            email: inputs.Email,\n            password: inputs.Password,\n            loginType: 'Email',\n            userPlatform,\n          }),\n        }).then((res) => res.json())\n        //return this.apiService.postWithoutToken('/user/authenticate', user)\n\n        // storageHelper\n\n        if (res.token) {\n          dismiss()\n          storageHelper.setNativeStorage('token', res.token)\n          storageHelper.setNativeStorage('isOnBoarding', true)\n          storageHelper.setNativeStorage('isHelpModeDone', false)\n          storageHelper.setNativeStorage('isHelpScreenForDictationStepDone', false)\n          storageHelper.setNativeStorage('isHelpScreenForReviewStepDone', false)\n          storageHelper.setNativeStorage('isHelpScreenForPracticeStepDone', false)\n          storageHelper.setNativeStorage('isTodayLessonHelpModeDone', false)\n          storageHelper.setNativeStorage('isReviewHelpModeDone', false)\n          router.push('/post-boarding','forward')\n          pres({\n            mode: 'md',\n            cssClass: 'signupAlert',\n            subHeader: \"Welcome! your account has been successfully created!\",\n            message: \"I have some questions for you to personalize your learning.\",\n            buttons: [\n              {\n                text: 'Okay',\n                role: 'cancel',\n                cssClass: 'startLessonCancelBtn',\n              },\n            ],\n          })\n          \n        }\n      } else {\n\n        history.push('/login')\n        authenticationStore.setState({authComponentState: 'login'})\n\n      }\n    }\n  }\n\n\n  const handleLanguageChange = (language) => {\n    i18n.changeLanguage(language)\n  }\n\n  // checks which fieal has error and updates state\n  const displayErrors = (errorFields) => {\n    const state = {\n      Name: errors.Name,\n      Email: errors.Email,\n      Confirmation: errors.Confirmation,\n      Password: errors.Password,\n      Terms: errors.Terms,\n      Privacy: errors.Privacy,\n    }\n    for (const field in state) {\n      if (errorFields.includes(field)) {\n        state[field] = true\n      } else {\n        state[field] = false\n      }\n    }\n    setErrors(state)\n  }\n\n  // Handle Input change of Privacy and Terms of service\n  const handleBoxChange = (event) => {\n    setInputs({...inputs, [event.target.name]: event.target.checked})\n   \n  }\n\n  const handleInputChange = (event) => {\n    setInputs({...inputs, [event.target.name]: event.target.value})\n  }\n \n  // resets input state when you switch between signup and login.\n\n  const resetInputState = () => {\n    setInputs({\n      Name: '',\n      Email: '',\n      Confirmation: '',\n      Password: '',\n      Terms: null,\n      Privacy: null,\n    })\n    setErrors({\n      Name: false,\n      Email: false,\n      Confirmation: false,\n      Password: false,\n      Terms: false,\n      Privacy: false,\n    })\n  }\n  \n  // const postBoarding = () => {\n  //   router.push('/post-boarding','forward')\n  //   // authenticationStore.setState({authComponentState: 'signUp'})\n  //   //   history.push('/sign-up', 'forward')\n  // }\n\n  if (authComponentState === 'auth') {\n    return (\n      <Wrapper>\n        <Container>\n          <LanguageSelector style={{}}>\n            <LanguageSelectorMobile applyLanguage={handleLanguageChange} />\n          </LanguageSelector>\n          <Image\n            key={1}\n            src={'/assets/images/authentication/logo.min.svg'}\n            alt=\"Logo\"\n          ></Image>\n          <Content>\n            <Image src={'/assets/images/authentication/title.svg'} alt=\"img\"></Image>\n          </Content>\n          <Content style={{alignItems: 'start'}}>\n            <Image src={'/assets/images/authentication/cloud.min.svg'} alt=\"img\"></Image>\n          </Content>\n          <NavButtons>\n            <Button\n              style={{margin: '3%'}}\n              label={t('authentication.button1')}\n              size=\"medium\"\n              onClick={() => { \n                authenticationStore.setState({authComponentState: 'signUp'})\n              }}\n            ></Button>\n            <Button\n              style={{margin: '3%'}}\n              variant=\"outlined\"\n              size=\"medium\"\n              label={t('authentication.button3')}\n              onClick={() => {\n                // history.push('/login')\n                authenticationStore.setState({authComponentState: 'login'})}}\n            ></Button>\n          </NavButtons>\n        </Container>\n      </Wrapper>\n    )\n  } else if (authComponentState === 'login') {\n    return (\n      <Wrapper>\n        <Container>\n          <Header login>\n            <LogoLogin>\n              <Image\n                key={1}\n                src={'/assets/images/authentication/logo3.min.svg'}\n                alt=\"Logo\"\n              ></Image>\n            </LogoLogin>\n          </Header>\n          <Body login>\n            <Title>{t('authentication.login')}</Title>\n            <br></br>\n            <Form key={'login'}>\n              <Input\n                key={'Email'}\n                name=\"Email\"\n                type=\"Email\"\n                label=\"Email\"\n                placeholder=\"Email\"\n                error={errors.Email}\n                value={inputs.Email}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Email: false})\n                }}\n              />\n\n              <PasswordInput\n                name=\"Password\"\n                type=\"Password\"\n                label=\"Password\"\n                placeholder=\"Password\"\n                error={errors.Password}\n                value={inputs.Password}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Password: false})\n                }}\n              />\n              <Link style={{justifyContent: 'flex-end'}} >\n                <span onClick={() => history.push('/forgot-pw','forward')}>\n                  <Text>\n                    <Highlite \n                    style={{cursor: 'pointer'}}>\n                      {t('authentication.forgot')}\n                    </Highlite>\n                  </Text>\n                </span>\n              </Link>\n            </Form>\n            <NavButtons>\n              <Button\n                style={{margin: '3%'}}\n                size=\"medium\"\n                label={t('authentication.button2')}\n                onClick={() => logIn()}\n              ></Button>\n            </NavButtons>\n            \n            <Footer login>\n              <Text>\n                {t('authentication.noAccount')}\n                <Highlite\n                  style={{cursor: 'pointer'}}\n                  onClick={() => {\n                    resetInputState()\n                    // history.push('/sign-up', 'forward')\n                    authenticationStore.setState({authComponentState: 'signUp'})\n                  }}\n                >\n                  {' '}\n                  {t('authentication.noAccount2')}{' '}\n                </Highlite>\n                {t('authentication.noAccount3')}\n              </Text>\n            </Footer>\n          </Body>\n        </Container>\n      </Wrapper>\n    )\n  } else if (authComponentState === 'signUp') {\n    return (\n      <Wrapper>\n        <Container>\n          <Logo>\n            <Image\n              key={1}\n              src={'/assets/images/authentication/logo3.min.svg'}\n              alt=\"Logo\"\n            ></Image>\n          </Logo>\n          <Header>\n            <LogoSignUp>\n              <Image\n                key={2}\n                src={'/assets/images/authentication/logo3.min.svg'}\n                alt=\"Logo\"\n              ></Image>\n            </LogoSignUp>\n          </Header>\n          <Body>\n            <Title>{t('authentication.signUp')}</Title>\n            <SubTitle>\n              {t('authentication.subtitle1')}\n              <Highlite> {t('authentication.subtitle2')} </Highlite>\n              {t('authentication.subtitle3')}\n            </SubTitle>\n            <br></br>\n            <Form key={'signUp'}>\n              <Input\n                key={'Name'}\n                name=\"Name\"\n                type=\"Text\"\n                label=\"Name\"\n                error={errors.Name}\n                placeholder=\"Name\"\n                value={inputs.Name}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Name: false})\n                }}\n              />\n              <Input\n                key={'Email'}\n                name=\"Email\"\n                type=\"Email\"\n                label=\"Email\"\n                placeholder=\"Email\"\n                error={errors.Email}\n                value={inputs.Email}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Email: false})\n                }}\n              />\n              <Input\n                key={'Confirmation'}\n                name=\"Confirmation\"\n                type=\"Email\"\n                label=\"confirmEmail\"\n                error={errors.Confirmation}\n                placeholder=\"Confirm Email\"\n                value={inputs.Confirmation}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Confirmation: false})\n                }}\n              />\n              <PasswordInput\n                name=\"Password\"\n                type=\"Password\"\n                label=\"Password\"\n                placeholder=\"Password\"\n                error={errors.Password}\n                value={inputs.Password}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setErrors({...errors, Password: false})\n                }}\n              />\n              <Row style={{marginTop: '2%'}}>\n                <Checkbox\n                  style={{padding: '2px'}}\n                  checked={inputs.Terms}\n                  onChange={handleBoxChange}\n                  name=\"Terms\"\n                  color=\"primary\"\n                />\n                <Text noMargin>\n                  {t('authentication.terms1')}\n                  <Highlite>\n                    {' '}\n                    <a\n                      rel=\"noopener noreferrer\"\n                      style={{textDecoration: 'none', color: '#4870B8'}}\n                      href=\"https://www.speakypeaky.com/terms-and-conditions\" target=\"_blank\" >\n                      {t('authentication.terms2')}\n                    </a>\n                  </Highlite>\n                </Text>\n              </Row>\n              <Row>\n                <Checkbox\n                  style={{padding: '2px'}}\n                  checked={inputs.Privacy}\n                  onChange={handleBoxChange}\n                  name=\"Privacy\"\n                  color=\"primary\"\n                />\n                <Text noMargin>\n                  {t('authentication.terms1')}\n                  <Highlite>\n                    {' '}\n                    <a\n                    rel=\"noopener noreferrer\"\n                      style={{textDecoration: 'none', color: '#4870B8'}}\n                      href=\"https://www.speakypeaky.com/privacypolicy\" target=\"_blank\"\n                    >\n                      {t('authentication.terms3')}\n                    </a>{' '}\n                  </Highlite>\n                </Text>\n              </Row>\n            </Form>\n            <NavButtons>\n              <Button\n                style={{margin: '3%'}}\n                size=\"medium\"\n                label={t('authentication.button1')}\n                onClick={() => signUp()}\n              ></Button>\n            </NavButtons>\n            <Footer>\n              <Text>\n                {t('authentication.existAccount')}\n                <Highlite\n                  style={{cursor: 'pointer'}}\n                  onClick={() => {\n                    resetInputState()\n                    // history.push('/login')\n                    authenticationStore.setState({authComponentState: 'login'})\n                  }}\n                >\n                  {' '}\n                  {t('authentication.existAccount2')}{' '}\n                </Highlite>\n                {t('authentication.noAccount3')}\n              </Text>\n            </Footer>\n          </Body>\n        </Container>\n      </Wrapper>\n    )\n  }\n}\n\n// export default AuthenticationPage\n\nconst AuthPage: React.FC = () => {\n  return (\n    <ThemeProvider theme={GlobalMaterialStyles}>\n      <SnackbarProvider\n        style={{\n          width: '95vw',\n          textAlign: 'center',\n          fontFamily: 'Open Sans',\n          fontStyle: 'normal',\n          fontWeight: 600,\n        }}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        maxSnack={1}\n      >\n        <Suspense fallback={<IonSpinner />}>\n          <IonPage>\n            <IonContent>\n              <AuthenticationPage />\n            </IonContent>\n          </IonPage>\n        </Suspense>\n      </SnackbarProvider>\n    </ThemeProvider>\n  )\n}\nexport default AuthPage;\n","// import React, {Fragment, useState, useEffect} from 'react'\n\n// components\nimport Button from './Button'\n\n//Material Ui components\nimport Paper from '@material-ui/core/Paper'\n\n// style libraries\nimport styled, {css} from 'styled-components/macro'\n// import {fadeIn} from 'react-animations'\n\n// Multilanguage page content object\nimport {useTranslation} from 'react-i18next'\n\n// Styles\nconst Wrapper = styled(Paper)`\n  position: absolute;\n  width: 295px;\n  height: 234px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  z-index: 4;\n  filter: drop-shadow(2px 2px 10px rgba(0, 0, 0, 0.5));\n`\n\nconst Title = styled.h1`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 27px;\n  letter-spacing: -0.288px;\n  color: #212121;\n`\nconst SubTitle = styled.p`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: -0.288px;\n  color: #212121;\n`\n\nconst Text = styled.div<{noMargin?: boolean}>`\n  padding: 1%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n  ${(props) =>\n    props.noMargin &&\n    css`\n      margin: 0%;\n    `}\n`\n\nexport const Notification = ({visible, dismiss}) => {\n  // Page content based on injected Language\n  const {t} = useTranslation()\n  return (\n    <Wrapper style={{display: visible ? 'flex' : 'none'}}>\n      <Text>\n        <Title>{t('forgotPassword.notificationTitle')}</Title>\n        <SubTitle>{t('forgotPassword.notificationMessage')} </SubTitle>\n        <br></br>\n        <Button label=\"okay\" variant=\"outlined\" onClick={dismiss}></Button>\n      </Text>\n    </Wrapper>\n  )\n}\n\nexport default Notification\n","import React, {useState, useEffect, Suspense} from 'react'\n//import { Redirect } from \"react-router-dom\";\nimport Button from './components/Button'\nimport Input from './components/Input'\n// import {useHistory} from 'react-router-dom'\nimport {IonContent, IonPage, IonSpinner, useIonRouter} from '@ionic/react'\n\n// User Components\nimport Notification from './components/Notification'\n\n//Material UI components\nimport Backdrop from '@material-ui/core/Backdrop'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos'\n\n// style libraries\nimport styled, {keyframes, css} from 'styled-components/macro'\nimport {fadeIn} from 'react-animations'\n\n// Utility modules\nimport * as Validator from 'validatorjs'\nimport {SnackbarProvider, useSnackbar} from 'notistack'\n\n// Multilanguage page content object\nimport {useTranslation} from 'react-i18next'\n// import {IonSpinner} from '@ionic/react'\nimport {ThemeProvider} from '@material-ui/core/styles'\n\nimport GlobalMaterialStyles from '../../styles/globalMaterialStyles'\n\n// Styles\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 100%;\n    height: 100vh;\n    align-self: center;\n  }\n`\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Small devices (portrait tablets and large phones, 600px and up) */\n  @media only screen and (min-width: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  /* Medium devices (landscape tablets, 768px and up) */\n  @media only screen and (min-width: 768px) {\n    width: 60%;\n    height: 80%;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    width: 30%;\n    height: 80%;\n  }\n`\n\nconst Body = styled.div`\n  padding: 5%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n`\nconst Box = styled.div`\n  padding: 5%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`\nconst BackButton = styled(IconButton)`\n  && {\n    padding: 5%;\n    display: inline;\n    align-self: flex-start;\n    color: #979797;\n  }\n`\n\nconst Logo = styled.div`\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Image = styled.img`\n  animation: 1s ${keyframes`${fadeIn}`};\n  padding: 2%;\n  height: 80%;\n`\nconst Title = styled.h1`\n  text-align: start;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 27px;\n  letter-spacing: -0.288px;\n  color: #212121;\n`\nconst SubTitle = styled.p`\n  text-align: start;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: -0.288px;\n\n  color: #212121;\n`\nconst Form = styled.div`\n  height: 66%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n`\nconst Text = styled.div<{noMargin?: boolean}>`\n  height: 33%;\n  padding: 1%;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  letter-spacing: -0.0853333px;\n  color: #000000;\n  ${(props) =>\n    props.noMargin &&\n    css`\n      margin: 0%;\n    `}\n`\n\nexport const ForgotPasswordPage: React.FC = () => {\n  let history = useIonRouter()\n  // local state\n  const [emailError, setEmailError] = useState(false)\n  const [email, setEmail] = useState('')\n  const [open, setOpen] = useState(false)\n  const {enqueueSnackbar} = useSnackbar()\n\n  // useEffect(() => () => console.log('unmount'), [])\n\n  // Page content based on injected Language\n  const {t, i18n} = useTranslation()\n\n  useEffect(() => {\n    \n  }, [i18n])\n  //Events\n  const handleClose = () => {\n    setOpen(false)\n    history.push('/login')\n  }\n  const handleToggle = () => {\n    setOpen(!open)\n  }\n\n  const previousPage = () => {\n    history.push('/login')\n  }\n\n  const resetPassword = async () => {\n    let rules = {\n      Email: 'required|email',\n    }\n    // validates fields based on rules\n    //@ts-ignore\n    let validation = new Validator({Email: email}, rules)\n\n    if (validation.fails()) {\n      let error = validation.errors.get('Email')\n      setEmailError(true)\n      enqueueSnackbar(error[0], {preventDuplicate: true})\n    } else {\n      /*  TODO  \n        Api call to resetPassword\n      */\n      const baseUrl = process.env.REACT_APP_API_URL\n\n      const userExist = await fetch(baseUrl + '/user/check-user-exist', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: email,\n          loginType: 'Email',\n        }),\n      }).then((res) => res.json())\n\n      if (userExist.isExist === false) {\n        enqueueSnackbar('Email does not exist', {preventDuplicate: true})\n      } else if (userExist.error) {\n        enqueueSnackbar(userExist.error, {preventDuplicate: true})\n      } else {\n        const res = await fetch(baseUrl + '/user/requestPasswordURL', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            email: email,\n          }),\n        }).then((res) => res.json())\n\n        if (res.error) {\n          enqueueSnackbar(res.error, {preventDuplicate: true})\n        } else {\n          handleToggle()\n        }\n      }\n    }\n  }\n\n  // Handle Email Input change\n  const handleInputChange = (event) => {\n    setEmail(event.target.value)\n  }\n\n  return (\n    <Wrapper>\n      <Notification visible={open} dismiss={handleClose} />\n      <Backdrop\n        style={{background: 'rgba(0, 0, 0, 0.5)', zIndex: 2}}\n        open={open}\n      ></Backdrop>\n      <Container>\n        <Body>\n          <BackButton onClick={previousPage}>\n            <ArrowBackIosIcon />\n          </BackButton>\n          <Logo>\n            <Image\n              key={1}\n              src={'/assets/images/authentication/forgotPassword.min.svg'}\n              alt=\"Logo\"\n            ></Image>\n          </Logo>\n          <Box>\n            <Text>\n              <Title>{t('forgotPassword.title')}</Title>\n              <SubTitle>{t('forgotPassword.message')}</SubTitle>\n            </Text>\n            <Form style={{marginTop: 15}}>\n              <Input\n                name=\"Email\"\n                type=\"Email\"\n                label=\"Email\"\n                // key=\"forgotEmail\"\n                error={emailError}\n                placeholder={t('forgotPassword.placeholder')}\n                value={email}\n                onChange={(e) => {\n                  handleInputChange(e)\n                  setEmailError(false)\n                }}\n              />\n\n              <Button\n                size=\"medium\"\n                label={t('forgotPassword.button')}\n                onClick={() => {\n                  resetPassword()\n                }}\n              ></Button>\n            </Form>\n          </Box>\n        </Body>\n      </Container>\n    </Wrapper>\n  )\n}\n\nconst ForgotPassword: React.FC = () => {\n  return (\n    <ThemeProvider theme={GlobalMaterialStyles}>\n      <SnackbarProvider\n        style={{\n          width: '95vw',\n          textAlign: 'center',\n          fontFamily: 'Open Sans',\n          fontStyle: 'normal',\n          fontWeight: 600,\n        }}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        maxSnack={1}\n      >\n        <Suspense fallback={<IonSpinner />}>\n          <IonPage>\n            <IonContent>\n              <ForgotPasswordPage />\n            </IonContent>\n          </IonPage>\n        </Suspense>\n      </SnackbarProvider>\n    </ThemeProvider>\n  )\n}\nexport default ForgotPassword\n","import React, {useEffect, useState} from 'react'\nimport {Suspense} from 'react'\nimport ReactPlayer from 'react-player/youtube'\nimport {\n  IonContent,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonText,\n  IonRow,\n  IonCol,\n  IonSpinner,\n  useIonRouter,\n  IonToggle,\n  useIonToast,\n  IonCardContent,\n  IonCard,\n  useIonAlert,\n  useIonViewWillEnter\n} from '@ionic/react'\nimport ActionButton from './components/ActionButton'\nimport styled, {keyframes, css} from 'styled-components/macro'\nimport {LocalNotifications} from '@capacitor/local-notifications'\nimport {DatePicker} from '@ionic-native/date-picker'\n\n// import {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport {storageHelper} from '../../utils/storageHelper'\nimport {fadeIn} from 'react-animations'\nimport {Button} from './components/Button'\n\nimport {authenticationStore} from '../../store/globalStore'\nimport {fetchApi} from '../../fetchApis'\n\n//Material Ui components\nimport Paper from '@material-ui/core/Paper'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos'\nimport {ThemeProvider} from '@material-ui/core/styles'\nimport GlobalMaterialStyles from '../../styles/globalMaterialStyles'\nimport moment from 'moment'\n\n// Multilanguage page content object\nimport {useTranslation} from 'react-i18next'\nimport {withStyles} from '@material-ui/core/styles'\n// import {setTimeout} from 'timers'\nimport './Postboarding.scss'\n\n// Styles\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-height: 600px) {\n    width: 100%;\n    height: 100%;\n  }\n`\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  /* Extra small devices (phones, 600px and down) */\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    height: 95%;\n  }\n\n  /* Small devices (portrait tablets and large phones, 600px and up) */\n  @media only screen and (min-width: 600px) {\n    width: 100%;\n    height: 95%;\n  }\n  /* Small devices (portrait tablets and large phones, 600px and up) */\n  @media only screen and (min-width: 600px) {\n    overflow-y: auto;\n  }\n\n  /* Medium devices (landscape tablets, 768px and up) */\n  @media only screen and (min-width: 768px) {\n    width: 60%;\n  }\n\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 80%;\n    height: 70%;\n    flex-direction: row;\n  }\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 992px) {\n    height: 50%;\n    flex-direction: row;\n  }\n`\nconst Footer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\nconst Content = styled.div`\n  flex: 6;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    height: 80%;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    height: 80%;\n  }\n`\nconst BackButton = styled(IconButton)`\n  && {\n    padding: 5%;\n    display: inline;\n    align-self: flex-start;\n    color: #979797;\n    @media only screen and (min-width: 992px) {\n      display: none;\n    }\n  }\n`\n\nconst Navigator = styled.div`\n  display: none;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    display: flex;\n    padding-top: 7%;\n  }\n`\nconst Body = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 8;\n  flex-direction: column;\n  justify-content: center;\n`\nconst Mobile = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 992px) {\n    display: none;\n  }\n`\nconst Desktop = styled.div`\n  display: none;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  @media only screen and (min-width: 992px) {\n    display: flex;\n  }\n`\n\nconst GroupDesktop = styled.div`\n  height: 100%;\n  width: 100%;\n  display: none;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    display: flex;\n  }\n`\n\nconst GroupDesktop2 = styled.div`\n  width: 100%;\n\n  display: none;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    display: flex;\n    height: 70%;\n  }\n`\n// const Card = styled(Paper)`\n//   && {\n//     margin: 2%;\n//     height: 80%;\n//     display: flex;\n//     flex: 1;\n//     flex-direction: column;\n//     justify-content: center;\n//     align-items: center;\n//     background: #fdfdfd;\n//     box-shadow: 2px 2px 20px 4px rgba(0, 0, 0, 0.1);\n//     border-radius: 17px;\n//   }\n// `\n\nconst DesktopCard = styled(Paper)<{value: any}>`\n  && {\n    margin: 2%;\n    height: 50%;\n    display: flex;\n    cursor: pointer;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: #fdfdfd;\n    box-shadow: 2px 2px 20px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 17px;\n  }\n`\n\nconst GroupMobile = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  @media only screen and (min-width: 992px) {\n    display: none;\n  }\n\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\n  @media only screen and (min-width: 1200px) {\n    display: none;\n  }\n`\nconst LightRadio = withStyles({\n  root: {\n    color: '#979797',\n    '&$checked': {\n      color: 'primary',\n    },\n  },\n  checked: {},\n})((props) => <Radio color=\"primary\" {...props} />)\n\nconst Question = styled.p`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: 1.2px;\n  color: #e22d2d;\n  mix-blend-mode: normal;\n`\n\nconst Internals = styled.div`\n  padding: 2%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  @media only screen and (min-width: 992px) {\n    padding: 0%;\n  }\n`\nconst VideoWrapper = styled.div`\n  width: 100%;\n  border-radius: 10%;\n  display: flex;\n  flex-direction: center;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Video = styled.div`\n  width: 100%;\n  padding: 2%;\n  border-radius: 10%;\n  display: flex;\n  flex-direction: center;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 50%;\n  }\n`\nconst ButtonWrapper = styled.div`\n  width: 90%;\n  /* Large devices (laptops/desktops, 992px and up) */\n  @media only screen and (min-width: 992px) {\n    width: 40%;\n  }\n`\n\nconst Option = styled(Paper)`\n  margin: 2%;\n  padding: 4%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  && {\n    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n  }\n`\n\nconst Image = styled.img`\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  margin: 0px;\n`\nconst Text = styled.div`\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  text-align: center;\n  font-family: Open Sans;\n`\nconst Title = styled.h3`\n  padding-left: 4%;\n  padding-right: 4%;\n  margin: 1%;\n  animation: 1.5s ${keyframes`${fadeIn}`};\n  text-align: center;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  text-align: center;\n  color: #000000;\n  @media only screen and (min-width: 992px) {\n    text-align: center;\n    font-size: 1.1em;\n  }\n`\nconst SubTitle = styled.span`\n  padding: 5%;\n  text-align: center;\n  font-family: Open Sans;\n  font-style: normal;\n  font-size: 1em;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 19px;\n  letter-spacing: -0.432px;\n  color: #979797;\n  @media only screen and (min-width: 992px) {\n    text-align: center;\n    font-size: 1.1em;\n    padding: 2%;\n  }\n`\nconst Box = styled.div<{col?: boolean}>`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  ${(props) =>\n    props.col &&\n    css`\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    `}\n`\n\nexport const PostBordingPage: React.FC = () => {\n  let history = useIonRouter()\n  const [pres] = useIonAlert()\n  const [present] = useIonToast()\n  const authComponentState = authenticationStore((store) => store.authComponentState)\n  // Local State\n  const totatlQuestions = 3\n  const [question, setQuestion] = useState(1)\n  const [activeCard, setActiveCard] = useState(0)\n  const [isDisabled, toggleDisabled] = useState(true)\n  const [checked] = useState(false)\n  const [complete, setComplete] = useState(false)\n\n  // Form input from 3 Questions\n  const [formOne, setFormOne] = React.useState(null)\n  const [formTwo, setFormTwo] = React.useState(null)\n\n  // reminder\n  const [reminder, setreminder] = useState(false)\n  const [reminderTime, setreminderTime] = useState('')\n\n\n  const handleFormOne = (event) => {\n    setFormOne(event.currentTarget.getAttribute('value'))\n    toggleDisabled(false)\n    if (\n      event.currentTarget.getAttribute('value') != 'Korean' &&\n      event.currentTarget.getAttribute('value') != 1\n    ) {\n      pres({\n        cssClass: 'startBoardingAlert',\n        header: 'Sorry, service in this language is coming soon...',\n        buttons: [\n          {\n            text: 'Okay',\n            role: 'cancel',\n            cssClass: 'startLessonBtn',\n            handler: (blah) => {\n              console.log('Confirm Cancel: blah')\n            },\n          },\n        ],\n      })\n    }\n  }\n  const handleFormTwo = (event) => {\n    setFormTwo(event.currentTarget.getAttribute('value'))\n    toggleDisabled(false)\n  }\n\n  // useEffect(() => () => console.log('unmount'), [])\n\n  // Page content based on injected Language\n  const {t} = useTranslation()\n\n  const changeLanguage = async () => {\n    const lang = await fetchApi('/subTitleLanguages/list')\n\n    const langId = await lang.data.filter((number) => {\n      return number.languageName === formOne\n    })\n    if (formOne === 'Korean') {\n      const res = await fetchApi('/user/set-subtitleLanguage', {\n        method: 'POST',\n        body: JSON.stringify({\n          subTitleLanguageId: langId[0]._id,\n        }),\n      })\n      if (res.error) {\n        await present(`${res.error}`, 1000)\n      } else {\n        await present(`${res.message}`, 1000)\n      }\n    }\n  }\n\n  const changeLevel = async () => {\n    const level = await fetchApi('/changelevel/list')\n    const levelId = level.data.filter((number) => {\n      return number.name === formTwo\n    })\n    const res = await fetchApi('/changelevel/update', {\n      method: 'POST',\n      body: JSON.stringify({\n        userLevelId: levelId[0]._id,\n      }),\n    })\n    if (res.error) {\n      await present(`${res.error}`, 1000)\n    } else {\n      await present(`${res.message}`, 1000)\n    }\n  }\n\n  // back navigation\n  const previousPage = () => {\n    if (question === 1) {\n      history.push('/login')\n    } else if (question > 1) {\n      setActiveCard(Math.min(cards.length - 1, activeCard - 1))\n      setQuestion(question - 1)\n    }\n  }\n\n  // Next Question Card\n  const next = async () => {\n    if (question === 1) {\n      changeLanguage()\n      setActiveCard(Math.min(cards.length - 1, activeCard + 1))\n      setQuestion(question + 1)\n      toggleDisabled(true)\n    } else if (question === 2) {\n      changeLevel()\n      setActiveCard(Math.min(cards.length - 1, activeCard + 1))\n      setQuestion(question + 1)\n      setFormTwo(null)\n    } else {\n      setComplete(true)\n      setTimeout(() => {\n        history.push('/dashboard/lessons', 'forward')\n      }, 2000)\n    }\n  }\n\n  // Available cards\n  var cards = [\n    {\n      id: 1,\n      title: t('postbording.title1'),\n      subTitle: t('postbording.subTitle1'),\n      description: t('description1'),\n    },\n    {\n      id: 2,\n      title: t('postbording.title2'),\n      title2: t('postbording.title2p2'),\n      titleDesktop: t('postbording.titleDesktop'),\n      description: t('description2'),\n    },\n    {\n      id: 3,\n      title: t('postbording.title3'),\n      title2: t('postbording.title3p3'),\n      description: t('description2'),\n    },\n  ]\n\n  const onChangeReminder = (event) => {\n    if (event === false) {\n      storageHelper.removeNativeStorage('reminder')\n      setreminder(false)\n      setreminderTime(undefined)\n      LocalNotifications.cancel({notifications: [{id: 42}]})\n    } else if (event) {\n      setReminder()\n    } else {\n      storageHelper.removeNativeStorage('reminder')\n      setreminderTime(undefined)\n      LocalNotifications.cancel({notifications: [{id: 42}]})\n    }\n  }\n\n  const setReminderTime = async (date) => {\n    const time = new Date(date.getTime())\n    const notifs = await LocalNotifications.schedule({\n      notifications: [\n        {\n          id: 42,\n          title: 'SpeakyPeaky',\n          body: '20 mins a day = big gains in 3 months',\n          schedule: {\n            repeats: true,\n            every: 'day',\n            on: {\n              hour: time.getHours(),\n              minute: time.getMinutes(),\n            },\n          },\n          sound: null,\n          attachments: null,\n          actionTypeId: '',\n          extra: null,\n        },\n      ],\n    })\n    console.log('notify', notifs)\n  }\n  const setReminder = async () => {\n    try {\n      const date = await DatePicker.show({\n        date: new Date(),\n        mode: 'time',\n        androidTheme: DatePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT,\n      })\n\n      storageHelper.setNativeStorage('reminder', date.getTime())\n\n      await setReminderTime(date)\n      setreminderTime(date.getTime().toString())\n      setreminder(true)\n\n      pres({\n        header: 'Reminder is set!',\n        message:\n          'Perfect. We will send you a nudge at <strong>' +\n          `${moment(date).format('LT')}` +\n          '</strong> everyday',\n        cssClass: 'user-level-alert',\n        buttons: ['OK'],\n      })\n    } catch (err) {\n      // console.log('Error occurred while getting date: ', err)\n    }\n  }\n  useIonViewWillEnter(() => {\n    LocalNotifications.requestPermissions()\n    storageHelper.getNativeStorage('reminder').then((reminder) => {\n      console.log(\"reminder\", reminder?.data)\n      \n      if (reminder?.data) {\n        setreminderTime(new Date(reminder.data).toString())\n        setreminder(true)\n        setReminderTime(new Date(reminder.data))\n      }\n    })\n  })\n\n  useEffect(() => {\n    storageHelper.getNativeStorage('reminder').then((reminder) => {\n      \n      if (reminder?.data) {\n        setreminderTime(new Date(reminder.data).toString())\n        setreminder(true)\n        setReminderTime(new Date(reminder.data))\n      }\n    })\n  }, [checked, reminder, reminderTime])\n\n  return (\n    <Wrapper>\n      {complete ? (\n        <IonCol\n          style={{paddingTop: '10%'}}\n          size=\"12\"\n          class=\"ion-align-item-center ion-justify-content-center\"\n        >\n          <IonRow className=\"ion-justify-content-center ion-margin-top ion-margin-bottom\">\n            <IonCol\n              sizeXs=\"7\"\n              sizeSm=\"7\"\n              sizeLg=\"2\"\n              sizeXl=\"2\"\n              sizeMd=\"2\"\n              className=\"ion-align-self-center ion-text-center\"\n            >\n              <img src=\"./assets/images/loading.gif\" alt=\"loading\" width=\"75%\" />\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeLg=\"4\"\n              sizeXl=\"4\"\n              sizeMd=\"6\"\n              className=\"ion-text-center ion-align-self-center\"\n            >\n              <h1 className=\"on-boarding-text ion-padding-end\">\n                Just a moment... <br />\n                while we’re developing\n                <br />\n                your personalized lessons\n              </h1>\n            </IonCol>\n          </IonRow>\n        </IonCol>\n      ) : (\n        <Container>\n          <Navigator>\n            <ActionButton\n              color=\"secondary\"\n              size=\"medium\"\n              direction=\"left\"\n              onClick={previousPage}\n            ></ActionButton>\n          </Navigator>\n          <Body>\n            <Header>\n              <BackButton onClick={previousPage}>\n                <ArrowBackIosIcon />\n              </BackButton>\n              <Question>\n                {t('postbording.question')} {question} / {totatlQuestions}\n              </Question>\n            </Header>\n            <Content>\n              {question <= 2 ? (\n                <QuestionCard\n                  style={{height: '100%'}}\n                  activeCard={activeCard}\n                  cards={cards}\n                  t={t}\n                  formOne={formOne}\n                  formTwo={formTwo}\n                  handleFormOne={handleFormOne}\n                  handleFormTwo={handleFormTwo}\n                />\n              ) : (\n                <Internals>\n                  <Title style={{paddingTop: '10%'}}>{cards[activeCard].title}</Title>\n                  <SubTitle>{cards[activeCard].title2}</SubTitle>\n              { reminderTime === '' || reminderTime === undefined ? \n              <IonRow className=\"ion-align-items-center ion-justify-content-center ion-text-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeLg=\"6\"\n                  sizeMd=\"7\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center\"\n                >\n                  {/* <h3 className=\"ion-text-center ion-margin-bottom\">\n                    Would you like to receive a reminder?\n                  </h3> */}\n                </IonCol>\n              </IonRow>\n              :\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeLg=\"6\"\n                  sizeMd=\"7\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center ion-text-center ion-margin-top\"\n                >\n                  \n                  <h3 className=\"ion-text-center ion-margin-bottom\">\n                    We will send you a nudge <br />\n                    at <span className=\"c-orange\"> { moment(reminderTime).format('LT') } </span> everyday\n                  </h3>\n                </IonCol>\n              </IonRow> \n              }\n              {reminderTime === '' || reminderTime === undefined ? (\n                    <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                      <IonCol\n                        sizeXs=\"10\"\n                        sizeSm=\"10\"\n                        sizeMd=\"7\"\n                        sizeLg=\"6\"\n                        sizeXl=\"4\"\n                        className=\"ion-align-self-center ion-text-center\"\n                      >\n                        <IonItem lines=\"none\">\n                          <IonLabel color=\"danger\">\n                            Yes, set a reminder. <br />\n                            <IonText color=\"medium\">(Push notification)</IonText>\n                          </IonLabel>\n                          <IonToggle\n                            checked={reminder}\n                            onIonChange={(e) => {\n                              onChangeReminder(e.detail.checked)\n                            }}\n                            mode=\"ios\"\n                          ></IonToggle>\n                        </IonItem>\n                      </IonCol>\n                    </IonRow>\n                  ) : (\n                    <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                      <IonCol\n                        sizeXs=\"10\"\n                        sizeSm=\"10\"\n                        sizeMd=\"7\"\n                        sizeLg=\"6\"\n                        sizeXl=\"4\"\n                        className=\"ion-align-self-center ion-text-center\"\n                      >\n                        <IonItem lines=\"none\">\n                          <IonToggle\n                            mode=\"ios\"\n                            checked={reminder}\n                            onIonChange={(e) => {\n                              onChangeReminder(e.detail.checked)\n                            }}\n                          ></IonToggle>\n                        </IonItem>\n                        <p\n                          style={{cursor: 'pointer'}}\n                          className=\"c-orange ion-margin-top ion-text-center ion-align-self-center\"\n                          onClick={setReminder}\n                        >\n                          Edit\n                        </p>\n                      </IonCol>\n                    </IonRow>\n                  )}\n                </Internals>\n              )}\n\n              {formTwo === 'Elementary' ||\n              formTwo === 'Intermediate' ||\n              formTwo === 'Advanced' ? (\n                <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top ion-margin-bottom\">\n                  <IonCol\n                    size-xs=\"12\"\n                    size-sm=\"12\"\n                    size-md=\"10\"\n                    size-xl=\"10\"\n                    size-lg=\"10\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonCard\n                      className=\"ion-no-margin ion-align-items-center ion-justify-content-center\"\n                      mode=\"ios\"\n                    >\n                      <IonCardContent>\n                        Cool, we'll recommend\n                        <IonText color=\"danger\">\n                          {' '}\n                          {formTwo === 'Elementary'\n                            ? 'upper-beginner'\n                            : formTwo === 'Intermediate'\n                            ? 'intermediate'\n                            : formTwo === 'Advanced'\n                            ? 'advanced'\n                            : ''}{' '}\n                          lessons{' '}\n                        </IonText>\n                        for you. You can always change your level in settings.\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                </IonRow>\n              ) : (\n                ''\n              )}\n            </Content>\n            <Footer>\n              <ButtonWrapper>\n                <Button\n                  size=\"medium\"\n                  disabled={isDisabled}\n                  label=\"Continue\"\n                  color=\"primary\"\n                  onClick={next}\n                ></Button>\n              </ButtonWrapper>\n            </Footer>\n          </Body>\n          <Navigator>\n            <ActionButton\n              style={{opacity: '0%'}}\n              color=\"secondary\"\n              size=\"medium\"\n              direction=\"left\"\n            ></ActionButton>\n          </Navigator>\n        </Container>\n      )}\n    </Wrapper>\n  )\n}\n\nfunction QuestionCard({\n  activeCard,\n  cards,\n  t,\n  formOne,\n  formTwo,\n  handleFormOne,\n  handleFormTwo,\n  ...props\n}) {\n  const [selection, setSelection] = useState(formOne)\n\n  useEffect(() => {}, [selection])\n\n  if (activeCard === 0) {\n    return (\n      <Internals {...props} key={activeCard}>\n        <Title>{cards[activeCard].title}</Title>\n        <SubTitle>{cards[activeCard].subTitle}</SubTitle>\n\n        <GroupDesktop>\n          <DesktopCard\n            value=\"Korean\"\n            style={selection === 1 ? {boxShadow: '0px 0px 0px 2px #E22D2D'} : {}}\n            onClick={(event) => {\n              setSelection(1)\n              handleFormOne(event)\n            }}\n          >\n            <Image src={'/assets/images/postboarding/korean-lg.svg'}></Image>\n            <Text>{t('postbording.q2o1')}</Text>\n          </DesktopCard>\n          <DesktopCard\n            value=\"Spanish\"\n            style={selection === 2 ? {boxShadow: '0px 0px 0px 2px #E22D2D'} : {}}\n            onClick={(event) => {\n              setSelection(2)\n              handleFormOne(event)\n            }}\n          >\n            <Image src={'/assets/images/postboarding/spanish-lg.svg'}></Image>\n            <Text>{t('postbording.q2o2')}</Text>\n          </DesktopCard>\n          <DesktopCard\n            value=\"Vietnamese\"\n            style={selection === 3 ? {boxShadow: '0px 0px 0px 2px #E22D2D'} : {}}\n            onClick={(event) => {\n              setSelection(3)\n              handleFormOne(event)\n            }}\n          >\n            <Image src={'/assets/images/postboarding/vietnamese-lg.svg'}></Image>\n            <Text>{t('postbording.q2o3')}</Text>\n          </DesktopCard>\n          <DesktopCard\n            value=\"Portuguese\"\n            style={selection === 4 ? {boxShadow: '0px 0px 0px 2px #E22D2D'} : {}}\n            onClick={(event) => {\n              setSelection(4)\n              handleFormOne(event)\n            }}\n          >\n            <Image src={'/assets/images/postboarding/portuguese-lg.svg'}></Image>\n            <Text>{t('postbording.q2o4')}</Text>\n          </DesktopCard>\n        </GroupDesktop>\n\n        <FormControl component=\"fieldset\">\n          <RadioGroup name=\"formOne\" value={formOne} onChange={handleFormOne}>\n            <GroupMobile>\n              <Option>\n                <Box>\n                  <Image src={'/assets/images/postboarding/korean.svg'}></Image>\n                  <Text style={{paddingLeft: '10px'}}>{t('postbording.q2o1')}</Text>\n                </Box>\n                <FormControlLabel label=\"\" value=\"1\" control={<LightRadio />} />\n              </Option>\n              <Option>\n                <Box>\n                  <Image src={'/assets/images/postboarding/spanish.svg'}></Image>\n                  <Text style={{paddingLeft: '10px'}}>{t('postbording.q2o2')}</Text>\n                </Box>\n\n                <FormControlLabel label=\"\" value=\"2\" control={<LightRadio />} />\n              </Option>\n              <Option>\n                <Box>\n                  <Image src={'/assets/images/postboarding/vietnamese.svg'}></Image>\n                  <Text style={{paddingLeft: '10px'}}>{t('postbording.q2o3')}</Text>\n                </Box>\n\n                <FormControlLabel label=\"\" value=\"3\" control={<LightRadio />} />\n              </Option>\n              <Option>\n                <Box>\n                  <Image src={'/assets/images/postboarding/portuguese.svg'}></Image>\n                  <Text style={{paddingLeft: '10px'}}>{t('postbording.q2o4')}</Text>\n                </Box>\n\n                <FormControlLabel label=\"\" value=\"4\" control={<LightRadio />} />\n              </Option>\n            </GroupMobile>\n          </RadioGroup>\n        </FormControl>\n      </Internals>\n    )\n  } else if (activeCard === 1) {\n    return (\n      <Internals {...props} key={activeCard}>\n        <Mobile>\n          <Title>{cards[activeCard].title}</Title>\n          <Title>{cards[activeCard].title2}</Title>\n        </Mobile>\n        <Desktop>\n          <Title>{cards[activeCard].titleDesktop}</Title>\n        </Desktop>\n        <VideoWrapper>\n          <Video>\n            <Suspense fallback={<div>Loading...</div>}>\n              <ReactPlayer\n                style={{borderRadius: '16px'}}\n                width=\"100%\"\n                height=\"30vh\"\n                playing={true}\n                controls={false}\n                light={'/assets/images/postboarding/thumbnail.png'}\n                playIcon={\n                  <img src={'/assets/images/postboarding/play.svg'} alt=\"play\"></img>\n                }\n                url=\"https://www.youtube.com/watch?v=v6zPVKXSSWc\"\n              />\n            </Suspense>\n          </Video>\n        </VideoWrapper>\n\n        <GroupDesktop2>\n          <DesktopCard\n            value=\"Elementary\"\n            style={\n              selection === 5\n                ? {\n                    boxShadow: '0px 0px 0px 2px #E22D2D',\n                  }\n                : {}\n            }\n            onClick={(event) => {\n              setSelection(5)\n              handleFormTwo(event)\n            }}\n          >\n            <Text>{t('postbording.q1o1')}</Text>\n          </DesktopCard>\n          <DesktopCard\n            value=\"Intermediate\"\n            style={\n              selection === 6\n                ? {\n                    boxShadow: '0px 0px 0px 2px #E22D2D',\n                  }\n                : {}\n            }\n            onClick={(event) => {\n              setSelection(6)\n              handleFormTwo(event)\n            }}\n          >\n            <Text>{t('postbording.q1o2')}</Text>\n          </DesktopCard>\n          <DesktopCard\n            value=\"Advanced\"\n            style={\n              selection === 7\n                ? {\n                    boxShadow: '0px 0px 0px 2px #E22D2D',\n                  }\n                : {}\n            }\n            onClick={(event) => {\n              setSelection(7)\n              handleFormTwo(event)\n            }}\n          >\n            <Text>{t('postbording.q1o3')}</Text>\n          </DesktopCard>\n        </GroupDesktop2>\n\n        <FormControl component=\"fieldset\">\n          <RadioGroup name=\"formTwo\" value={formTwo} onChange={handleFormTwo}>\n            <GroupMobile>\n              <Option>\n                <Text>{t('postbording.q1o1')}</Text>\n                <FormControlLabel label=\"\" value=\"1\" control={<LightRadio />} />\n              </Option>\n              <Option>\n                <Text>{t('postbording.q1o2')}</Text>\n                <FormControlLabel label=\"\" value=\"2\" control={<LightRadio />} />\n              </Option>\n              <Option>\n                <Text>{t('postbording.q1o3')}</Text>\n                <FormControlLabel label=\"\" value=\"3\" control={<LightRadio />} />\n              </Option>\n            </GroupMobile>\n          </RadioGroup>\n        </FormControl>\n      </Internals>\n    )\n  }\n}\n\n// export default PostBordingPage\nconst PostBoarding: React.FC = () => {\n  return (\n    <ThemeProvider theme={GlobalMaterialStyles}>\n      <Suspense fallback={<IonSpinner />}>\n        <IonPage>\n          <IonContent>\n            <PostBordingPage />\n          </IonContent>\n        </IonPage>\n      </Suspense>\n    </ThemeProvider>\n  )\n}\nexport default PostBoarding\n","import {gql, makeVar, TypePolicies} from '@apollo/client'\nimport {LevelName} from '../schema/types-and-hooks'\n\nexport const localTypeDefs = gql`\n  extend type Query {\n    currentLessonId: String\n    dictation(lessonId: Int!, sceneIdx: Int!): String\n  }\n  extend type Mutation {\n    updateDictation(id: ID!): String\n  }\n  extend type WordNoteCursorPage {\n    hasMore: Boolean\n  }\n  extend type LessonCursorPage {\n    hasMore: Boolean\n  }\n  extend type Lesson {\n    videoLevelLabel: String\n  }\n  extend type Course {\n    videoLevelLabel: String\n  }\n`\n\nexport const currentLessonIdVar = makeVar<any>(null)\nexport const dictationsVar = makeVar<any>({})\nexport const recordsVar = makeVar<any>({})\n\nexport const typePolicies: TypePolicies = {\n  Query: {\n    fields: {\n      currentLessonId: {\n        read(_, {variables}) {\n          if (variables.id) {\n            return variables.id\n          }\n\n          return currentLessonIdVar()\n        },\n      },\n      dictation: {\n        read(_, {variables}) {\n          console.log({variables})\n\n          const {sceneIdx} = variables\n          const lessonId = currentLessonIdVar()\n\n          return dictationsVar()[`${lessonId}:${sceneIdx}`] || ''\n        },\n      },\n      records: {\n        read(_, {variables}) {\n          console.log({variables})\n\n          const {sceneIdx} = variables\n          const lessonId = currentLessonIdVar()\n\n          return recordsVar()[`${lessonId}:${sceneIdx}`] || []\n        },\n      },\n      moreNotes: {\n        merge(existing, incoming, {readField, args}) {\n          const nodes = args.cursor && existing ? {...existing.nodes} : {}\n          incoming.nodes.forEach((node) => {\n            const idx = readField('_id', node)\n            nodes[idx as number] = node\n          })\n\n          return {\n            cursor: incoming.cursor,\n            hasMore: incoming.nodes.length === args.size,\n            nodes,\n          }\n        },\n\n        read(existing) {\n          if (existing) {\n            return {\n              cursor: existing.cursor,\n              hasMore: existing.hasMore,\n              nodes: Object.values(existing.nodes),\n            }\n          }\n        },\n      },\n      moreCompletedLessons: {\n        merge(existing, incoming, {readField, args}) {\n          const nodes = args.cursor && existing ? {...existing.nodes} : {}\n          incoming.nodes.forEach((node) => {\n            const idx = readField('_id', node)\n            nodes[idx as number] = node\n          })\n\n          return {\n            cursor: incoming.cursor,\n            hasMore: incoming.nodes.length === args.size,\n            nodes,\n          }\n        },\n\n        read(existing) {\n          if (existing) {\n            return {\n              cursor: existing.cursor,\n              hasMore: existing.hasMore,\n              nodes: Object.values(existing.nodes),\n            }\n          }\n        },\n      },\n    },\n  },\n  Mutation: {\n    fields: {\n      updateDictation: {\n        read(...args) {\n          console.log('read', args)\n        },\n        merge(...args) {\n          console.log('merge', args)\n        },\n      },\n    },\n  },\n  LessonProgress: {\n    fields: {\n      datetimes: {\n        read(datetimes) {\n          return datetimes.map((d) => new Date(d))\n        },\n      },\n    },\n  },\n  User: {\n    fields: {\n      // userLevelName: {\n      //   read(userLevelName) {\n      //     return levelMap[userLevelName]\n      //   },\n      // },\n    },\n  },\n  Lesson: {\n    fields: {\n      videoLevelLabel: {\n        read(_, {readField}) {\n          const level = readField('videoLevel') as LevelName\n          return levelLabel[level]\n          // return levelLabel[userLevelName]\n        },\n      },\n    },\n  },\n  Course: {\n    fields: {\n      videoLevelLabel: {\n        read(_, {readField}) {\n          const level = readField('videoLevel') as LevelName\n          return levelLabel[level]\n        },\n      },\n    },\n  },\n}\n\nconst levelMap = {\n  UpperBeginner: 'UpperBeginner',\n  'Upper-beginner': 'UpperBeginner',\n  Elementary: 'UpperBeginner',\n  Intermediate: 'Intermediate',\n  Advanced: 'Advanced',\n}\nconst levelLabel = {\n  [LevelName.UpperBeginner]: 'Upper-beginner',\n  [LevelName.Intermediate]: 'Intermediate',\n  [LevelName.Advanced]: 'Advanced',\n}\n","import {\n  ApolloClient,\n  createHttpLink,\n  InMemoryCache,\n  gql,\n  from,\n  makeVar,\n  TypePolicies,\n} from '@apollo/client'\nimport {setContext} from '@apollo/client/link/context'\nimport {onError} from '@apollo/client/link/error'\n// import {Plugins} from '@capacitor/core'\nimport {Storage} from '@capacitor/storage'\n\nimport {localTypeDefs, typePolicies} from './typePolicies'\nexport {currentLessonIdVar, dictationsVar, recordsVar} from './typePolicies'\n\n// const {Storage} = Plugins\n\nasync function getNativeStorage(key) {\n  const ret = await Storage.get({key})\n  let value = JSON.parse(ret.value)\n  if (!value) {\n    value = {data: null}\n  }\n  return value\n}\n\nconst errorLink = onError(({graphQLErrors, networkError}) => {\n  if (graphQLErrors)\n    graphQLErrors.map(({message, locations, path}) =>\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n      ),\n    )\n\n  if (networkError) console.log(`[Network error]: ${networkError}`)\n})\n\nconst httpLink = createHttpLink({\n  // uri: 'http://localhost:4044/',\n  // uri: 'http://192.168.0.3:4044/',\n  uri: process.env.REACT_APP_GRAPHQL_URL,\n\n  //   uri: 'https://gql-dev.speakypeaky.com/',\n})\n\nconst authLink = setContext(async (_, {headers}) => {\n  // get the authentication token from local storage if it exists\n  const token = await getNativeStorage('token')\n\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token?.data ? token.data : '',\n    },\n  }\n})\n\nconst cache = new InMemoryCache({\n  typePolicies: typePolicies,\n})\n\nexport const client = new ApolloClient({\n  link: from([authLink, errorLink, httpLink]),\n  cache,\n  typeDefs: localTypeDefs,\n  // queryDeduplication: false,\n})\n","export const userLevels = {\n  UpperBeginner: 'Upper Beginner',\n  'Upper-beginner': 'Upper Beginner',\n  Elementary: 'Upper Beginner',\n  Intermediate: 'Intermediate',\n  Advanced: 'Advanced',\n}\n\nexport const getOldUserLevel = (level: string) =>\n  level.toLocaleLowerCase() === 'upper-beginner' ? 'Elementary' : level\n\nexport const fromOldUserLevel = (level: string) => userLevels[level]\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonLabel,\n  IonPage,\n  IonProgressBar,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  IonSkeletonText,\n  IonSpinner,\n  IonText,\n  IonThumbnail,\n  IonToolbar,\n  IonTitle\n} from '@ionic/react'\nimport {format} from 'date-fns/fp'\nimport {chevronBack, chevronDown, chevronUp} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {fetchApi, fetchSuggestedCurriculum} from '../../fetchApis'\nimport {getOldUserLevel} from '../../utils/userLevels'\nimport './SearchListPage.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst formatDate = format('MMM d, y')\n\nfunction Course({course}) {\n  const history = useHistory()\n  const [expanded, setExpanded] = React.useState(false)\n  return (\n    <IonRow className=\"course pointer ion-align-items-center ion-justify-content-center\">\n      <IonCol\n        sizeXs=\"12\"\n        sizeSm=\"12\"\n        sizeMd=\"10\"\n        sizeLg=\"9\"\n        sizeXl=\"8\"\n        className=\"ion-padding-top ion-align-self-center\"\n      >\n        <IonRow>\n          <IonCol sizeXs=\"5\" sizeSm=\"5\" sizeMd=\"3\" sizeLg=\"3\" sizeXl=\"2\">\n            <IonThumbnail>\n              <IonImg src={getThumbnailUrl(course.youtubeId)}></IonImg>\n            </IonThumbnail>\n          </IonCol>\n          <IonCol\n            className=\"ion-padding-start\"\n            sizeXs=\"7\"\n            sizeSm=\"7\"\n            sizeMd=\"9\"\n            sizeLg=\"9\"\n            sizeXl=\"10\"\n          >\n            <IonLabel>\n              <h2 className=\"ion-text-wrap\">{course.title || course.introduction}</h2>\n              <p id=\"scenes-count\">\n                <IonText>\n                  {course.subLessons.length} Episode\n                  {course.subLessons.length > 1 && 's'}\n                </IonText>\n              </p>\n              <IonRow\n                onClick={() => setExpanded((exp) => !exp)}\n                className=\"ion-align-items-center ion-justify-content-center\"\n              >\n                <IonCol size=\"10\" className=\"ion-no-padding ion-align-self-center\">\n                  <IonText color=\"medium c-orange\" id=\"tags\">\n                    {course.tags}\n                  </IonText>\n                </IonCol>\n                <IonCol\n                  size=\"2\"\n                  className=\"ion-no-padding ion-text-center ion-align-self-center collapsible-icon\"\n                >\n                  <IonIcon\n                    color=\"medium\"\n                    mode=\"ios\"\n                    icon={expanded ? chevronUp : chevronDown}\n                  />\n                </IonCol>\n              </IonRow>\n            </IonLabel>\n          </IonCol>\n        </IonRow>\n        <IonRow className={`expand-wrapper ${expanded ? '' : 'collapsed'}`}>\n          <IonCol \n          \n          >\n            {course.subLessons.map((lesson, index) => (\n              <IonRow\n                className=\"subLesson\"\n                key={lesson._id}\n                onClick={() => history.push(`/lesson-details/${lesson._id}`)}\n              >\n                <IonCol id=\"lesson-name\" size=\"8\">\n                  <p id=\"sub-lessons\">{`${lesson.lessonName}`}</p>\n                </IonCol>\n                <IonCol className=\"ion-padding-top studied-date\" size=\"4\">\n                  {lesson.completedLesson?.createdAt && (\n                    <span>{formatDate(new Date(lesson.completedLesson.createdAt))}</span>\n                  )}\n                </IonCol>\n              </IonRow>\n            ))}\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n\nfunction LoadingCourse() {\n  return (\n    <IonRow className=\"course ion-align-items-center ion-justify-content-center\">\n      <IonCol\n        sizeXs=\"12\"\n        sizeSm=\"12\"\n        sizeMd=\"10\"\n        sizeLg=\"9\"\n        sizeXl=\"8\"\n        className=\"ion-no-padding ion-align-self-center\"\n      >\n        <IonRow>\n          <IonCol sizeXs=\"5\" sizeSm=\"5\" sizeMd=\"3\" sizeLg=\"3\" sizeXl=\"2\">\n            <IonThumbnail>\n              <IonImg src=\"/assets/images/thumbnail-youtube.jpg\"></IonImg>\n            </IonThumbnail>\n          </IonCol>\n          <IonCol sizeXs=\"7\" sizeSm=\"7\" sizeMd=\"9\" sizeLg=\"9\" sizeXl=\"10\">\n            <IonLabel>\n              <h2 className=\"ion-text-wrap\">\n                <IonSkeletonText animated style={{width: '100%'}}></IonSkeletonText>\n              </h2>\n              <p id=\"scenes-count\">\n                <IonText>\n                  <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n                </IonText>\n              </p>\n              <p id=\"tags\">\n                <IonSkeletonText animated style={{width: '70%'}}></IonSkeletonText>\n                <IonSkeletonText animated style={{width: '60%'}}></IonSkeletonText>\n              </p>\n            </IonLabel>\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n\nconst PAGE_SIZE = 10\n\nasync function fetchCourseList(\n  page: number = 1,\n  videoLevel: string,\n  lessonTopicId: string,\n) {\n  const res = await fetchApi(`/lesson/course-list/${page}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      videoLevel,\n      lessonTopicId,\n    }),\n  })\n\n  return res.data\n}\n\nfunction CourseList({level, topicId}) {\n  const query = ReactQuery.useInfiniteQuery(\n    ['searchLessons', level, topicId],\n    ({pageParam = 1}) => {\n      return fetchCourseList(pageParam, getOldUserLevel(level), topicId)\n    },\n    {\n      // keepPreviousData: true\n      getNextPageParam: (lastPage, pages) => {\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n\n  const courses = data?.pages || []\n\n  return (\n    <>\n      {courses.map((group, i) => (\n        <React.Fragment key={i}>\n          {group.map((course) => (\n            <Course key={course._id} course={course} />\n          ))}\n        </React.Fragment>\n      ))}\n\n      {isLoading && (\n        <IonRow>\n          <IonCol className=\"ion-no-padding\">\n            <LoadingCourse />\n            <LoadingCourse />\n            <LoadingCourse />\n          </IonCol>\n        </IonRow>\n      )}\n\n      <IonInfiniteScroll\n        disabled={!hasNextPage || isFetchingNextPage}\n        onIonInfinite={handleInfinite}\n        threshold=\"200px\"\n      >\n        <IonInfiniteScrollContent>\n          <IonSpinner />\n        </IonInfiniteScrollContent>\n      </IonInfiniteScroll>\n    </>\n  )\n}\n\nexport default function SearchList() {\n  const {topicId} = useParams<{topicId: string}>()\n  const [level, setLevel] = React.useState('Upper-Beginner')\n\n  const query = ReactQuery.useQuery('suggested-curriculum', fetchSuggestedCurriculum)\n  const {isLoading, data, error} = query\n\n  if (isLoading) {\n    return (\n      <IonPage className=\"search-list\">\n        <IonHeader mode=\"ios\">\n          <IonToolbar mode=\"md\">\n            <IonButtons slot=\"start\">\n              <IonButton mode=\"md\" routerLink=\"/dashboard/library\" routerDirection=\"back\">\n                <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n              </IonButton>\n            </IonButtons>\n            <IonButtons slot=\"end\">\n              <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n                <IonIcon\n                  color=\"dark\"\n                  mode=\"md\"\n                  slot=\"icon-only\"\n                  src=\"/assets/images/home.svg\"\n                ></IonIcon>\n              </IonButton>\n            </IonButtons>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonProgressBar type=\"indeterminate\" />\n        </IonContent>\n      </IonPage>\n    )\n  }\n  if (error) {\n    return <div>Error...</div>\n  }\n  const topic = data.find((t) => t.lessonTopicId === topicId)\n\n  return (\n    <IonPage className=\"search-list\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/library\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>{topic.title}</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-no-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs={'12'}\n              sizeSm={'12'}\n              sizeMd={'10'}\n              sizeLg={'9'}\n              sizeXl={'8'}\n              className=\"ion-align-self-center \"\n            >\n              <h1 style={{margin: '10px 0 0 15px'}}>\n                <strong>{topic.title}</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs={'12'}\n              sizeSm={'12'}\n              sizeMd={'10'}\n              sizeLg={'9'}\n              sizeXl={'8'}\n              className=\"ion-no-padding ion-align-self-center\"\n            >\n              <IonSegment\n                mode=\"md\"\n                color=\"danger\"\n                value={level}\n                onIonChange={(e) => setLevel(e.detail.value)}\n              >\n                <IonSegmentButton value=\"Upper-Beginner\">\n                  <IonLabel>Upper-Beginner</IonLabel>\n                </IonSegmentButton>\n                <IonSegmentButton value=\"Intermediate\">\n                  <IonLabel>Intermediate</IonLabel>\n                </IonSegmentButton>\n                <IonSegmentButton value=\"Advanced\">\n                  <IonLabel>Advanced</IonLabel>\n                </IonSegmentButton>\n              </IonSegment>\n            </IonCol>\n          </IonRow>\n          <div className=\"ion-padding-top\">\n            <CourseList\n              key={`${topic.lessonTopicId}-${level}`}\n              topicId={topic.lessonTopicId}\n              level={level}\n            />\n          </div>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonSkeletonText,\n  IonText,\n  IonThumbnail,\n  IonToolbar,\n  IonTitle,\n} from '@ionic/react'\n\nimport {chevronBack} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi} from '../../fetchApis'\nimport {fromOldUserLevel} from '../../utils/userLevels'\nimport './CourseList.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst LoadingCourseItem = () => (\n  <IonItem lines=\"none\" mode=\"md\">\n    <IonThumbnail slot=\"start\">\n      <IonImg src=\"../../../../assets/images/thumbnail-youtube.jpg\" />\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">\n        <IonSkeletonText animated style={{width: '90%'}} />\n        <IonSkeletonText animated style={{width: '75%'}} />\n      </h2>\n      <p>\n        <IonSkeletonText animated style={{width: '60%'}} />\n      </p>\n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\" />\n  </IonItem>\n)\nconst CourseItem = ({id, title, youtubeId, episodeCount, videoLevel}) => (\n  <IonItem lines=\"none\" routerLink={`/course-details/${id}/myCourse`} mode=\"md\">\n    <IonThumbnail slot=\"start\">\n      <IonImg src={getThumbnailUrl(youtubeId)} />\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">{title}</h2>\n      <IonText color=\"medium\">\n        <p>{episodeCount}</p>\n        <p>\n          {/* <IonText>\n            {episodeCount === 1 ? 'Single - ' : `${episodeCount} episode - `}\n          </IonText> */}\n\n          {fromOldUserLevel(videoLevel)}\n        </p>\n      </IonText>\n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\" />\n  </IonItem>\n)\n\nasync function fetchMyCourses() {\n  const res = await fetchApi(`/lesson/my-course`)\n\n  const getCompletedLessonsByUsers = await fetchApi(`/lesson/completedLessons`)\n\n  const result = res.data.filter((data) => {\n    if (\n      data.subLessons.some(\n        (c) =>\n          !getCompletedLessonsByUsers.data.some((i) => i.lessonId.includes(c.lessonId)),\n      )\n    ) {\n      return data\n    }\n  })\n\n  return result\n}\n\nexport default function CourseListPage() {\n  const query = ReactQuery.useQuery('my-cources', fetchMyCourses,{\n    // Refetch the data every second\n    refetchInterval: 20,\n  })\n  // console.log(\"query\", query)\n  const {isLoading, data, error} = query\n\n  if (error) {\n    return <div>Error...</div>\n  }\n\n  return (\n    <IonPage className=\"my-courses\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>My Unfinished Courses</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs={'12'}\n              sizeSm={'12'}\n              sizeMd={'10'}\n              sizeLg={'9'}\n              sizeXl={'9'}\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin ion-padding-bottom\">\n                <strong>My Unfinished Courses</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs={'12'}\n              sizeSm={'12'}\n              sizeMd={'10'}\n              sizeLg={'9'}\n              sizeXl={'9'}\n            >\n              {isLoading ? (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  <LoadingCourseItem />\n                  <LoadingCourseItem />\n                  <LoadingCourseItem />\n                  <LoadingCourseItem />\n                  <LoadingCourseItem />\n                </IonList>\n              ) : (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  {data.map((course) => {\n                    return (\n                      <CourseItem\n                        key={course._id}\n                        id={course._id}\n                        youtubeId={course.youtubeId}\n                        title={course.title || course.introduction}\n                        episodeCount={course.topicDetails.title}\n                        videoLevel={course.videoLevel}\n                      />\n                    )\n                  })}\n                </IonList>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonTitle,\n  IonSkeletonText,\n  IonSpinner,\n  IonThumbnail,\n  IonToolbar,\n} from '@ionic/react'\nimport {chevronBack} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi} from '../../fetchApis'\nimport './PopularLessonList.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst LessonItem = ({id, title, youtubeId, videoLevel}) => (\n \n  <IonItem\n    routerLink={`/lesson-details/${id}`}\n    // [routerLink]=\"['/lesson-details', item.subLessonId, false, false]\"\n    mode=\"md\"\n  >\n    <IonThumbnail slot=\"start\">\n      <IonImg src={getThumbnailUrl(youtubeId)}></IonImg>\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">{title}</h2>\n      {videoLevel === 'Elementary' ? \n      <p>Upper-beginner</p>\n      : <p>{videoLevel}</p>\n    }\n      \n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n  </IonItem>\n  \n)\n\nfunction LoadingLessonItem() {\n  return (\n    <IonItem mode=\"md\">\n      <IonThumbnail slot=\"start\">\n        <IonImg src=\"../../../../assets/images/thumbnail-youtube.jpg\"></IonImg>\n      </IonThumbnail>\n      <IonLabel>\n        <h2 className=\"ion-text-wrap\">\n          <IonSkeletonText animated style={{width: '90%'}}></IonSkeletonText>\n          <IonSkeletonText animated style={{width: '75%'}}></IonSkeletonText>\n        </h2>\n        <p>\n          <IonSkeletonText animated style={{width: '60%'}}></IonSkeletonText>\n        </p>\n      </IonLabel>\n      <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n    </IonItem>\n  )\n}\n\nconst PAGE_SIZE = 10\n\nasync function fetchPopularLessonList(page: number = 1) {\n  const res = await fetchApi(`/lesson/popularLessons/${page}`)\n\n  return res.data\n}\n\nexport default function PopularLessonList() {\n  const query = ReactQuery.useInfiniteQuery(\n    ['popularLessons'],\n    ({pageParam = 1}) => {\n      return fetchPopularLessonList(pageParam)\n    },\n    {\n      getNextPageParam: (lastPage, pages) => {\n        // console.log({lastPage, pages})\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n\n  const courses = data?.pages || []\n\n  return (\n    <IonPage className=\"popular-lessons-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Popular Lessons</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin ion-padding-bottom\">\n                <strong>Popular Lessons</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n            >\n              {isLoading ? (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                </IonList>\n              ) : (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  {courses.map((group, i) => (\n                    <React.Fragment key={i}>\n                      {group.map((lesson) => (\n                        <LessonItem\n                          key={lesson._id}\n                          id={lesson.subLessonId}\n                          title={lesson.lessonName}\n                          videoLevel={lesson.videoLevel}\n                          youtubeId={lesson.youtubeId}\n                        />\n                      ))}\n                    </React.Fragment>\n                  ))}\n                </IonList>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n\n        <IonInfiniteScroll\n          disabled={!hasNextPage || isFetchingNextPage}\n          onIonInfinite={handleInfinite}\n          threshold=\"200px\"\n        >\n          <IonInfiniteScrollContent>\n            <IonSpinner />\n          </IonInfiniteScrollContent>\n        </IonInfiniteScroll>\n      </IonContent>\n    </IonPage>\n  )\n}\n","export const weekdays = [\n  'Weekend', //'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Weekend', //'Saturday',\n]\n\nexport const getThumbnail = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  IonThumbnail,\n  IonToolbar,\n  IonTitle,\n\n} from '@ionic/react'\nimport {chevronBack} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi} from '../../fetchApis'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport {weekdays} from '../../utils/utils'\nimport './PopularLessonList.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst LessonItem = ({id, title, youtubeId, videoLevel}) => (\n  <IonItem\n    routerLink={`/lesson-details/${id}`}\n    // [routerLink]=\"['/lesson-details', item.subLessonId, false, false]\"\n    mode=\"md\"\n  >\n    <IonThumbnail slot=\"start\">\n      <IonImg src={getThumbnailUrl(youtubeId)}></IonImg>\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">{title}</h2>\n      <p>{videoLevel}</p>\n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n  </IonItem>\n)\n\nfunction LoadingLessonItem() {\n  return (\n    <IonItem mode=\"md\">\n      <IonThumbnail slot=\"start\">\n        <IonImg src=\"../../../../assets/images/thumbnail-youtube.jpg\"></IonImg>\n      </IonThumbnail>\n      <IonLabel>\n        <h2 className=\"ion-text-wrap\">\n          <IonSkeletonText animated style={{width: '90%'}}></IonSkeletonText>\n          <IonSkeletonText animated style={{width: '75%'}}></IonSkeletonText>\n        </h2>\n        <p>\n          <IonSkeletonText animated style={{width: '60%'}}></IonSkeletonText>\n        </p>\n      </IonLabel>\n      <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n    </IonItem>\n  )\n}\n\nconst PAGE_SIZE = 10\n\nasync function fetchNewUploadList(page: number = 1, videoLevel: string, day: string) {\n  const res = await fetchApi(`/lesson/get-newUploadLessons/${page}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      videoLevel,\n      day,\n    }),\n  })\n\n  return res.data\n}\n\nexport default function NewUploadsList() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const today = weekdays[new Date().getDay()]\n\n  const query = ReactQuery.useInfiniteQuery(\n    ['newUploads'],\n    ({pageParam = 1}) => {\n      return fetchNewUploadList(pageParam, profile.userLevelName, today)\n    },\n    {\n      getNextPageParam: (lastPage, pages) => {\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n\n  const courses = data?.pages || []\n\n  return (\n    <IonPage className=\"popular-lessons-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>New Uploads</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          {/* <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin ion-padding-bottom\">\n                <strong>New Uploads</strong>\n              </h1>\n            </IonCol>\n          </IonRow> */}\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n            >\n              {isLoading ? (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                </IonList>\n              ) : (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  {courses.map((group, i) => (\n                    <React.Fragment key={i}>\n                      {group.map((lesson) => (\n                        <LessonItem\n                          key={lesson._id}\n                          id={lesson.subLessonId}\n                          title={lesson.lessonName}\n                          videoLevel={lesson.videoLevel}\n                          youtubeId={lesson.youtubeId}\n                        />\n                      ))}\n                    </React.Fragment>\n                  ))}\n                </IonList>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n\n        <IonInfiniteScroll\n          disabled={!hasNextPage || isFetchingNextPage}\n          onIonInfinite={handleInfinite}\n          threshold=\"200px\"\n        >\n          <IonInfiniteScrollContent>\n            <IonSpinner />\n          </IonInfiniteScrollContent>\n        </IonInfiniteScroll>\n      </IonContent>\n    </IonPage>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  IonThumbnail,\n  IonToolbar,\n} from '@ionic/react'\nimport {chevronBack} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi} from '../../fetchApis'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport {weekdays} from '../../utils/utils'\nimport './PopularLessonList.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst LessonItem = ({id, title, youtubeId, videoLevel}) => (\n  <IonItem\n    routerLink={`/lesson-details/${id}`}\n    // [routerLink]=\"['/lesson-details', item.subLessonId, false, false]\"\n    mode=\"md\"\n  >\n    <IonThumbnail slot=\"start\">\n      <IonImg src={getThumbnailUrl(youtubeId)}></IonImg>\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">{title}</h2>\n      <p>{videoLevel}</p>\n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n  </IonItem>\n)\n\nfunction LoadingLessonItem() {\n  return (\n    <IonItem mode=\"md\">\n      <IonThumbnail slot=\"start\">\n        <IonImg src=\"../../../../assets/images/thumbnail-youtube.jpg\"></IonImg>\n      </IonThumbnail>\n      <IonLabel>\n        <h2 className=\"ion-text-wrap\">\n          <IonSkeletonText animated style={{width: '90%'}}></IonSkeletonText>\n          <IonSkeletonText animated style={{width: '75%'}}></IonSkeletonText>\n        </h2>\n        <p>\n          <IonSkeletonText animated style={{width: '60%'}}></IonSkeletonText>\n        </p>\n      </IonLabel>\n      <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n    </IonItem>\n  )\n}\n\nconst PAGE_SIZE = 10\n\nasync function fetchSavedLessonList(page: number = 1) {\n  const res = await fetchApi(`/lesson/savedLessons/${page}`)\n\n  return res.data\n}\n\nexport default function SavedLessonsList() {\n  const query = ReactQuery.useInfiniteQuery(\n    ['savedLessons'],\n    ({pageParam = 1}) => {\n      return fetchSavedLessonList(pageParam)\n    },\n    {\n      getNextPageParam: (lastPage, pages) => {\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n\n  const courses = data?.pages || []\n\n  return (\n    <IonPage className=\"popular-lessons-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin ion-padding-bottom\">\n                <strong>My Saved Lessons</strong>\n              </h1>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n            >\n              {isLoading ? (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                </IonList>\n              ) : (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  {courses.map((group, i) => (\n                    <React.Fragment key={i}>\n                      {group.map((lesson) => (\n                        <LessonItem\n                          key={lesson._id}\n                          id={lesson.subLessonId}\n                          title={lesson.lessonName}\n                          videoLevel={lesson.videoLevel}\n                          youtubeId={lesson.youtubeId}\n                        />\n                      ))}\n                    </React.Fragment>\n                  ))}\n                </IonList>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n\n        <IonInfiniteScroll\n          disabled={!hasNextPage || isFetchingNextPage}\n          onIonInfinite={handleInfinite}\n          threshold=\"200px\"\n        >\n          <IonInfiniteScrollContent>\n            <IonSpinner />\n          </IonInfiniteScrollContent>\n        </IonInfiniteScroll>\n      </IonContent>\n    </IonPage>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  IonThumbnail,\n  IonToolbar,\n} from '@ionic/react'\nimport {chevronBack} from 'ionicons/icons'\nimport React from 'react'\nimport * as ReactQuery from 'react-query'\nimport {fetchApi} from '../../fetchApis'\nimport './PopularLessonList.scss'\n\nconst getThumbnailUrl = (youtubeId: string) =>\n  `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`\n\nconst LessonItem = ({id, title, youtubeId, videoLevel}) => (\n  <IonItem\n    routerLink={`/lesson-details/${id}/false/true`}\n    // [routerLink]=\"['/lesson-details', item.subLessonId, false, false]\"\n    mode=\"md\"\n  >\n    <IonThumbnail slot=\"start\">\n      <IonImg src={getThumbnailUrl(youtubeId)}></IonImg>\n    </IonThumbnail>\n    <IonLabel>\n      <h2 className=\"ion-text-wrap\">{title}</h2>\n      <p>{videoLevel}</p>\n    </IonLabel>\n    <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n  </IonItem>\n)\n\nfunction LoadingLessonItem() {\n  return (\n    <IonItem mode=\"md\">\n      <IonThumbnail slot=\"start\">\n        <IonImg src=\"../../../../assets/images/thumbnail-youtube.jpg\"></IonImg>\n      </IonThumbnail>\n      <IonLabel>\n        <h2 className=\"ion-text-wrap\">\n          <IonSkeletonText animated style={{width: '90%'}}></IonSkeletonText>\n          <IonSkeletonText animated style={{width: '75%'}}></IonSkeletonText>\n        </h2>\n        <p>\n          <IonSkeletonText animated style={{width: '60%'}}></IonSkeletonText>\n        </p>\n      </IonLabel>\n      <IonIcon mode=\"ios\" name=\"chevron-forward\" slot=\"end\"></IonIcon>\n    </IonItem>\n  )\n}\n\nconst PAGE_SIZE = 10\n\nasync function fetchSavedLessonList(page: number = 1) {\n  const res = await fetchApi(`/lesson/drafted-lessons/${page}`)\n\n  return res.data\n}\n\nexport default function DraftLessonsList() {\n  const query = ReactQuery.useInfiniteQuery(\n    ['draftedLessons'],\n    ({pageParam = 1}) => {\n      return fetchSavedLessonList(pageParam)\n    },\n    {\n      getNextPageParam: (lastPage, pages) => {\n        if (lastPage.length >= PAGE_SIZE) {\n          return pages.length + 1\n        }\n        return undefined\n      },\n    },\n  )\n  const {\n    error,\n    data,\n    isLoading,\n    fetchNextPage,\n    hasNextPage,\n    isFetching,\n    isFetchingNextPage,\n    status,\n  } = query\n\n  if (error) {\n    return <div>Error!</div>\n  }\n\n  function handleInfinite(e) {\n    fetchNextPage().finally(() => {\n      e.target.complete()\n    })\n  }\n\n  const courses = data?.pages || []\n\n  return (\n    <IonPage className=\"popular-lessons-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"md\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n              className=\"ion-align-self-center\"\n            >\n              <h1 className=\"ion-no-margin\">\n                <strong>Draft Lessons</strong>\n              </h1>\n            </IonCol>\n          </IonRow>\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-no-padding ion-align-self-center\"\n              sizeXs=\"12\"\n              sizeSm=\"12\"\n              sizeMd=\"10\"\n              sizeLg=\"9\"\n              sizeXl=\"9\"\n            >\n              {isLoading ? (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                  <LoadingLessonItem />\n                </IonList>\n              ) : (\n                <IonList mode=\"md\" className=\"ion-no-padding\">\n                  {courses.map((group, i) => (\n                    <React.Fragment key={i}>\n                      {group.map((lesson) => (\n                        <LessonItem\n                          key={lesson._id}\n                          id={lesson.subLessonId}\n                          title={lesson.lessonName}\n                          videoLevel={lesson.videoLevel}\n                          youtubeId={lesson.youtubeId}\n                        />\n                      ))}\n                    </React.Fragment>\n                  ))}\n                </IonList>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n\n        <IonInfiniteScroll\n          disabled={!hasNextPage || isFetchingNextPage}\n          onIonInfinite={handleInfinite}\n          threshold=\"200px\"\n        >\n          <IonInfiniteScrollContent>\n            <IonSpinner />\n          </IonInfiniteScrollContent>\n        </IonInfiniteScroll>\n      </IonContent>\n    </IonPage>\n  )\n}\n","// TODO: merge into  /src/reactapp/components/Comments.tsx\nimport * as React from 'react'\nimport {Plugins} from '@capacitor/core'\nimport {\n  IonAvatar,\n  IonCol,\n  IonIcon,\n  IonItem,\n  IonRow,\n  IonInput,\n  IonButton,\n  IonImg,\n  IonText,\n  IonLabel,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  IonSpinner,\n  IonLoading,\n  IonModal,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonButtons,\n  IonContent,\n  IonGrid,\n  IonPopover,\n  IonList,\n  IonAlert,\n  useIonViewWillEnter,\n  useIonViewWillLeave,\n} from '@ionic/react'\nimport {send, ellipsisVertical, close} from 'ionicons/icons'\nimport clsx from 'clsx'\nimport useFetch from 'use-http'\n// import {useQuery} from 'react-query'\nimport {format} from 'date-fns/fp'\nimport {isPlatform} from '@ionic/react'\nimport './Comments.scss'\n\nwindow['React'] = React\n\nconst formatDate = format('MMM d, y')\n\nconst {Keyboard} = Plugins\n\nfunction Reply({comment, onPresentCommentActionsPopover}) {\n  return (\n    <IonItem lines=\"none\" className=\"comment ion-no-padding pointer\">\n      <IonAvatar slot=\"start\" className=\"reply-avatar\">\n        <img\n          src={comment?.userProfile || '../../../assets/images/defaultProfile.svg'}\n          alt=\"user profile\"\n        />\n      </IonAvatar>\n      <IonLabel>\n        <IonText className=\"comment-user\">\n          {comment.userName} . {formatDate(new Date(comment.createdAt))}\n        </IonText>\n        {\n          <p className=\"comment-description\">\n            {comment.reply}\n            {comment.isOwner && (\n              <span\n                className=\"ion-float-right\"\n                onClick={(e) => onPresentCommentActionsPopover(e, comment)}\n              >\n                <IonIcon icon={ellipsisVertical}></IonIcon>\n              </span>\n            )}\n          </p>\n        }\n      </IonLabel>\n    </IonItem>\n  )\n}\n\nfunction OnlyComment({comment}) {\n  return (\n    <IonItem lines=\"none\" className=\"comment ion-no-padding pointer\">\n      <IonAvatar slot=\"start\">\n        <img\n          src={comment?.userProfile || '../../../assets/images/defaultProfile.svg'}\n          alt=\"user profile\"\n        />\n      </IonAvatar>\n      <IonLabel>\n        <IonText className=\"comment-user\">\n          {comment.userName} . {formatDate(new Date(comment.createdAt))}\n        </IonText>\n        {\n          <p className=\"comment-description\">\n            <span>{comment.comment}</span>\n          </p>\n        }\n      </IonLabel>\n    </IonItem>\n  )\n}\nfunction Comment({\n  comment,\n  isComment,\n  isReply,\n  onPresentCommentRepliesModal,\n  onDisLikeComment,\n  onPresentCommentActionsPopover,\n  onLikeComment,\n}) {\n  function handlePopover(e, comment) {\n    e.persist()\n    // setShowPopover(e)\n    onPresentCommentActionsPopover(e, comment)\n  }\n  return (\n    <IonItem lines=\"none\" className=\"comment ion-no-padding pointer\">\n      <IonAvatar slot=\"start\" className={clsx('reply-avatar' && !isComment)}>\n        <img\n          src={comment?.userProfile || '../../../assets/images/defaultProfile.svg'}\n          alt=\"user profile\"\n        />\n      </IonAvatar>\n      <IonLabel>\n        <IonText className=\"comment-user\">\n          {comment.userName} . {formatDate(new Date(comment.createdAt))}\n        </IonText>\n        {isComment ? (\n          <p className=\"comment-description\">\n            <span onClick={() => onPresentCommentRepliesModal(comment)}>\n              {comment.comment}\n            </span>\n            {comment.isOwner && !isComment && isReply && (\n              <span\n                className=\"ion-float-right\"\n                onClick={(e) => handlePopover(e, comment)}\n              >\n                <IonIcon icon={ellipsisVertical}></IonIcon>\n              </span>\n            )}\n          </p>\n        ) : (\n          <p className=\"comment-description\">\n            {comment.reply}\n            {comment.isOwner && !isComment && isReply && (\n              <span\n                className=\"ion-float-right\"\n                onClick={(e) => handlePopover(e, comment)}\n              >\n                <IonIcon icon={ellipsisVertical}></IonIcon>\n              </span>\n            )}\n          </p>\n        )}\n        {isComment && isReply && (\n          <p>\n            <span className=\"comment-like\" onClick={(e) => onLikeComment(comment)}>\n              <IonImg\n                src={\n                  comment.isCurrentUserlike\n                    ? '/assets/images/thumb-up-filled.png'\n                    : '/assets/images/thumb-up.png'\n                }\n              ></IonImg>\n              <IonText>{comment.totalLike}</IonText>\n            </span>\n            <span className=\"comment-disLike\" onClick={(e) => onDisLikeComment(comment)}>\n              <IonImg\n                src={\n                  comment.isCurrentUserDislike\n                    ? '/assets/images/thumb-down-filled.png'\n                    : '/assets/images/thumb-down.png'\n                }\n              ></IonImg>\n              <IonText>{comment.totalDislike}</IonText>\n            </span>\n            <span onClick={() => onPresentCommentRepliesModal(comment)}>\n              <IonImg src=\"/assets/images/black-bubble.png\"></IonImg>\n              <IonText>{comment.totalReply}</IonText>\n            </span>\n            {comment.isOwner && (\n              <span\n                className=\"ion-float-right pointer\"\n                onClick={(e) => handlePopover(e, comment)}\n              >\n                <IonIcon icon={ellipsisVertical}></IonIcon>\n              </span>\n            )}\n          </p>\n        )}\n        {comment.totalReply > 0 && isComment && isReply && (\n          <p\n            className=\"view-replies c-orange\"\n            onClick={() => onPresentCommentRepliesModal(comment)}\n          >\n            VIEW {comment.totalReply} REPLIES\n          </p>\n        )}\n      </IonLabel>\n    </IonItem>\n  )\n}\n\nasync function presentToast(message) {\n  const toast = document.createElement('ion-toast')\n  toast.message = message\n  toast.duration = 500\n\n  document.body.appendChild(toast)\n  return toast.present()\n}\n\nconst PER_PAGE = 10\n\nfunction CommentReply({comment, lessonId, subLessonId, onDismiss, profile}) {\n  const [reply, setReply] = React.useState('')\n  const [page, setPage] = React.useState(1)\n  const [replies, setReplies] = React.useState([])\n  const [noMore, setNoMore] = React.useState(false)\n  const [event, setEvent] = React.useState(null)\n  const [replyToEdit, setReplyToEdit] = React.useState<any>()\n\n  const commentId = comment._id\n  const [replyToDelete, setReplyToDelete] = React.useState<any>()\n  const [showPopover, setShowPopover] = React.useState<any>()\n  const {post, response, loading} = useFetch(`/comments/reply-list`)\n\n  async function getReplies() {\n    const data = await post(`/${page}`, {commentId})\n    if (response.ok) {\n      if (data.total <= page) {\n        setNoMore(true)\n      }\n      if (page === 1) {\n        setReplies([...data.data])\n      } else {\n        setReplies((l) => [...l, ...data.data])\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    getReplies()\n  }, [page])\n\n  const {post: postReply, loading: replyLoading} = useFetch(`/comments/user/reply`)\n  const {post: postDelete, loading: deleteLoading} = useFetch(`/comments/reply-delete`)\n\n  async function reload() {\n    setPage(1)\n    setNoMore(false)\n    getReplies()\n  }\n\n  React.useEffect(() => {\n    if (event) {\n      event.target.complete()\n      setEvent(null)\n    }\n  }, [event, setEvent])\n\n  async function saveReply() {\n    if (reply === undefined || reply.trim() === '') {\n      return\n    }\n\n    // this.sharedService.presentLoader('Please wait...')\n\n    try {\n      const res = await postReply({\n        lessonId: lessonId,\n        subLessonId: subLessonId,\n        commentId: commentId,\n        reply: reply.trim(),\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n      if (isPlatform('capacitor')) {\n        Keyboard.hide()\n      }\n      await reload()\n      setReply('')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  async function deleteReply() {\n    if (replyToDelete === undefined) {\n      return\n    }\n\n    // this.sharedService.presentLoader('Please wait...')\n\n    try {\n      const res = await postDelete({replyId: replyToDelete?._id})\n      if (res.message) {\n        presentToast(res.message)\n      }\n      await reload()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const showLoading = replyLoading\n  // const {loading, error, data, get, cache} = useFetch('/payments/get-stripe-user', {}, [])\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Replies</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton\n              mode=\"md\"\n              //  (click)=\"dismiss()\"\n              onClick={onDismiss}\n            >\n              <IonIcon color=\"dark\" slot=\"icon-only\" icon={close}></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonLoading\n          // cssClass=\"my-custom-class\"\n          isOpen={showLoading}\n          // onDidDismiss={() => setShowLoading(false)}\n          message={'Please wait...'}\n          // duration={5000}\n        />\n        <IonGrid>\n          <IonRow>\n            <IonCol>\n              <OnlyComment comment={comment} />\n            </IonCol>\n          </IonRow>\n          <AddComment\n            comment={reply}\n            placeholder=\"Add a reply\"\n            onCommentChange={(e) => setReply(e.detail.value)}\n            profile={profile}\n            onSubmit={saveReply}\n          />\n          <IonRow className=\"ml-16\">\n            <IonCol>\n              {replies.map((comment, i) => (\n                <Reply\n                  key={i}\n                  comment={comment}\n                  onPresentCommentActionsPopover={(e, comment) => {\n                    e.persist()\n                    setShowPopover({event: e, comment})\n                  }}\n                />\n              ))}\n              {/* <app-comment\n          [comments]=\"replies\"\n          [isComment]=\"false\"\n          [isReply]=\"true\"\n          (likeComment)=\"likeComment($event)\"\n          (disLikeComment)=\"disLikeComment($event)\"\n          (presentCommentActionsPopover)=\"presentCommentActionsPopover($event)\"\n        ></app-comment> */}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n        <IonInfiniteScroll\n          threshold=\"100px\"\n          disabled={noMore}\n          onIonInfinite={(e: any) => {\n            setPage((p) => p + 1)\n            setEvent(e)\n          }}\n        >\n          <IonInfiniteScrollContent>\n            <div style={{textAlign: 'center'}}>\n              <IonSpinner name=\"crescent\" />\n            </div>\n          </IonInfiniteScrollContent>\n        </IonInfiniteScroll>\n      </IonContent>\n      <IonPopover\n        isOpen={!!showPopover}\n        event={showPopover?.event}\n        mode=\"md\"\n        onDidDismiss={() => setShowPopover(null)}\n      >\n        <IonList lines=\"none\">\n          <IonItem\n            onClick={() => {\n              setShowPopover(null)\n              setReplyToEdit(showPopover?.comment)\n            }}\n          >\n            <IonLabel>Edit</IonLabel>\n          </IonItem>\n          <IonItem\n            onClick={() => {\n              setShowPopover(null)\n              setReplyToDelete(showPopover?.comment)\n            }}\n          >\n            <IonLabel>Delete</IonLabel>\n          </IonItem>\n        </IonList>\n      </IonPopover>\n      <IonAlert\n        isOpen={!!replyToDelete}\n        onDidDismiss={() => setReplyToDelete(null)}\n        header={'Delete reply'}\n        message={'Delete your reply permanently?'}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (blah) => {},\n          },\n          {\n            text: 'Delete',\n            handler: deleteReply,\n          },\n        ]}\n      />\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!replyToEdit}\n        cssClass=\"comment-replies-modal\"\n        onWillDismiss={() => setReplyToEdit(undefined)}\n      >\n        {replyToEdit && (\n          <EditReply\n            profile={profile}\n            reply={replyToEdit}\n            onDismiss={() => {\n              setReplyToEdit(undefined)\n              reload()\n            }}\n          />\n        )}\n      </IonModal>\n    </>\n  )\n}\nfunction EditReply({reply, onDismiss, profile}) {\n  const [newReply, setNewReply] = React.useState(reply.reply)\n  const [event, setEvent] = React.useState(null)\n\n  const {post: postEdit, loading: editLoading} = useFetch(`/comments/reply-edit`)\n\n  React.useEffect(() => {\n    if (event) {\n      event.target.complete()\n      setEvent(null)\n    }\n  }, [event, setEvent])\n\n  async function editComment() {\n    if (newReply === undefined || newReply.trim() === '') {\n      return\n    }\n\n    try {\n      const res = await postEdit({\n        replyId: reply._id,\n        reply: newReply.trim(),\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n\n      if (isPlatform('capacitor')) {\n        Keyboard.hide()\n      }\n      setNewReply('')\n      onDismiss()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const showLoading = editLoading\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Edit Reply</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" onClick={onDismiss}>\n              <IonIcon color=\"dark\" slot=\"icon-only\" icon={close}></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonLoading isOpen={showLoading} message={'Please wait...'} />\n        <IonGrid>\n          <AddComment\n            comment={newReply}\n            placeholder=\"Edit a reply\"\n            onCommentChange={(e) => setNewReply(e.detail.value)}\n            profile={profile}\n            onSubmit={editComment}\n          />\n        </IonGrid>\n      </IonContent>\n    </>\n  )\n}\nfunction EditComment({comment, onDismiss, profile}) {\n  const [newComment, setNewComment] = React.useState(comment.comment)\n  const [event, setEvent] = React.useState(null)\n\n  const {post: postEdit, loading: editLoading} = useFetch(`/comments/edit`)\n\n  React.useEffect(() => {\n    if (event) {\n      event.target.complete()\n      setEvent(null)\n    }\n  }, [event, setEvent])\n\n  async function editComment() {\n    if (newComment === undefined || newComment.trim() === '') {\n      return\n    }\n\n    try {\n      const res = await postEdit({\n        commentId: comment._id,\n        comment: newComment.trim(),\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n      if (isPlatform('capacitor')) {\n        Keyboard.hide()\n      }\n      setNewComment('')\n      onDismiss()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const showLoading = editLoading\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Edit Comment</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" onClick={onDismiss}>\n              <IonIcon color=\"dark\" slot=\"icon-only\" icon={close}></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonLoading isOpen={showLoading} message={'Please wait...'} />\n        <IonGrid>\n          <AddComment\n            comment={newComment}\n            placeholder=\"Edit a comment\"\n            onCommentChange={(e) => setNewComment(e.detail.value)}\n            profile={profile}\n            onSubmit={editComment}\n          />\n        </IonGrid>\n      </IonContent>\n    </>\n  )\n}\n\nexport function Comments({lessonId, subLessonId, profile}) {\n  const [selectedComment, setSelectedComment] = React.useState()\n  const [commentToEdit, setCommentToEdit] = React.useState<any>()\n  const [commentToDelete, setCommentToDelete] = React.useState<any>()\n  const [showPopover, setShowPopover] = React.useState<any>()\n  const [comment, setComment] = React.useState('')\n  const [page, setPage] = React.useState(1)\n  const [noMore, setNoMore] = React.useState(false)\n  const [event, setEvent] = React.useState(null)\n  const [ts, setTs] = React.useState(0)\n  const [{data = [], loading}, setResult] = React.useState({data: [], loading: true})\n\n  const {post: postSave, loading: saveLoading} = useFetch(`/comments/user/save`)\n  const {post: postLike, loading: likeLoading} = useFetch(`/comments/user/like`)\n  const {post: postDislike, loading: dislikeLoading} = useFetch(`/comments/user/dislike`)\n  const {post: postDelete, loading: deleteLoading} = useFetch(`/comments/delete`)\n\n  // const { post, response } = useFetch(`/comments/list`);\n\n  const {post} = useFetch(`/comments/list`)\n  React.useEffect(() => {\n    post(`/${page}`, {subLessonId})\n      .then((res) => {\n        if (res.total <= page || res.data.length === 0) {\n          setNoMore(true)\n        }\n        if (page === 1) {\n          return setResult({data: res.data, loading: false})\n        }\n        const newData = [...data, ...res.data]\n        return setResult({data: newData, loading: false})\n      })\n      .catch((err) => {\n        console.log({err})\n      })\n  }, [page, subLessonId, setNoMore, ts])\n\n  React.useEffect(() => {\n    if (event) {\n      event.target.complete()\n      setEvent(null)\n    }\n  }, [event, setEvent])\n\n  function reload() {\n    setNoMore(false)\n    setPage(1)\n    setTs(+new Date())\n  }\n\n  async function likeComment(comment) {\n    try {\n      const res = await postLike({\n        lessonId: lessonId,\n        subLessonId: subLessonId,\n        commentId: comment._id,\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n      reload()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  async function dislikeComment(comment) {\n    try {\n      const res = await postDislike({\n        lessonId: lessonId,\n        subLessonId: subLessonId,\n        commentId: comment._id,\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n      reload()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  async function saveComment() {\n    if (comment === undefined || comment.trim() === '') {\n      return\n    }\n\n    try {\n      const res = await postSave({\n        lessonId: lessonId,\n        subLessonId: subLessonId,\n        comment: comment.trim(),\n      })\n      if (res.message) {\n        presentToast(res.message)\n      }\n      if (isPlatform('capacitor')) {\n        Keyboard.hide()\n      }\n      reload()\n      setComment('')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const showLoading = likeLoading || dislikeLoading || saveLoading || deleteLoading\n  return (\n    <div className=\"comments-component\">\n      <IonLoading isOpen={showLoading} message={'Please wait...'} />\n      <AddComment\n        comment={comment}\n        onCommentChange={(e) => setComment(e.detail.value)}\n        profile={profile}\n        onSubmit={saveComment}\n      />\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol sizeXs=\"12\" sizeSm=\"12\" className=\"ion-align-self-center\">\n          {data.map((comment, i) => (\n            <Comment\n              key={i}\n              isComment={true}\n              isReply={true}\n              comment={comment}\n              onPresentCommentRepliesModal={(comment) => setSelectedComment(comment)}\n              onPresentCommentActionsPopover={(e, comment) => {\n                e.persist()\n                setShowPopover({event: e, comment})\n              }}\n              onLikeComment={likeComment}\n              onDisLikeComment={dislikeComment}\n            />\n          ))}\n        </IonCol>\n      </IonRow>\n      <IonInfiniteScroll\n        threshold=\"100px\"\n        disabled={noMore}\n        onIonInfinite={(e: any) => {\n          setPage((p) => p + 1)\n          setEvent(e)\n        }}\n      >\n        <IonInfiniteScrollContent>\n          <div style={{textAlign: 'center'}}>\n            <IonSpinner name=\"crescent\" />\n          </div>\n        </IonInfiniteScrollContent>\n      </IonInfiniteScroll>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!commentToEdit}\n        cssClass=\"comment-replies-modal\"\n        onWillDismiss={() => setCommentToEdit(undefined)}\n      >\n        {commentToEdit && (\n          <EditComment\n            profile={profile}\n            comment={commentToEdit}\n            onDismiss={() => {\n              setCommentToEdit(undefined)\n              reload()\n            }}\n          />\n        )}\n      </IonModal>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!selectedComment}\n        cssClass=\"comment-replies-modal\"\n        onWillDismiss={() => setSelectedComment(undefined)}\n      >\n        {selectedComment && (\n          <CommentReply\n            lessonId={lessonId}\n            subLessonId={subLessonId}\n            profile={profile}\n            comment={selectedComment}\n            onDismiss={() => {\n              setSelectedComment(undefined)\n              reload()\n            }}\n          />\n        )}\n      </IonModal>\n      <IonPopover\n        isOpen={!!showPopover}\n        event={showPopover?.event}\n        mode=\"md\"\n        onDidDismiss={() => setShowPopover(null)}\n      >\n        <IonList lines=\"none\">\n          <IonItem\n            onClick={() => {\n              setShowPopover(null)\n              setCommentToEdit(showPopover?.comment)\n            }}\n          >\n            <IonLabel>Edit</IonLabel>\n          </IonItem>\n          <IonItem\n            onClick={() => {\n              setShowPopover(null)\n              setCommentToDelete(showPopover?.comment)\n            }}\n          >\n            <IonLabel>Delete</IonLabel>\n          </IonItem>\n        </IonList>\n      </IonPopover>\n      <IonAlert\n        isOpen={!!commentToDelete}\n        onDidDismiss={() => setCommentToDelete(null)}\n        header={'Delete comment'}\n        message={'Delete your comment permanently?'}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (blah) => {},\n          },\n          {\n            text: 'Delete',\n            handler: async () => {\n              if (commentToDelete) {\n                await postDelete({commentId: commentToDelete?._id})\n                reload()\n              }\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n}\n\nfunction AddComment({\n  onSubmit,\n  profile,\n  comment,\n  onCommentChange,\n  placeholder = 'Add a comment',\n}) {\n  const [cnt] = React.useState(0)\n\n  function showKeyBoard() {\n    if (isPlatform('capacitor')) {\n      Keyboard.show()\n    }\n  }\n  return (\n    <IonRow className=\"add-comment ion-align-items-center ion-justify-content-center\">\n      <IonCol size=\"12\" className=\"ion-align-self-center\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault()\n            onSubmit()\n          }}\n        >\n          <IonItem lines=\"none\" mode=\"ios\" className=\" ion-no-padding\">\n            <IonAvatar slot=\"start\">\n              <img\n                src={profile?.profilePic || '/assets/images/defaultProfile.svg'}\n                alt=\"user profile\"\n              />\n            </IonAvatar>\n            <IonInput\n              key={cnt}\n              type=\"text\"\n              placeholder={placeholder}\n              id=\"comment\"\n              name=\"comment\"\n              autofocus\n              value={comment || ''}\n              onIonChange={onCommentChange}\n              onIonFocus={showKeyBoard}\n            ></IonInput>\n\n            <IonIcon slot=\"end\" icon={send} onClick={onSubmit}></IonIcon>\n          </IonItem>\n        </form>\n      </IonCol>\n    </IonRow>\n  )\n}\n","import * as React from 'react'\nimport {CachePolicies, Provider} from 'use-http'\nimport {Plugins} from '@capacitor/core'\nconst {Storage} = Plugins\n\nasync function getNativeStorage(key) {\n  const ret = await Storage.get({key})\n  let value = JSON.parse(ret.value)\n  if (!value) {\n    value = {data: null}\n  }\n  return value\n}\n\nconst ApiProvider: React.FC = ({children}) => {\n  const options = {\n    cachePolicy: CachePolicies.NO_CACHE,\n    interceptors: {\n      request: async ({options, url, path, route}) => {\n        // console.log({url, path, options})\n        const token = await getNativeStorage('token')\n        if (token?.data) {\n          options.headers.accesstoken = token.data\n        }\n        // console.log({token1})\n        // const token = JSON.parse(localStorage.getItem('_cap_token')).data\n\n        return options\n      },\n    },\n  }\n  return (\n    <Provider url={process.env.REACT_APP_API_URL} options={options}>\n      {children}\n    </Provider>\n  )\n}\nexport default ApiProvider\n","import React, {useEffect, useState} from 'react'\nimport {\n  IonAlert,\n  IonBackButton,\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonFooter,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonLabel,\n  IonPage,\n  IonProgressBar,\n  IonRippleEffect,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  IonSkeletonText,\n  IonSpinner,\n  IonText,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n  useIonRouter,\n  useIonViewWillEnter,\n} from '@ionic/react'\nimport {fetchCourses} from '../../fetchApis'\nimport {play} from 'ionicons/icons'\nimport ReactPlayer from 'react-player'\nimport {Comments} from './Comments'\nimport * as ReactQuery from 'react-query'\n\n// import {useStore} from 'src/reactapp/useStore'\nimport {\n  Lesson,\n  useAddToMyLessonMutation,\n  useGetLessonDeatilQuery,\n  useGetProfileQuery,\n  useSetLessonSavedMutation,\n} from '../../schema/types-and-hooks'\nimport clsx from 'clsx'\nimport ApiProvider from '../../ApiProvider'\n\nimport './LessonDetails.scss'\nimport {useParams} from 'react-router'\nimport {storageHelper} from '../../utils/storageHelper'\nimport {showHelpGuideFunction} from '../../hooks/useHelpGuide'\n\nconst Introduction = ({lessonDetails}) => {\n  const router = useIonRouter()\n  const isLoading = lessonDetails === undefined\n  if (isLoading) {\n    return (\n      <>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <h6 className=\"lesson-heading\">Introduction</h6>\n            <div>\n              <IonSkeletonText animated style={{width: '100%'}}></IonSkeletonText>\n              <IonSkeletonText animated style={{width: '100%'}}></IonSkeletonText>\n              <IonSkeletonText animated style={{width: '80%'}}></IonSkeletonText>\n            </div>\n          </IonCol>\n        </IonRow>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <div>\n              <IonSkeletonText animated style={{width: '100%'}}></IonSkeletonText>\n            </div>\n          </IonCol>\n        </IonRow>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <h6 className=\"lesson-heading\">Level</h6>\n            <div>\n              <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n            </div>\n          </IonCol>\n        </IonRow>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <h6 className=\"lesson-heading\">Number of Scenes</h6>\n            <div>\n              <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n            </div>\n          </IonCol>\n        </IonRow>\n\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <div>\n              <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n            </div>\n          </IonCol>\n        </IonRow>\n      </>\n    )\n  }\n\n  const videoLevel =\n    lessonDetails.videoLevel === 'Elementary'\n      ? 'Upper-beginner'\n      : lessonDetails.videoLevel\n  return (\n    <>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"12\" className=\"ion-align-self-center\">\n          <h6 className=\"lesson-heading\">Introduction</h6>\n          <IonText>{lessonDetails?.introduction}</IonText>\n        </IonCol>\n      </IonRow>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"12\" className=\"ion-align-self-center\">\n          <p className=\"c-orange\">{lessonDetails?.tags}</p>\n        </IonCol>\n      </IonRow>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"12\" className=\"ion-align-self-center\">\n          <h6 className=\"lesson-heading\">Level</h6>\n          <IonText>{lessonDetails?.videoLevelLabel}</IonText>\n        </IonCol>\n      </IonRow>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"12\" className=\"ion-align-self-center\">\n          <h6 className=\"lesson-heading\">Number of Scenes</h6>\n          <IonText>\n            {lessonDetails.scenes?.length} scenes\n            <small>(~20-30 mins. Each scene is ~3 mins to study)</small>\n          </IonText>\n        </IonCol>\n      </IonRow>\n\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"12\" className=\"ion-align-self-center\">\n          <p\n            className=\"lesson-heading pointer\"\n            id=\"course-page\"\n            style={{\n              textDecoration: 'underline',\n              display: 'inline-block',\n              cursor: 'pointer',\n            }}\n            onClick={() => {\n              router.push(`/course-details/${lessonDetails.lessonId}/myCourse`, 'back')\n            }}\n          >\n            Go to the course page\n          </p>\n        </IonCol>\n      </IonRow>\n    </>\n  )\n}\n\nfunction getLessonUsageMessage(profile, isDraft, isCompletedLesson, myCourse) {\n  let {currentPackage, subscriptionProductId} = profile\n  if (isDraft === true) {\n    return {\n      subHeader: '',\n      message: \"1 lesson won't be used\",\n      action: 'start',\n    }\n  }\n\n  if (isCompletedLesson) {\n      let message = ''\n    if (\n      currentPackage === 'Subscription' &&\n      (subscriptionProductId !== 'yearly' || subscriptionProductId !== '6_months')\n    ) {\n      message = 'You’ve already completed this lesson. Do you want to re-study it?'\n    } else {\n      message = \"You've studied this. <br/> 1 lesson won't be used\"\n    }\n    return {\n      subHeader: '',\n      message: message,\n      action: 'start',\n    }\n  }\n\n  if (currentPackage === 'SubscriptionExpired') {\n    return {\n      header: 'Subscription expired!',\n      message: 'Looks like your subscription has expired. Kindly renew it to continue.',\n      action: 'subscribe',\n    }\n  }\n\n  if (currentPackage === 'Trial') {\n    const total = profile.trialLessonLimit\n    const left = total - myCourse.length\n    if (left <= 0) {\n      return {\n        header: 'Speaky Peaky',\n        message:\n          \"Hooray! You've finished all free lessons. Please purchase a subscription for more lessons\",\n        action: 'subscribe',\n      }\n    }\n    // prettier-ignore\n    return {\n      subHeader: 'You will use 1 lesson.',\n      message: `<b style=\"color:#E22D2D\">${left} out of ${total}</b> ${left <= 1 ? 'lesson is' : 'lessons are'} left.`,\n      action: 'start'\n    }\n  }\n\n  if (currentPackage === 'Subscription') {\n    let subHeader = ''\n    let message = ''\n    if (profile.subscriptionType !== 'Promtion') {\n      if (subscriptionProductId === 'yearly' || subscriptionProductId === '6_months') {\n        message = 'Are you sure you want to study this lesson?'\n      } else if (\n        subscriptionProductId === 'monthly' ||\n        subscriptionProductId === undefined ||\n        subscriptionProductId === null\n      ) {\n        subHeader = 'You will use 1 lesson.'\n\n        const total = profile.subscriptionLesson\n        const left = total - profile.completedLesson\n\n        console.log(\"total\", total, left)\n\n        if (left <= 0) {\n          return {\n            header: 'Speaky Peaky',\n            message: \"Hooray! You've finished all lessons.\",\n          }\n        }\n        message = `<b style=\"color:#E22D2D\">${left} out of ${total}</b> ${left <= 1 ? 'lesson is' : 'lessons are'} left this month.`\n\n        console.log(\"monthly\", subHeader, message)\n      }\n\n      return {\n        subHeader,\n        message,\n        action: 'start',\n      }\n    } else {\n        const total = profile.subscriptionLesson\n        const left = total - profile.completedLesson\n        if (left <= 0) {\n          return {\n            header: 'Speaky Peaky',\n            message: \"Hooray! You've finished all lessons.\",\n            action: 'subscribe',\n          }\n        }\n        subHeader = 'You will use 1 lesson.'\n        message = `<b style=\"color:#E22D2D\">${left} out of ${total}</b> Promotional ${left <= 1 ? 'lesson is' : 'lessons are'} left.`\n        return {\n          subHeader,\n          message,\n          action: 'start',\n        }\n      }\n  }\n  return {\n    subHeader: 'none',\n    message: 'none',\n  }\n}\n\nfunction StartButton({isDraft, lessonDetails, onStart, myCourse}) {\n  const router = useIonRouter()\n  const [present] = useIonAlert()\n  const [addToMyLesson] = useAddToMyLessonMutation({\n    onCompleted: (data) => {\n      if (data.addToMyLesson.isMy) {\n        onStart()\n      }\n    },\n  })\n\n  useIonViewWillEnter(() => {\n    fetchCourses().then((result) => result)\n  })\n  const {\n    data: {profile},\n    loading,\n  } = useGetProfileQuery({fetchPolicy: 'cache-and-network'})\n\n  const isCompletedLesson = lessonDetails.isCompleted;\n\n\n  async function handleStart() {\n    if (isDraft) {\n      return onStart()\n    }\n    addToMyLesson({variables: {lessonId: lessonDetails._id}})\n  }\n\n  async function handleStartClick() {\n    try {\n      // const result = myCourse.filter((data) => {\n      //   if (data.subLessons.some((c) => c.lessonId.includes(lessonDetails.lessonId))) {\n      //     return data\n      //   }\n      // })\n      const started = './assets/images/listen.png';\n      const {subHeader, message, action} = getLessonUsageMessage(\n        profile,\n        isDraft,\n        isCompletedLesson,\n        myCourse,\n        // result,\n      )\n\n      // console.log(\"action\", subHeader, message, action)\n      \n      if (action === 'start') {\n        await present({\n          mode: 'md',\n          cssClass: 'startLessonAlert',\n          message: `<img src=\"${started}\" alt=\"g-maps\"> <br/><br/> ${subHeader} <br/>${message} <br/>`,\n          buttons: [\n            {\n              text: '',\n              role: 'cancel',\n              cssClass: 'startLessonCancelBtn',\n            },\n            {\n              text: 'START',\n              cssClass: 'startLessonBtn',\n              handler: () => {\n                handleStart()\n              },\n            },\n          ],\n        })\n      } else if (action === 'subscribe') {\n        await present({\n          mode: 'md',\n          cssClass: 'startLessonAlert',\n          subHeader: subHeader,\n          message: message,\n          buttons: [\n            {\n              text: '',\n              role: 'cancel',\n              cssClass: 'startLessonCancelBtn',\n            },\n\n            {\n              text: 'Subscribe',\n              cssClass: 'startLessonBtn',\n              handler: () => {\n                router.push('/subscriptionplans')\n              },\n            },\n          ],\n        })\n      } else {\n        await present({\n          mode: 'md',\n          cssClass: 'startLessonAlert',\n          subHeader: subHeader,\n          message: message,\n          buttons: [\n            {\n              text: '',\n              role: 'cancel',\n              cssClass: 'startLessonCancelBtn',\n            },\n          ],\n        })\n      }\n    } catch {}\n  }\n\n  return (\n    <>\n      <IonButton\n        className=\"red-c detailButton\"\n        mode=\"ios\"\n        // color=\"danger\"\n        shape=\"round\"\n        expand=\"block\"\n        onClick={handleStartClick}\n        disabled={loading}\n      >\n        <IonIcon slot=\"start\" icon={play}></IonIcon>\n        <strong>START</strong>\n      </IonButton>\n    </>\n  )\n}\n\nconst LessonDetails: React.FC<any> = ({subLessonId, isDraft, myCourse}) => {\n  const router = useIonRouter()\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n\n  const [segment, setSegment] = React.useState('introduction')\n  const [lessonDetails, setLessonDetails] = React.useState<Lesson>()\n  const [showAlert, setShowAlert] = React.useState(false)\n  const [playing, setPlaying] = React.useState(false)\n\n  const [playedSeconds, setPlayedSeconds] = React.useState(0)\n  const [setSave, {loading: saveLoading}] = useSetLessonSavedMutation({\n    onCompleted: (data) => {\n      setLessonDetails((lesson) => ({...lesson, isSaved: data.setLessonSaved.isSaved}))\n    },\n  })\n\n  const lessonRes = useGetLessonDeatilQuery({\n    variables: {\n      id: subLessonId,\n    },\n    onCompleted: (data) => {\n      setLessonDetails(data.lesson as Lesson)\n    },\n    skip: !subLessonId,\n  })\n\n  const playerRef = React.useRef<ReactPlayer>(null)\n\n  if (!lessonDetails) {\n    return <IonProgressBar type=\"indeterminate\" />\n  }\n\n  function handleUnstarted() {\n    // console.log('Unstarted', {playing})\n  }\n\n\n  const scenes = lessonDetails.scenes.map((s: any) => ({...s, length: s.end - s.start}))\n  const firstScene = scenes[0]\n  const scenePlayedSeconds = Math.max(playedSeconds - firstScene.start, 0)\n  const playedRate = scenePlayedSeconds / 20 || 0\n\n  async function handleSaveLesson() {\n    try {\n      setSave({\n        variables: {\n          id: subLessonId,\n          isSave: !lessonDetails.isSaved,\n        },\n      })\n\n      // await loadData()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  function handleProgress(data: any) {\n    setPlayedSeconds(data.playedSeconds)\n\n    if (data.playedSeconds >= firstScene.start + 20) {\n      setPlaying(false)\n      playerRef.current?.seekTo(firstScene.start)\n    }\n  }\n\n  async function handleOnReady(player: ReactPlayer) {\n    try {\n      player.seekTo(Math.floor(firstScene.start))\n\n      const helpDone = await storageHelper.getNativeStorage('isHelpModeDone')\n      const isHelpModeDone = Boolean(helpDone?.data)\n      if (!isHelpModeDone) {\n        const steps = [\n          {\n            element: '#highlight-save-lesson-icon',\n            popover: {\n              title: 'Save for later',\n              description: 'You can save lesson for later.',\n              position: 'left',\n            },\n          },\n          {\n            element: '#highlight-comment',\n            popover: {\n              title: 'Comments',\n              description: 'See what other people had to say about this lesson.',\n              position: 'top-right',\n            },\n          },\n        ]\n\n        showHelpGuideFunction({\n          steps,\n          onClose: () => {\n            setPlaying(true)\n            storageHelper.setNativeStorage('isHelpModeDone', true)\n          },\n        })\n      } else {\n        setPlaying(true)\n      }\n    } catch {}\n  }\n  // const isNew = !lessonDetails.completedLesson\n  // const isSaved = saveLoading ? !lessonDetails.isSaved : lessonDetails.isSaved\n  const isSaved = lessonDetails.isSaved\n\n  return (\n    <IonPage className=\"lesson-details-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonIcon\n              style={{cursor: 'pointer'}}\n              onClick={() => {\n                router.push('/dashboard/lessons', 'root')\n              }}\n              name=\"chevron-back\"\n              size=\"large\"\n            ></IonIcon>\n            {/* <IonBackButton defaultHref=\"/dashboard/lessons\" /> */}\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>{lessonDetails.lessonName}</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton\n              mode=\"md\"\n              onClick={() => {\n                router.push('/dashboard/lessons', 'root')\n              }}\n            >\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        {/* <HelpGuide />\n        {isNew && subscription.subscriptionStatus === 'SubscriptionExpired' && (\n          <SubscriptionExpiredAlerts />\n        )} */}\n        {/* {isNew && subscription.trialEnd && <LessonEndAlerts />} */}\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol className=\"ion-no-padding\">\n              <IonRow\n                // *ngIf=\"isLoaded; else loadingPlaceholder\"\n\n                className=\"lesson ion-align-items-center ion-justify-content-center\"\n              >\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  sizeLg=\"8\"\n                  sizeXl=\"8\"\n                  className=\"ion-align-self-center ion-no-padding youtube-container\"\n                  // #container\n                >\n                  <div className=\"player-wrapper\">\n                    <ReactPlayer\n                      ref={playerRef}\n                      url={`https://www.youtube.com/watch?v=${lessonDetails.youtubeId}`}\n                      controls={false}\n                      // playbackRate={2}\n                      playing={playing}\n                      width=\"100%\"\n                      height=\"auto\"\n                      // light\n                      config={{\n                        youtube: {\n                          playerVars: {\n                            showinfo: 0,\n                            disablekb: 1,\n                            controls: 0,\n                            cc_load_policy: 0,\n                            origin: window.location.origin,\n                          },\n                          // embedOptions: {},\n                          onUnstarted: handleUnstarted,\n                        },\n                      }}\n                      progressInterval={500}\n                      // onPlay={}\n                      onProgress={handleProgress}\n                      onReady={handleOnReady}\n                    />\n                    <div className=\"player-overlay\">\n                      <span\n                        id=\"highlight-save-lesson-icon\"\n                        onClick={handleSaveLesson}\n                        className={clsx(\n                          'ion-activatable ripple-parent',\n                          saveLoading && 'save-loading',\n                        )}\n                      >\n                        {/* <IonSpinner /> */}\n                        {saveLoading ? (\n                          <IonSpinner color=\"medium\" />\n                        ) : isSaved ? (\n                          <IonIcon src=\"/assets/images/like-active.svg\"></IonIcon>\n                        ) : (\n                          <IonIcon src=\"/assets/images/like_inactive.svg\"></IonIcon>\n                        )}\n                        <IonRippleEffect />\n                      </span>\n                    </div>\n                  </div>\n                </IonCol>\n              </IonRow>\n              <IonAlert\n                isOpen={showAlert}\n                onDidDismiss={() => setShowAlert(false)}\n                cssClass=\"my-custom-class\"\n                header={'Can not Autoplay!'}\n                message={\n                  'Autoplay is not allowed without <strong>User interacts</strong>!!!'\n                }\n                buttons={[\n                  {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                  },\n                  {\n                    text: 'Play',\n                    handler: () => {\n                      setPlaying(true)\n                    },\n                  },\n                ]}\n              />\n\n              <IonRow\n                // *ngIf=\"isLoaded\"\n                className=\"ion-align-items-center ion-justify-content-center\"\n              >\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  sizeLg=\"8\"\n                  sizeXl=\"8\"\n                  className=\"ion-align-self-center ion-no-padding\"\n                >\n                  <div className=\"playing-progress-bar\" style={{width: '100%'}}>\n                    <div className={`scene-bar active`} style={{flex: 1}}>\n                      <div\n                        className=\"scene-progress\"\n                        style={{\n                          width: `${playedRate * 100}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                  <IonRow className=\"youtube-handler ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      size=\"5\"\n                      className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                    >\n                      <IonButton\n                        fill=\"clear\"\n                        onClick={() => {\n                          const curTime = playerRef.current?.getCurrentTime() || 0\n                          const time = Math.max(curTime - 3, Math.floor(firstScene.start))\n                          playerRef.current?.seekTo(time)\n                          setPlayedSeconds(time)\n                        }}\n                      >\n                        <IonIcon src=\"/assets/images/lessons/3seconds-back.svg\"></IonIcon>\n                      </IonButton>\n                    </IonCol>\n                    <IonCol\n                      size=\"2\"\n                      className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                    >\n                      {playing ? (\n                        <IonButton fill=\"clear\" onClick={() => setPlaying(false)}>\n                          <IonIcon src=\"/assets/images/lessons/pause-lesson.svg\"></IonIcon>\n                        </IonButton>\n                      ) : (\n                        <IonButton fill=\"clear\" onClick={() => setPlaying(true)}>\n                          <IonIcon src=\"/assets/images/lessons/play-lesson.svg\"></IonIcon>\n                        </IonButton>\n                      )}\n                    </IonCol>\n                    <IonCol\n                      size=\"5\"\n                      className=\"ion-align-self-center ion-no-padding\"\n                    ></IonCol>\n                  </IonRow>\n                </IonCol>\n              </IonRow>\n\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  size-xs=\"12\"\n                  size-sm=\"12\"\n                  size-md=\"10\"\n                  size-xl=\"8\"\n                  size-lg=\"8\"\n                  className=\"ion-align-self-center ion-no-padding\"\n                >\n                  <IonSegment\n                    color=\"danger\"\n                    mode=\"md\"\n                    value={segment}\n                    onIonChange={(e) => setSegment(e.detail.value)}\n                  >\n                    <IonSegmentButton mode=\"md\" value=\"introduction\">\n                      <IonLabel>Lesson Intro</IonLabel>\n                    </IonSegmentButton>\n                    <IonSegmentButton id=\"highlight-comment\" mode=\"md\" value=\"comments\">\n                      <IonLabel>Comments</IonLabel>\n                    </IonSegmentButton>\n                  </IonSegment>\n                </IonCol>\n              </IonRow>\n            </IonCol>\n          </IonRow>\n\n          <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n            <IonCol\n              className=\"ion-align-self-center ion-padding-end ion-padding-start\"\n              size=\"12\"\n            >\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  size-xs=\"12\"\n                  size-sm=\"12\"\n                  size-md=\"10\"\n                  size-xl=\"8\"\n                  size-lg=\"8\"\n                  className=\"ion-align-self-center\"\n                >\n                  {lessonDetails &&\n                    (segment === 'introduction' ? (\n                      <div>\n                        <Introduction\n                          lessonDetails={lessonDetails}\n                          // [subLessonDetails]=\"subLessonDetails\"\n                        />\n                      </div>\n                    ) : (\n                      <ApiProvider>\n                        <Comments\n                          lessonId={lessonDetails?.courseId}\n                          subLessonId={lessonDetails?._id}\n                          profile={profile}\n                        />\n                      </ApiProvider>\n                    ))}\n                </IonCol>\n              </IonRow>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n      <IonFooter mode=\"ios\">\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol\n            size-xs=\"12\"\n            size-sm=\"12\"\n            size-md=\"6\"\n            size-xl=\"4\"\n            size-lg=\"4\"\n            className=\"ion-align-self-center\"\n          >\n            <StartButton\n              isDraft={isDraft}\n              lessonDetails={lessonDetails}\n              myCourse={myCourse}\n              onStart={() => {\n                setPlaying(false)\n\n                router.push(`/lesson-steps/${lessonDetails._id}/${isDraft}`)\n              }}\n            />\n          </IonCol>\n        </IonRow>\n      </IonFooter>\n    </IonPage>\n  )\n}\n\nconst LessonDetailsPage: React.FC = ({}) => {\n  const {subLessonId} = useParams<{subLessonId: string}>()\n  const query = ReactQuery.useQuery('myCources', fetchCourses, {\n    refetchInterval: 10,\n  })\n  const {isLoading, data, error} = query\n\n  return <LessonDetails isDraft={false} subLessonId={subLessonId} myCourse={data} />\n}\n\nexport default LessonDetailsPage\n","import {\n  IonAlert,\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonPage,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  IonText,\n  IonTitle,\n  IonToolbar,\n  useIonRouter,\n} from '@ionic/react'\nimport {format} from 'date-fns/fp'\nimport {chevronBack, chevronForward} from 'ionicons/icons'\nimport React from 'react'\nimport ReactPlayer from 'react-player'\nimport {useParams} from 'react-router'\nimport {Course, useGetCourseQuery} from '../../schema/types-and-hooks'\nimport './CourseDetailsPage.scss'\n\nconst formatDate = format('MMM d, y')\n\nconst CourseDetailsLoading: React.FC<any> = () => {\n  return (\n    <>\n      <IonGrid className=\"ion-no-padding\">\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol\n            sizeXs=\"12\"\n            sizeSm=\"12\"\n            sizeMd=\"10\"\n            sizeLg=\"9\"\n            sizeXl=\"8\"\n            className=\"ion-align-self-center\"\n          >\n            <h1 className=\"ion-padding-bottom\">\n              <strong>Course Details</strong>\n            </h1>\n\n            <div className=\"lesson youtube-container\">\n              <div className=\"player-wrapper\">\n                <ReactPlayer\n                  controls={false}\n                  playing={false}\n                  width=\"100%\"\n                  height=\"auto\"\n                  // light\n                  config={{\n                    youtube: {\n                      playerVars: {\n                        showinfo: 0,\n                        disablekb: 1,\n                        controls: 0,\n                        cc_load_policy: 0,\n                      },\n                    },\n                  }}\n                  progressInterval={500}\n                />\n\n                <div className=\"player-overlay\">\n                  <IonSpinner color=\"medium\" name=\"crescent\" />\n                </div>\n              </div>\n\n              <IonRow className=\"youtube-handler ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  size=\"5\"\n                  className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                ></IonCol>\n                <IonCol\n                  size=\"2\"\n                  className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                >\n                  <IonIcon src=\"/assets/images/lessons/play-lesson.svg\"></IonIcon>\n                </IonCol>\n                <IonCol\n                  size=\"5\"\n                  className=\"ion-align-self-center ion-no-padding\"\n                ></IonCol>\n              </IonRow>\n\n              <IonRow className=\"ion-padding-start ion-padding-end ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  className=\"ion-no-padding ion-align-self-center\"\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  sizeLg=\"9\"\n                  sizeXl=\"8\"\n                >\n                  <p className=\"c-dark-grey\">\n                    <strong\n                    // *ngIf=\"courseDetails?.subLessons.length <= 1; else moreEpisodes\"\n                    >\n                      <IonSkeletonText animated style={{width: '30%'}} />\n                    </strong>\n                  </p>\n\n                  <IonText className=\"c-orange\">\n                    <IonSkeletonText animated style={{width: '80%'}} />\n                  </IonText>\n                  <br />\n                  <br />\n\n                  <p className=\"c-dark-grey\">\n                    <strong>\n                      <IonSkeletonText animated style={{width: '80%'}} />\n                    </strong>\n                  </p>\n\n                  <IonText className=\"c-dark-grey\">\n                    <IonSkeletonText animated style={{width: '100%'}} />\n                  </IonText>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-padding-start ion-padding-end ion-padding-top ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  className=\"ion-no-padding ion-align-self-center\"\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  sizeLg=\"9\"\n                  sizeXl=\"8\"\n                >\n                  <IonSkeletonText animated style={{width: '100%'}} />\n                  <IonSkeletonText animated style={{width: '100%'}} />\n                  <IonSkeletonText animated style={{width: '100%'}} />\n                </IonCol>\n              </IonRow>\n            </div>\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </>\n  )\n}\n\nconst CourseDetails: React.FC<{courseDetails: Course}> = ({courseDetails}) => {\n  // const navCtrl = useStore((state) => state.navController)\n  const router = useIonRouter()\n  const [showAlert, setShowAlert] = React.useState(false)\n  const [playing, setPlaying] = React.useState(false)\n  const [playedSeconds, setPlayedSeconds] = React.useState(0)\n  const playerRef = React.useRef<ReactPlayer>(null)\n\n  function handleUnstarted() {\n    // console.log('Unstarted')\n    // const st = playerRef.current?.getCurrentTime()\n    // setTimeout(() => {\n    //   const ed = playerRef.current?.getCurrentTime()\n    //   if (st === ed) {\n    //     setPlaying(false)\n    //     setShowAlert(true)\n    //   }\n    // }, 1200)\n  }\n\n  const firstScene = courseDetails.lessons[0].scenes[0]\n  const scenePlayedSeconds = Math.max(playedSeconds - firstScene.start, 0)\n  const playedRate = scenePlayedSeconds / 20 || 0\n\n  function handleProgress(data: any) {\n    setPlayedSeconds(data.playedSeconds)\n\n    if (data.playedSeconds >= firstScene.start + 20) {\n      setPlaying(false)\n      playerRef.current?.seekTo(firstScene.start)\n    }\n  }\n  function handleOnReady(player: ReactPlayer) {\n    player.seekTo(Math.floor(firstScene.start))\n    setPlaying(true)\n  }\n  const lessons = courseDetails.lessons\n\n  return (\n    <>\n      <IonGrid className=\"ion-no-padding\">\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol\n            sizeXs=\"12\"\n            sizeSm=\"12\"\n            sizeMd=\"10\"\n            sizeLg=\"8\"\n            sizeXl=\"8\"\n            className=\"ion-align-self-center\"\n          >\n            <h1 className=\"ion-padding-bottom\">\n              <strong>Course Details</strong>\n            </h1>\n\n            <div className=\"lesson youtube-container\">\n              <div className=\"player-wrapper\">\n                <ReactPlayer\n                  ref={playerRef}\n                  url={`https://www.youtube.com/watch?v=${courseDetails.youtubeId}`}\n                  controls={false}\n                  // playbackRate={2}\n                  playing={playing}\n                  width=\"100%\"\n                  height=\"auto\"\n                  // light\n                  config={{\n                    youtube: {\n                      playerVars: {\n                        showinfo: 0,\n                        disablekb: 1,\n                        controls: 0,\n                        cc_load_policy: 0,\n                      },\n                      // embedOptions: {},\n                      onUnstarted: handleUnstarted,\n                    },\n                  }}\n                  progressInterval={500}\n                  // onPlay={}\n                  onProgress={handleProgress}\n                  onReady={handleOnReady}\n                />\n                <div className=\"player-overlay\"></div>\n              </div>\n\n              <div className=\"playing-progress-bar\" style={{width: '100%'}}>\n                <div className={`scene-bar active`} style={{flex: 1}}>\n                  <div\n                    className=\"scene-progress\"\n                    style={{\n                      width: `${playedRate * 100}%`,\n                    }}\n                  />\n                </div>\n              </div>\n\n              <IonRow className=\"youtube-handler ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  size=\"5\"\n                  className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                >\n                  <IonIcon\n                    onClick={() => {\n                      const curTime = playerRef.current?.getCurrentTime() || 0\n                      const time = Math.max(curTime - 3, Math.floor(firstScene.start))\n                      playerRef.current?.seekTo(time)\n                      setPlayedSeconds(time)\n                    }}\n                    src=\"/assets/images/lessons/3seconds-back.svg\"\n                  ></IonIcon>\n                </IonCol>\n                <IonCol\n                  size=\"2\"\n                  className=\"ion-text-center ion-align-self-center ion-no-padding\"\n                >\n                  {playing ? (\n                    <IonIcon\n                      onClick={() => setPlaying(false)}\n                      src=\"/assets/images/lessons/pause-lesson.svg\"\n                    ></IonIcon>\n                  ) : (\n                    <IonIcon\n                      onClick={() => setPlaying(true)}\n                      src=\"/assets/images/lessons/play-lesson.svg\"\n                    ></IonIcon>\n                  )}\n                </IonCol>\n                <IonCol\n                  size=\"5\"\n                  className=\"ion-align-self-center ion-no-padding\"\n                ></IonCol>\n              </IonRow>\n\n              <IonRow className=\"ion-padding-start ion-padding-end ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  className=\"ion-no-padding ion-align-self-center\"\n                  // sizeXs=\"12\"\n                  // sizeSm=\"12\"\n                  // sizeMd=\"10\"\n                  // sizeLg=\"9\"\n                  // sizeXl=\"8\"\n                >\n                  <p className=\"c-dark\">\n                    <strong\n                    // *ngIf=\"courseDetails?.subLessons.length <= 1; else moreEpisodes\"\n                    >\n                      {courseDetails.lessons.length} Episode\n                      {courseDetails.lessons.length > 1 && 's'}\n                    </strong>\n                  </p>\n\n                  <IonText className=\"c-orange\">\n                    {courseDetails.tags\n                      .split(',')\n                      .map((tag) => tag.trim())\n                      .join(' ')}\n                  </IonText>\n                  <br />\n                  <br />\n\n                  {courseDetails.title && (\n                    <p className=\"c-dark-grey\">\n                      <strong>{courseDetails.title}</strong>\n                    </p>\n                  )}\n\n                  <IonText className=\"c-dark-grey\">{courseDetails.introduction}</IonText>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-padding-start ion-padding-end ion-padding-top ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  className=\"ion-no-padding ion-align-self-center\"\n                  // sizeXs=\"12\"\n                  // sizeSm=\"12\"\n                  // sizeMd=\"10\"\n                  // sizeLg=\"9\"\n                  // sizeXl=\"8\"\n                >\n                  <IonList>\n                    {courseDetails.lessons.map((lesson) => (\n                      <IonItem\n                        className=\"pointer\"\n                        key={lesson._id}\n                        detail={false}\n                        routerDirection=\"forward\"\n                        routerLink={`/lesson/${lesson._id}`}\n                        onClick={(e) => {\n                          e.preventDefault()\n                          setPlaying(false)\n                          if (lesson.completedAt) {\n                            // navCtrl.navigateForward(\n                            //   `/lesson-details/${lesson._id}/true/false`,\n                            // )\n                            router.push(\n                              `/lesson-details/${lesson._id}/true/false`,\n                              'forward',\n                            )\n                          } else {\n                            // navCtrl.navigateForward(\n                            //   `/lesson-details/${lesson._id}/false/false`,\n                            // )\n                            router.push(\n                              `/lesson-details/${lesson._id}/false/false`,\n                              'forward',\n                            )\n                          }\n                          // navCtrl.navigateForward(`/lesson/${lesson._id}`)\n                        }}\n                      >\n                        <IonLabel color=\"dark\">\n                          <IonRow>\n                            <IonCol\n                              className=\"ion-no-padding lesson-name\"\n                              size={lesson.completedAt ? '8' : '12'}\n                            >\n                              {lesson.lessonName}\n                            </IonCol>\n                            {lesson.completedAt && (\n                              <IonCol className=\"ion-no-padding studied-date\" size=\"4\">\n                                <p>{formatDate(new Date(lesson.completedAt))}</p>\n                              </IonCol>\n                            )}\n                          </IonRow>\n                        </IonLabel>\n                        <IonIcon\n                          color=\"medium\"\n                          icon={chevronForward}\n                          mode=\"ios\"\n                          slot=\"end\"\n                        ></IonIcon>\n                      </IonItem>\n                    ))}\n                  </IonList>\n                </IonCol>\n              </IonRow>\n            </div>\n            <IonAlert\n              isOpen={showAlert}\n              onDidDismiss={() => setShowAlert(false)}\n              cssClass=\"my-custom-class\"\n              header={'Can not Autoplay!'}\n              message={\n                'Autoplay is not allowed without <strong>User interacts</strong>!!!'\n              }\n              buttons={[\n                {\n                  text: 'Cancel',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                },\n                {\n                  text: 'Play',\n                  handler: () => {\n                    setPlaying(true)\n                  },\n                },\n              ]}\n            />\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </>\n  )\n}\n\nconst CourseDetailsPage: React.FC = () => {\n  const {lessonId} = useParams<{lessonId: string}>()\n  const {data, loading, error} = useGetCourseQuery({\n    variables: {\n      id: lessonId,\n    },\n    skip: !lessonId,\n  })\n\n  return (\n    <IonPage className=\"course-details-page\">\n      <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"back\">\n              <IonIcon color=\"dark\" slot=\"icon-only\" icon={chevronBack}></IonIcon>\n            </IonButton>\n          </IonButtons>\n\n          <IonTitle></IonTitle>\n          <div style={{textAlign: 'center'}}></div>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"/assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        {loading ? (\n          <CourseDetailsLoading />\n        ) : (\n          <CourseDetails courseDetails={data.course as Course} />\n        )}\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default CourseDetailsPage\n","import React from 'react'\nimport ReactPlayer from 'react-player'\nimport {Lesson} from '../../../schema/types-and-hooks'\nimport {YouTubePlayer} from 'youtube-player/dist/types'\nimport create from 'zustand'\nimport {storageHelper} from '../../../utils/storageHelper'\n\nexport interface LangScript {\n  txt: string\n  tip?: string\n}\n\nexport interface Scene {\n  start: number\n  end: number\n  langs: {\n    En: LangScript\n    Ko?: LangScript\n    Po?: LangScript\n    Sp?: LangScript\n    Vi?: LangScript\n  }\n}\n// export interface Lesson {\n//   lessonName: string\n//   youtubeId: string\n//   lessonId: string\n//   subLessonId: string\n//   scenes: Scene[]\n// }\ntype StudyRecord = {\n  dictationText\n}\n\nexport type LessonState = {\n  lesson: Lesson | null\n  loading: boolean\n  setLoading: (loading) => void\n  init: () => void\n  setLesson: (lesson: Lesson) => void\n  sceneIdx: number\n  step: number\n  moveNext: () => void\n  moveStep: (step: number) => void\n  moveScene: (sceneIdx: number) => void\n  dictationText: string\n  studyRecords: StudyRecord[]\n  setDictationText: (sceneIdx: number, text: string) => void\n  overlay: JSX.Element | string\n  setOverlay: (overlay: JSX.Element | string) => void\n  //\n  start: number\n  end: number | null\n  player: ReactPlayer | null\n  ytPlayer: YouTubePlayer\n  playerState: number\n  isPlaying: boolean\n  setPlayer: (player: YouTubePlayer) => void\n  setPlayerState: (state: number) => void\n  play: (start?: number, end?: number) => void\n  stop: (seek?: number) => void\n  rewind: (sec: number) => void\n  scrollTop: number\n  setScrollTop: (scrollTop: number) => void\n}\n\nconst SceneChangeOverlay = ({scnenNo, scenesLength}) => {\n  return (\n    <div style={{textAlign: 'center', fontWeight: 400, textShadow: '0px 0px 4px black'}}>\n      <h1 style={{fontSize: '3rem', opacity: 0.8}}>\n        {scnenNo} of {scenesLength}\n        <small>scenes</small>\n      </h1>\n    </div>\n  )\n}\n\nconst StepMap = {\n  Listen: 1,\n  Dictation: 2,\n  Review: 3,\n  Practice: 4,\n}\n\nasync function getLeftData(lesson: Lesson) {\n  const data = await storageHelper.getNativeStorage('leftOfData')\n  const leftOf = data?.data\n  if (!leftOf || lesson._id !== leftOf.lessonID) return null\n\n  if (leftOf.version === 2) {\n    return {\n      sceneIdx: leftOf.sceneIdx,\n      step: leftOf.step,\n    }\n  } else {\n    const sceneIdx = lesson.scenes.findIndex(\n      (scene) => scene.start === leftOf.selectedLessonScene.start,\n    )\n    if (sceneIdx < 0) return null\n    const step = StepMap[leftOf.selectedLessonStep._id]\n    if (!step) return null\n    return {\n      sceneIdx,\n      step,\n    }\n  }\n}\n\nexport const useLessonStore = create<LessonState>((set, get) => ({\n  lesson: null,\n  loading: true,\n  start: 0,\n  end: null,\n  setLoading: (loading) => set({loading}),\n  init: () =>\n    set({\n      lesson: null,\n      loading: true,\n      studyRecords: null,\n      step: 1,\n      sceneIdx: 0,\n      ytPlayer: null,\n    }),\n  setLesson: async (lesson: Lesson) => {\n    const left = await getLeftData(lesson)\n\n    set({\n      lesson,\n      loading: false,\n      studyRecords: lesson.scenes.map((v) => ({dictationText: ''})),\n      // step: 5,\n      step: left ? left.step : 1,\n      sceneIdx: left ? left.sceneIdx : 0,\n      ytPlayer: null,\n    })\n  },\n  sceneIdx: 0,\n  step: 5,\n  moveNext: () => {\n    const {step, ytPlayer, sceneIdx, lesson, setOverlay} = get()\n    ytPlayer.pauseVideo()\n    const scene = lesson.scenes[sceneIdx]\n    ytPlayer.seekTo(scene.start, true)\n\n    // set({isPlaying: false})\n    setTimeout(() => {\n      if (step === 4) {\n        const nextSceneIdx = sceneIdx + 1\n        // console.log(nextSceneIdx, lesson.scenes.length)\n        if (nextSceneIdx > lesson.scenes.length - 1) {\n          set({step: 5, sceneIdx: 0})\n        } else {\n          setOverlay(\n            <SceneChangeOverlay\n              scnenNo={nextSceneIdx + 1}\n              scenesLength={lesson.scenes.length}\n            />,\n          )\n          setTimeout(() => {\n            setOverlay(null)\n            set({step: 2, sceneIdx: nextSceneIdx})\n          }, 2000)\n        }\n      } else if (step === 1) {\n        set({step: step + 1, sceneIdx: 0})\n      } else if (step <= 3) {\n        set({step: step + 1})\n      } else {\n        set({step: 1})\n      }\n    }, 1)\n  },\n  moveStep: (step) => {\n    set({step: step, isPlaying: false})\n  },\n  moveScene: (sceneIdx) => {\n    const {lesson, ytPlayer, setOverlay} = get()\n    ytPlayer.pauseVideo()\n    const scene = lesson.scenes[sceneIdx]\n    ytPlayer.seekTo(scene.start, true)\n    setOverlay(\n      <SceneChangeOverlay scnenNo={sceneIdx + 1} scenesLength={lesson.scenes.length} />,\n    )\n    setTimeout(() => {\n      setOverlay(null)\n      set({step: 2, sceneIdx: sceneIdx})\n    }, 2000)\n  },\n  studyRecords: null,\n  dictationText: '',\n  setDictationText: (sceneIdx, text) => {\n    set((state) => ({\n      studyRecords: {\n        ...state.studyRecords,\n        [sceneIdx]: {dictationText: text},\n      },\n    }))\n  },\n  overlay: null,\n  setOverlay: (overlay) => set({overlay}),\n  player: null,\n  ytPlayer: null,\n  playerState: null,\n  isPlaying: false,\n  setPlayer: (player) => set({ytPlayer: player}),\n  setPlayerState: (state: number) => set({playerState: state}),\n  play: (start, end) => {\n    // console.log('play', {start, end})\n    const {player, isPlaying, ytPlayer} = get()\n    // console.log({isPlaying})\n    if ((start === 0 || start) && end) {\n      player.seekTo(start, 'seconds')\n      ytPlayer.seekTo(start, true)\n      set({start, end})\n      ytPlayer.playVideo()\n    } else {\n      const prevStart = get().start\n      const prevEnd = get().end\n      if (prevEnd && player.getCurrentTime() > prevEnd) {\n        // player.seekTo(prevStart || 0, 'seconds')\n        ytPlayer.seekTo(prevStart, true)\n      }\n      ytPlayer.playVideo()\n      // set({isPlaying: true})\n    }\n  },\n  stop: (seek) => {\n    const {ytPlayer} = get()\n    ytPlayer.pauseVideo()\n    if (seek) {\n      ytPlayer.seekTo(Math.floor(seek), true)\n    }\n  },\n  rewind: (sec) => {\n    const {ytPlayer} = get()\n    const cur = ytPlayer.getCurrentTime()\n    ytPlayer.seekTo(cur - sec, true)\n  },\n  scrollTop: 0,\n  setScrollTop: (scrollTop) => set({scrollTop}),\n}))\n\nuseLessonStore.subscribe<LessonState>(\n  (state) => {\n    if (state.lesson) {\n      if (state.step === 5) {\n        storageHelper.removeNativeStorage('leftOfData')\n      } else {\n        storageHelper.setNativeStorage('leftOfData', {\n          lessonID: state.lesson._id,\n          version: 2,\n          sceneIdx: state.sceneIdx,\n          step: state.step,\n        })\n      }\n    }\n  },\n  (state) => state,\n  (state, newState) => {\n    return state.sceneIdx === newState.sceneIdx && state.step === newState.step\n  },\n)\n","import * as React from 'react'\nimport {\n  IonAlert,\n  IonImg,\n  IonItem,\n  IonItemGroup,\n  IonLabel,\n  IonRippleEffect,\n  useIonPopover,\n} from '@ionic/react'\nimport YouTube from 'react-youtube'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nconst playRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2]\n\nexport function LessonPlayer({youtubeId, onClickReportIssue}) {\n  const playerRef = React.useRef<YouTube>(null)\n  const setPlayer = useLessonStore((state) => state.setPlayer)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const setPlayerState = useLessonStore((state) => state.setPlayerState)\n  const play = useLessonStore((state) => state.play)\n  const overlay = useLessonStore((state) => state.overlay)\n  const [showAlert, setShowAlert] = React.useState(false)\n  const [playedSeconds, setPlayedSeconds] = React.useState(0)\n  //   const [playbackRate, setPlaybackRate] = React.useState(1)\n\n  function handleUnstarted() {\n    // console.log('Unstarted')\n    // const st = playerRef.current?.getCurrentTime()\n    // setTimeout(() => {\n    //   const ed = playerRef.current?.getCurrentTime()\n    //   if (st === ed) {\n    //     stop()\n    //     setShowAlert(true)\n    //   }\n    // }, 1200)\n  }\n\n  function handleProgress(data: any) {\n    setPlayedSeconds(data.playedSeconds)\n    // if (data.playedSeconds >= firstScene.start + 20) {\n    // setPlaying(false)\n    // playerRef.current?.seekTo(firstScene.start)\n  }\n\n  return (\n    <div className=\"player-wrapper\" >\n      <YouTube\n        ref={playerRef}\n        videoId={youtubeId}\n        opts={{\n          playerVars: {\n            showinfo: 0,\n            disablekb: 1,\n            controls: 0,\n            //@ts-ignore\n            cc_load_policy: 0,\n            playsinline: 1,\n            autoplay: 0,\n            origin: window.location.origin,\n          },\n          width: '100%',\n          height: \"350vh\",\n        }}\n        onReady={(event) => {\n          const player = event.target\n          //   player.setVolume(0.2)\n          setTimeout(() => {\n            setPlayer(player)\n            setPlayerState(player.getPlayerState())\n          }, 200)\n          //   player.playVideo()\n\n          //   console.log('on ready')\n        }}\n        onStateChange={(e) => {\n          setPlayerState(e.data)\n          //   console.log({onStateChange: e.data})\n        }}\n        \n      />\n\n      <div className=\"player-overlay\">\n        <div\n          id=\"info\"\n          className=\"ion-activatable ripple-parent pointer\"\n          onClick={onClickReportIssue}\n        >\n          <IonImg src=\"/assets/images/info_for_lesson.png\" />\n          <IonRippleEffect />\n        </div>\n        {ytPlayer && <PlaybackMenu />}\n\n        {overlay && <div className=\"overlay-msg\">{overlay}</div>}\n      </div>\n      <IonAlert\n        isOpen={showAlert}\n        onDidDismiss={() => setShowAlert(false)}\n        cssClass=\"my-custom-class\"\n        header={'Can not Autoplay!'}\n        message={'Autoplay is not allowed without <strong>User interacts</strong>!!!'}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n          },\n          {\n            text: 'Play',\n            handler: () => {\n              // console.log('Confirm Okay')\n              play()\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n}\n\nfunction Menus({onDissmis}) {\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const playbackRate = ytPlayer?.getPlaybackRate() || 1\n  function handlePlaybackRateChange(playbackRate: number) {\n    ytPlayer.setPlaybackRate(playbackRate)\n    onDissmis()\n  }\n\n  return (\n    <IonItemGroup class=\"playrate-menu\">\n      {playRates.map((r) => (\n        <IonItem key={r} lines=\"none\" onClick={() => handlePlaybackRateChange(r)}>\n          <IonLabel className={clsx(playbackRate === r && 'playrate-active')}>\n            {r === 1 ? 'normal' : r}\n          </IonLabel>\n        </IonItem>\n      ))}\n    </IonItemGroup>\n  )\n}\n\nfunction PlaybackMenu() {\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    onDissmis: () => dissmis(),\n  })\n\n  return (\n    <div id=\"playback-rate\">\n      <div\n        className=\"ion-activatable ripple-parent pointer\"\n        onClick={(e) => {\n          presentMenu({\n            cssClass: 'playRatePopover',\n            mode: 'md',\n            event: e.nativeEvent,\n          })\n        }}\n      >\n        <IonImg src=\"/assets/images/lesson_snail.png\" />\n        <IonRippleEffect />\n      </div>\n    </div>\n  )\n}\n","import * as React from 'react'\nimport {IonButton} from '@ionic/react'\n\ninterface Props {\n  disabled?: boolean\n  onClick: React.MouseEventHandler<HTMLIonButtonElement>\n}\n\nexport const NextButton: React.FC<Props> = ({onClick, ...props}) => {\n  return (\n    <IonButton\n      mode=\"ios\"\n      color=\"danger\"\n      fill=\"outline\"\n      shape=\"round\"\n      expand=\"block\"\n      {...props}\n      onClick={onClick}\n    >\n      Next\n    </IonButton>\n  )\n}\n","import * as React from 'react'\nimport {IonIcon, IonItem, IonLabel, useIonPopover} from '@ionic/react'\nimport {caretDown} from 'ionicons/icons'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nconst stepOpts = [\n  {step: 1, label: '1 Listen'},\n  {step: 2, label: '2 Dictation'},\n  {step: 3, label: '3 Review'},\n  {step: 4, label: '4 Pracitce'},\n]\n\nfunction Menus({onDissmis, step}) {\n  const moveStep = useLessonStore((state) => state.moveStep)\n  function handleStepChange(newStep: number) {\n    moveStep(newStep)\n    onDissmis()\n  }\n\n  return (\n    <>\n      {stepOpts.map((opt) => (\n        <IonItem\n        style={{cursor: 'pointer'}}\n        key={opt.step}  lines=\"none\"  onClick={() => handleStepChange(opt.step)}>\n          <IonLabel className={clsx(step === opt.step && 'c-red')}\n          >{opt.label}</IonLabel>\n        </IonItem>\n      ))}\n    </>\n  )\n}\n\nexport function StepNavMenu() {\n  const step = useLessonStore((state) => state.step)\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    step,\n    onDissmis: () => dissmis(),\n  })\n\n  if (step < 2 || step > 4) {\n    return null\n  }\n\n  return (\n    <div\n      onClick={(e) => {\n        presentMenu({\n          cssClass: 'lessonStepsPopover',\n          mode: 'md',\n          event: e.nativeEvent,\n        })\n      }}\n    >\n      <IonIcon className=\"steps-scenes-icon\" icon={caretDown}></IonIcon> Steps\n    </div>\n  )\n}\n","import * as React from 'react'\nimport {IonIcon, IonItem, IonLabel, useIonPopover} from '@ionic/react'\nimport {caretDown} from 'ionicons/icons'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nfunction Menus({onDissmis}) {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveScene = useLessonStore((state) => state.moveScene)\n\n  function handleSceneChange(newScene: number) {\n    moveScene(newScene)\n    onDissmis()\n  }\n\n  return (\n    <>\n      {lesson.scenes.map((_, i) => (\n        <IonItem\n        style={{cursor: 'pointer'}}\n          key={i}\n          lines=\"none\"\n          onClick={() => handleSceneChange(i)}\n          \n        >\n          <IonLabel className={clsx(i === sceneIdx && 'c-red')}>{i + 1}</IonLabel>\n        </IonItem>\n      ))}\n    </>\n  )\n}\n\nexport function SceneNavMenu() {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const step = useLessonStore((state) => state.step)\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    onDissmis: () => dissmis(),\n  })\n\n  if (step < 2 || step > 4) {\n    return null\n  }\n\n  const scenesLength = lesson.scenes.length\n\n  return (\n    <div id=\"lesson-scenes\">\n      \n      <div\n      \n        \n      >\n        <span\n        onClick={(e) => {\n          presentMenu({\n            cssClass: 'lessonScenesPopover',\n            mode: 'md',\n            event: e.nativeEvent,\n          })\n        }}>{sceneIdx + 1} / {scenesLength} Scenes{' '}</span>\n        \n        <IonIcon className=\"steps-scenes-icon\" icon={caretDown}></IonIcon>\n      </div>\n     </div>\n  )\n}\n","import {IonButton, IonCol, IonIcon, IonRow} from '@ionic/react'\nimport * as React from 'react'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {StepNavMenu} from './StepNavMenu'\nimport {SceneNavMenu} from './SceneNavMenu'\n\nexport function ActionBar({onPlayClick = null}) {\n  const playerState = useLessonStore((state) => state.playerState)\n  const play = useLessonStore((state) => state.play)\n  const rewind = useLessonStore((state) => state.rewind)\n  const stop = useLessonStore((state) => state.stop)\n  const playedRate = 10\n  const isPlay = playerState === PlayerStates.PLAYING\n\n  return (\n    <IonRow\n      // *ngIf=\"isLoaded\"\n      className=\"ion-align-items-center ion-justify-content-center\"\n    >\n      <IonCol sizeXs=\"12\" className=\"ion-align-self-center ion-no-padding\">\n        <div className=\"playing-progress-bar\" style={{width: '100%'}}>\n          <div className={`scene-bar active`} style={{flex: 1}}>\n            <div\n              className=\"scene-progress\"\n              style={{\n                width: `${playedRate * 100}%`,\n              }}\n            />\n          </div>\n        </div>\n        <IonRow className=\"youtube-handler \">\n          <IonCol\n            id=\"lesson-steps\"\n            size=\"4\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <StepNavMenu />\n          </IonCol>\n          <IonCol\n            sizeXs=\"4\"\n            sizeSm=\"4\"\n            sizeMd=\"4\"\n            sizeLg=\"4\"\n            sizeXl=\"4\"\n            className=\"ion-text-center ion-align-self-center ion-no-padding\"\n          >\n            <div style={{display: 'flex'}}>\n              <div style={{flex: 1}}>\n                {isPlay && (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => {\n                      rewind(3)\n                    }}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/3seconds-back.svg\"></IonIcon>\n                  </IonButton>\n                )}\n              </div>\n              <div style={{flex: 1}}>\n                {isPlay ? (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => stop()}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/pause-lesson.svg\"></IonIcon>\n                  </IonButton>\n                ) : (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => (onPlayClick ? onPlayClick() : play())}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/play-lesson.svg\"></IonIcon>\n                  </IonButton>\n                )}\n              </div>\n              <div style={{flex: 1}}></div>\n            </div>\n          </IonCol>\n          <IonCol\n            size=\"4\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <SceneNavMenu />\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n","import {gql} from '@apollo/client'\nimport {currentLessonIdVar} from '../../../apollo/apollo-client'\nimport {useGetLessonDeatilQuery} from '../../../schema/types-and-hooks'\n\nexport const GET_DICTATION = gql`\n  query getDictation($lessonId: Int!, $sceneIdx: Int!) {\n    dictation(lessonId: $lessonId, sceneIdx: $sceneIdx) @client\n  }\n`\n\nexport function useCurrentLesson() {\n  const {data} = useGetLessonDeatilQuery({\n    variables: {\n      id: currentLessonIdVar(),\n    },\n    fetchPolicy: 'cache-only',\n  })\n  return data.lesson\n}\n","import {IonCol, IonItem, IonRow, IonText, IonTextarea, isPlatform} from '@ionic/react'\nimport React, {useEffect, useState} from 'react'\nimport {useLessonStore} from './useLessonStore'\nimport {range} from 'lodash'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport clsx from 'clsx'\nimport {Plugins} from '@capacitor/core'\nimport {currentLessonIdVar, dictationsVar} from '../../../apollo/apollo-client'\nimport {\n  useGetDictationQuery,\n  useGetLessonDeatilQuery,\n  useSetLessonCompletedMutation,\n} from '../../../schema/types-and-hooks'\nimport {useCurrentLesson} from './lessonHooks'\nimport {useHelpGuide} from '../../../hooks/useHelpGuide'\nimport {storageHelper} from '../../../utils/storageHelper'\nconst {Keyboard} = Plugins\n\nfunction useHelpDictationGuide() {\n  return useHelpGuide('isHelpScreenForDictationStepDone', [\n    {\n      element: '#lesson-steps',\n      popover: {\n        title: 'Step navigation',\n        description: 'Move easily among steps',\n        position: 'right-center',\n      },\n    },\n    {\n      element: '#lesson-scenes',\n      popover: {\n        title: 'Scene navigation',\n        description: 'Move easily among scenes',\n        position: 'top-right',\n      },\n    },\n    {\n      element: '#scene-iteration',\n      popover: {\n        title: 'Automatic replay',\n        description:\n          \"Clip repeats 10 times automatically while you're typing. You can replay as many times as you need\",\n        position: 'top-center',\n      },\n    },\n    {\n      element: '#dictation-textarea-headline',\n      popover: {\n        title: 'Dictation',\n        description:\n          '1-2 sentences will be played at a time. Type as much as you can. In the next step, your answer will be reviewed.',\n        position: 'top-center',\n      },\n    },\n  ])\n}\n\nfunction PlayCounts() {\n  const repeat = 10\n  const [count, setCount] = useState(0)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const lesson = useCurrentLesson()\n\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const {showHelpGuide} = useHelpDictationGuide()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    showHelpGuide().then(() => {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    })\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          // console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count === 1) {\n      setOverlay(<h2>Write down what you heard.</h2>)\n      const it = setTimeout(() => {\n        setOverlay(null)\n        ytPlayer.seekTo(scene.start, true)\n        ytPlayer.playVideo()\n      }, 2000)\n      return () => {\n        clearTimeout(it)\n        setOverlay(null)\n      }\n    } else if (count > 1) {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    }\n  }, [count])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <>\n      {counts.map((c) => (\n        <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n          <span className={clsx(c.done && 'c-red')}\n          style={{color: clsx(c.done && \"#e22d2d\")}}\n          >{c.num}</span>\n        </IonText>\n      ))}\n    </>\n  )\n}\n\nconst replaceApostrophe = (str: string) =>\n  str\n    .replace('”', '\"')\n    .replace('“', '\"')\n    .replace('’', \"'\")\n    .replace('‘', \"'\")\n    .replace(/[\\u2018\\u2019]/g, \"'\")\n    .replace(/[\\u201C\\u201D]/g, '\"')\n// .replace(/[\\u2013\\u2014]/g, '-')\n// .replace(/[\\u2026]/g, '...')\n\nfunction DictationTextarea() {\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [value, setValue] = useState('')\n  const {loading} = useGetDictationQuery({\n    variables: {\n      sceneIdx: sceneIdx,\n    },\n    onCompleted: (data) => {\n      setValue(data.dictation)\n    },\n  })\n\n  function handleFocus() {\n    if (isPlatform('capacitor')) {\n      Keyboard.show()\n    }\n  }\n\n  function setDictatonValue() {\n    const old = dictationsVar()\n    const lessonId = currentLessonIdVar()\n    const key = `${lessonId}:${sceneIdx}`\n    dictationsVar({\n      ...old,\n      [key]: replaceApostrophe(value),\n    })\n  }\n\n  if (loading) {\n    return null\n  }\n\n  return (\n    <IonItem lines=\"none\" className=\"dictation-textarea ion-margin-top\">\n      <IonTextarea\n        className=\"ion-padding-start\"\n        color=\"danger\"\n        rows={5}\n        placeholder=\"Write here...\"\n        onIonFocus={handleFocus}\n        onIonBlur={() => {\n          setDictatonValue()\n        }}\n        value={value}\n        onIonChange={(e) => setValue(e.detail.value)}\n      ></IonTextarea>\n    </IonItem>\n  )\n}\n\nexport function LessonStepDictation({Footer}) {\n  const [isSaving, setIsSaving] = React.useState(false)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const focusRef = React.useRef<HTMLDivElement>()\n  const lesson = useCurrentLesson()\n  const [setLessonCompleted] = useSetLessonCompletedMutation({\n    onCompleted: (data) => {\n      storageHelper.removeNativeStorage('leftOfData')\n    },\n  })\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  // console.log(\"lesson: \", lesson.scenes.length, sceneIdx)\n\n  React.useEffect(() => {\n    if(sceneIdx+1 === lesson.scenes.length){\n    if (!lesson.isCompleted) {\n      setLessonCompleted({variables: {lessonId: lesson._id}})\n    }\n  }\n  }, [lesson])\n\n  return (\n    <>\n      <ActionBar />\n      <div className=\"dictation\">\n        <div\n          className=\"ion-text-center ion-padding ion-align-self-center\"\n          id=\"scene-iteration\"\n        >\n          <PlayCounts />\n        </div>\n\n        <h5 id=\"dictation-textarea-headline\" className=\"ion-no-margin\">\n          A couple of sentences will be played at a time. Type everything you hear.\n        </h5>\n\n        <DictationTextarea />\n        <div ref={focusRef}></div>\n      </div>\n      <Footer>\n        <NextButton\n          disabled={isSaving}\n          onClick={() => {\n            setIsSaving(true)\n            focusRef.current.focus()\n            setTimeout(() => {\n              moveNext()\n            }, 200)\n          }}\n        />\n      </Footer>\n    </>\n  )\n}\n","import {\n  IonButton,\n  IonButtons,\n  IonHeader,\n  IonIcon,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n  useIonRouter,\n} from '@ionic/react'\nimport * as React from 'react'\nimport {useLessonStore} from './useLessonStore'\n// import {useStore} from 'src/reactapp/useStore'\nimport {chevronBack} from 'ionicons/icons'\nimport './LessonStepHeader.scss'\n\nconst stepTitles = {\n  1: 'Step 1 : Listen',\n  2: 'Step 2 : Dictation',\n  3: 'Step 3 : Review',\n  4: 'Step 4 : Practice',\n  5: 'Step 5 : Re-listen',\n}\nexport function LessonStepHeader() {\n  const router = useIonRouter()\n  const [present] = useIonAlert()\n  const lesson = useLessonStore((state) => state.lesson)\n  // console.log(\"lesson\",lesson)\n  const step = useLessonStore((state) => state.step)\n\n  return (\n    <IonHeader mode=\"ios\">\n      <IonToolbar mode=\"ios\">\n        <IonButtons slot=\"start\">\n          <IonButton\n            mode=\"md\"\n            onClick={() => {\n              present({\n                message: 'Are you sure you want to exit lesson?',\n                buttons: [\n                  {\n                    text: 'No',\n                    role: 'cancel',\n                    handler: (blah) => {\n                      console.log('Confirm Cancel: blah')\n                    },\n                  },\n                  {\n                    text: 'Yes',\n                    handler: () => {\n                      if (router.canGoBack()) {\n                        router.goBack()\n                      } else {\n                        router.push(`/dashboard/lessons`, 'back')\n                      }\n                    },\n                  },\n                ],\n              })\n            }}\n          >\n            <IonIcon color=\"dark\" slot=\"icon-only\" icon={chevronBack}></IonIcon>\n          </IonButton>\n        </IonButtons>\n        <IonTitle>{stepTitles[step] || lesson.lessonName}</IonTitle>\n        <div style={{textAlign: 'center'}}></div>\n        <IonButtons slot=\"end\">\n          <IonButton\n            mode=\"md\"\n            // routerDirection=\"root\"\n            // routerLink=\"/dashboard/lessons\"\n            onClick={() => {\n              present({\n                message: 'Are you sure you want to exit lesson?',\n                buttons: [\n                  {\n                    text: 'No',\n                    role: 'cancel',\n                    handler: (blah) => {\n                      console.log('Confirm Cancel: blah')\n                    },\n                  },\n                  {\n                    text: 'Yes',\n                    handler: () => {\n                      router.push(`/dashboard/lessons`, 'root')\n                    },\n                  },\n                ],\n              })\n\n              // navController.navigateRoot()\n            }}\n          >\n            <IonIcon\n              color=\"dark\"\n              mode=\"md\"\n              slot=\"icon-only\"\n              src=\"/assets/images/home.svg\"\n            ></IonIcon>\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n    </IonHeader>\n  )\n}\n","import * as React from 'react'\nimport {IonCol, IonRow} from '@ionic/react'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\n\nexport function LessonStepListen({Footer}) {\n  const lesson = useCurrentLesson()\n  const [sceneIdx, setSceneIdx] = React.useState(0)\n  const [isEnd, setIsEnd] = React.useState(false)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const play = useLessonStore((state) => state.play)\n  const playerState = useLessonStore((state) => state.playerState)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n\n  const scene = lesson.scenes[sceneIdx]\n\n  React.useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n    // setOverlay(<p>Scene {sceneIdx + 1}</p>)\n    setTimeout(() => {\n      setOverlay(null)\n    }, 500)\n  }, [scene])\n\n  React.useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          clearInterval(itv)\n          const lastIdx = lesson.scenes.length - 1\n          if (sceneIdx < lastIdx) {\n            ytPlayer.seekTo(scene.start, true)\n            setSceneIdx(sceneIdx + 1)\n          } else {\n            ytPlayer.pauseVideo()\n            setIsEnd(true)\n          }\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState, scene, sceneIdx])\n\n  return (\n    <>\n      <ActionBar\n        onPlayClick={() => {\n          if (isEnd) {\n            ytPlayer.seekTo(lesson.scenes[0].start, true)\n            setSceneIdx(0)\n            setIsEnd(false)\n          } else {\n            play()\n          }\n        }}\n      />\n\n      <IonRow className=\"listen ion-align-items-center ion-justify-content-center\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeMd=\"10\"\n          sizeLg=\"8\"\n          sizeXl=\"8\"\n          className=\"mt-100 ion-align-self-center\"\n        >\n          <h5 className=\"ion-text-center\">\n            First, listen carefully to the whole dialogue to see how much you can\n            understand.\n          </h5>\n        </IonCol>\n      </IonRow>\n      <Footer>\n        <NextButton onClick={moveNext} />\n      </Footer>\n    </>\n  )\n}\n","import * as React from 'react'\nimport {\n  IonButton,\n  IonCol,\n  IonLabel,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  useIonRouter,\n} from '@ionic/react'\nimport ApiProvider from '../../../ApiProvider'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\nimport {\n  useGetProfileQuery,\n  useSetLessonCompletedMutation,\n} from '../../../schema/types-and-hooks'\n// import {Box} from '@chakra-ui/react'\nimport { Comments } from '../Comments'\n// import {useStore} from '../../..//useStore'\nimport clsx from 'clsx'\nimport {storageHelper} from '../../../utils/storageHelper'\n\nexport function LessonStepReListen({Footer}) {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const [showScript, setShowScript] = React.useState(true)\n  const router = useIonRouter()\n\n  const lesson = useCurrentLesson()\n  const [sceneIdx, setSceneIdx] = React.useState(0)\n  const [segment, setSegment] = React.useState('comments')\n  const [isEnd, setIsEnd] = React.useState(false)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const play = useLessonStore((state) => state.play)\n  const playerState = useLessonStore((state) => state.playerState)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  // const [setLessonCompleted] = useSetLessonCompletedMutation({\n  //   onCompleted: (data) => {\n  //     storageHelper.removeNativeStorage('leftOfData')\n  //   },\n  // })\n\n  const scene = lesson.scenes[sceneIdx]\n\n  \n\n  // React.useEffect(() => {\n  //   if (!lesson.isCompleted) {\n  //     setLessonCompleted({variables: {lessonId: lesson._id}})\n  //   }\n  // }, [lesson])\n  React.useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n    if (sceneIdx === 0) {\n      setOverlay(\n        <div\n          style={{textAlign: 'center', fontWeight: 400, textShadow: '0px 0px 4px black'}}\n        >\n          <div>\n            Listen again <br />\n            to see how much more <br />\n            you can understand <br />\n          </div>\n        </div>,\n      )\n    } else {\n      setOverlay(null)\n    }\n\n    const to = setTimeout(\n      () => {\n        setOverlay(null)\n      },\n      sceneIdx === 0 ? 2000 : 800,\n    )\n\n    return () => {\n      setOverlay(null)\n      clearTimeout(to)\n    }\n  }, [sceneIdx])\n\n  React.useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          clearInterval(itv)\n          const lastIdx = lesson.scenes.length - 1\n          if (sceneIdx < lastIdx) {\n            ytPlayer.seekTo(scene.start, true)\n            setSceneIdx(sceneIdx + 1)\n          } else {\n            ytPlayer.pauseVideo()\n            setIsEnd(true)\n          }\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState, scene, sceneIdx])\n\n  return (\n    <>\n      <ActionBar\n        onPlayClick={() => {\n          if (isEnd) {\n            ytPlayer.seekTo(lesson.scenes[0].start, true)\n            setSceneIdx(0)\n            setIsEnd(false)\n          } else {\n            play()\n          }\n        }}\n      />\n      <div className=\"re-listen\">\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol\n            size-xs=\"12\"\n            size-sm=\"12\"\n            size-md=\"10\"\n            size-xl=\"8\"\n            size-lg=\"8\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <IonSegment\n              color=\"danger\"\n              mode=\"md\"\n              value={segment}\n              onIonChange={(e) => setSegment(e.detail.value)}\n            >\n              <IonSegmentButton id=\"highlight-comment\" mode=\"md\" value=\"comments\">\n                <IonLabel>Comments</IonLabel>\n              </IonSegmentButton>\n              <IonSegmentButton mode=\"md\" value=\"scripts\">\n                <IonLabel>Script</IonLabel>\n              </IonSegmentButton>\n            </IonSegment>\n          </IonCol>\n        </IonRow>\n        <div className=\"tab-content\">\n          {segment === 'comments' ? (\n            <div>\n              <p>\n                How was this lesson? Leave your thoughts and share new things you’ve\n                learned.\n              </p>\n              <ApiProvider>\n              <Comments\n                lessonId={lesson?.lessonId}\n                subLessonId={lesson?._id}\n                profile={profile}\n              />\n              </ApiProvider>\n            </div>\n          ) : (\n            <div style={{padding: '4px'}}>\n              <div>\n                {showScript ? (\n                  <IonButton\n                    onClick={() => setShowScript(false)}\n                    className=\"ion-float-right show-hide-btn\"\n                    color=\"dark\"\n                    mode=\"ios\"\n                    shape=\"round\"\n                    size=\"small\"\n                    fill=\"outline\"\n                    id=\"script-label\"\n                  >\n                    Hide\n                  </IonButton>\n                ) : (\n                  <IonButton\n                    onClick={() => setShowScript(true)}\n                    className=\"ion-float-right show-hide-btn\"\n                    color=\"dark\"\n                    mode=\"ios\"\n                    fill=\"solid\"\n                    shape=\"round\"\n                    size=\"small\"\n                  >\n                    Show\n                  </IonButton>\n                )}\n              </div>\n              <div className=\"scripts\">\n                {showScript &&\n                  lesson.scenes.map((scene, i) => (\n                    <p key={i} className={clsx(sceneIdx === i && 'c-red')}>\n                      {i + 1}. {scene.langs.En.txt}\n                    </p>\n                  ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <Footer>\n        <NextButton\n          onClick={() => {\n            ytPlayer.stopVideo()\n            router.push('/lesson-complete', 'root')\n          }}\n        />\n      </Footer>\n    </>\n  )\n}\n","import bestSubSequence from 'fast-array-diff/dist/diff/lcs'\n\nexport interface Change {\n  value: string\n  added?: boolean\n  removed?: boolean\n}\n\nexport function diffArr<T>(\n  a: T[],\n  b: T[],\n  compareFunc: (ia: T, ib: T) => boolean = (ia: T, ib: T) => ia === ib,\n): Change[] {\n  const list = []\n  bestSubSequence(\n    a,\n    b,\n    compareFunc,\n    (type, oldArr, oldStart, oldEnd, newArr, newStart, newEnd) => {\n      if (type === 'add') {\n        for (let i = newStart; i < newEnd; ++i) {\n          // ret.added.push(newArr[i]);\n          list.push({value: newArr[i], added: true})\n        }\n      } else if (type === 'remove') {\n        for (let i = oldStart; i < oldEnd; ++i) {\n          // ret.removed.push(oldArr[i]);\n          list.push({value: oldArr[i], removed: true})\n        }\n      } else {\n        for (let i = newStart; i < newEnd; ++i) {\n          list.push({value: newArr[i]})\n        }\n      }\n    },\n  )\n  return list\n}\n\nexport const replaceApostrophe = (str: string) =>\n  str\n    .replace(/”/g, '\"')\n    .replace(/“/g, '\"')\n    .replace(/’/g, \"'\")\n    .replace(/‘/g, \"'\")\n    .replace(/[\\u2018\\u2019]/g, \"'\")\n    .replace(/[\\u201C\\u201D]/g, '\"')\n// .replace(/[\\u2013\\u2014]/g, '-')\n// .replace(/[\\u2026]/g, '...')\n\nconst normalizeWord = (w) => replaceApostrophe(w.replace(/[\\s,.?]/, '').toLowerCase())\n\nfunction compareWord(wa, wb) {\n  if (wb === '') return false\n  if (wa === ' ' && wb === ' ') return true\n  return normalizeWord(wa) === normalizeWord(wb)\n}\n\nexport function diffText(oldString: string, newString: string): Change[] {\n  const oldArr = oldString.replace(/\\s\\s+/g, ' ').split(/( )/g)\n  const newArr = newString.replace(/\\s\\s+/g, ' ').split(/( )/g)\n  return diffArr(oldArr, newArr, compareWord)\n}\n\n// diffText(\n//   'Who are you? My name is Andy Sacks. I’m good',\n//   \"who is are you by my name is Andy sacs. I'm good\",\n// ) //?\n\n// diffText('Who are you? My name is Andy Sacks. I’m good', '') //?\n// diffText('They buy more guns', 'they more') //?\n","export const msg = {\n  MSG_FOLLOWED: 'Followed successfully!',\n  MSG_ACCOUNT_CREATED:\n    \"Welcome! Account created successfully.\\n\\nNotes: \\n1) You've just gotten 5 free lessons.\\n2) Check your email to verify that you're real.\",\n  MSG_OTP_SENT: 'OTP sent to your email/mobile to reset password.',\n  MSG_PASSWORD_RESET: 'Password changed successfully.',\n  MSG_RECOVER_ACCOUNT:\n    'If your recovery email is correct, you should have received OTP to reset your account.',\n  MSG_RECOVER_ACCOUNT_SUCCESS: 'Account recovered successfully.',\n  MSG_PROFILE_UPDATED: 'Profile updated successfully',\n  ERR_USER_NOT_FOUND:\n    'Account with email not found. Please double-check your info or sign up for a new account.',\n  ERR_PASSWORD_NOT_MATCHED:\n    'Wrong Password, Try again or click Forgot Password to reset it.',\n  ERR_VALID_EMAIL: 'Please enter valid email address.',\n  ERR_VALID_NAME: 'Please enter valid name.',\n  ERR_VALID_PHONE_NUMBER: 'Please enter valid phone number.',\n  ERR_INTERNAL_SERVER: 'Internal Server Error!',\n  ERR_USER_ALREADY_EXIST: 'An account with this email address already exists.',\n  ERR_USER_ALREADY_EXIST_RECOVER:\n    'Recovery email is already associated with another account.',\n  ERR_GENRIC_OTP_EXPIRE: 'OTP is not correct or expired, please try again.',\n  ERR_RECOVEREMAIL_SAME: 'Primary email and Recovery email cannot be the same.',\n  ERR_UNAUTH: 'You are unauthorized.',\n  ERR_USER_BLOCKED: 'Your account is not verified yet.',\n  ERR_USER_WITHDRAWN: 'You are withdrawned.',\n  ERR_TOKEN_EXP: 'Your session has expired, please login again',\n  ERR_FB_ACCESS_TOKEN_EXP: 'Facebook access token is expired or not valid.',\n  ERR_GOOGLE_ACCESS_TOKEN_EXP: 'Google access token is expired or not valid.',\n  ERR_KAKAO_ACCESS_TOKEN_EXP: 'Kakao access token is expired or not valid.',\n  ERR_PASSWORD_IS_NOT_MATCHED: 'Password does not matched',\n  DATA_FOUND: 'Data found',\n  NOT_FOUND: 'No data found',\n  MSG_LEVEL_UPDATED: 'Level updated successfully',\n  MSG_PASSWORD_SENT: 'Your password has been sent to your email.',\n  EMAIL_NOT_FOUND: 'This email does not exist.',\n  TRY_AGAIN: 'Oops! Something went wrong. Please try again.',\n  ALREADY_COMPLETED: 'Already completed',\n  VERIFICATION_MAIL_SEND: 'Check your email',\n  NOT_SENDMAIL: 'Not authorized',\n  LOGIN_SUCCESS: 'Login Successful',\n  INVALID_CREDENTIAL: 'Invalid email or password',\n  WRONG_CODE: 'Invalid',\n  UPDATE_SUCCESSFULLY: 'Updated successfully',\n  DELETE_SUCCESSFULLY: 'Deleted successfully',\n  ADD_SUCCESSFULLY: 'Added successfully',\n  UPDATE_LESSON_COUNT: 'Lesson count updated successfully',\n  NOTE_SAVE: 'Just saved successfully.',\n  ALREADY_NOTE_SAVE: 'You have already saved this.',\n  SUBSCRIPTION_LESSON_COUNT: 'Subscription lesson count updated successfully.',\n  NOT_VALID_EMAIL: 'Enter valid email',\n  ERR_PASSWORD: 'Enter current password',\n  ERR_NEW_PASSWORD: 'Enter new password',\n  ERR_CONFIRM_PASSWORD: 'Enter confirm password',\n  ERR_CURRENT_PASSWORD_NOT_MATCHED: \"New password and confirm password don't match\",\n  ERR_INVALID_CURRENT_PASSWORD: 'Invalid current password',\n  MSG_CHANGED_PASSWORD: 'Passoword changed successfully',\n  NO_LESSON_FOUND: 'No lesson found',\n  ADMIN_EMAIL_ALREADY_REGISTERED:\n    'The email address you have entered is already registered.',\n  NOT_LIKED_OWN_COMMENT: \"You can't like your own comment\",\n  NOT_DISLIKED_OWN_COMMENT: \"You can't dislike your own comment\",\n  SUBSCRIPTION_FALSE: 'Your subscription has been canceled.',\n  SAVE_SUBSCRIPTION: 'Your subscription has been saved successfully.',\n  ALREADY_SAVE: \"You've already saved this.\",\n  PLEASE_DO_SUBSCRIPTION:\n    \"Hooray! You've finished all your free lessons. Please purchase a subscription for more lessons.\",\n  COMMENT_LIKED_SUCCESS: 'Liked successfully',\n  COMMENT_DISLIKED_SUCCESS: 'Disliked successfully',\n  COMMENT_REPLY_SUCCESS: 'Replied successfully',\n  ALREADY_LIKE: \"You've already liked this.\",\n  ALREADY_DISLIKE: \"You've already disliked this.\",\n  REQUEST_SENT_SUCCESSFULLY: 'Your request has been sent successfully.',\n  ADMIN_VERIFICATION_EMAIL_SENT:\n    'Verification mail sent. \\nIt may take a while to receive the email',\n  ADMIN_ALREADY_EXISTS: 'Already exists',\n  ADMIN_ACCOUNT_NOT_VERIFIED_YET: 'You account is not verified yet',\n  ADMIN_UNAUTH: 'You are unauthorized',\n  ADMIN_UPDATE_SUCCESSFULLY: 'Updated successfully',\n  ADMIN_ADD_SUCCESSFULLY: 'Added successfully',\n  ADMIN_DELETE_SUCCESSFULLY: 'Deleted successfully',\n  PLZ_CONTACT_TO_ADMIN:\n    'You are blocked by admin. Please contact admin at hi@startenglishnow.net.',\n  PLEASE_BUY_EXTRA_LESSONS: 'Please purchase extra lessons.',\n  CONTACT_US_REQUEST_SENT_SUCCESSFULLY:\n    'Thank you! Your message has been sent successfully.',\n  SUBSCRIPTION_SUCCESS: 'Subscribed successfully. Enjoy learning English!',\n  VERIFICATION_EMAIL_SENT:\n    'We’ve sent you a verification email. Please confirm that you’re real 🙂',\n  ERR_USER_NOT_VERIFIED_EMAIL:\n    'An account with this email address already exists. Please remember to verify it.',\n  ERR_LESSON_DELETED_BY_ADMIN: 'This lesson is deleted by admin.',\n  ERR_USER_NOT_VERIFIED_EMAIL_TRY_PURCHASE:\n    'In order to make an purchase, please verify your account',\n  ERR_LESSONS_NOT_FOUND: \"Today's lessons not found, Please change your level\",\n  LESSON_SAVED: 'Lesson saved successfully.',\n  ERROR_SAVED_LESSON_NOT_FOUND: 'Saved lessons not found.',\n  SAVED_LESSON_REMOVED: 'Saved lesson removed successfully.',\n  USER_CREATED: 'User Created successfully.',\n  USER_DATA: 'User Data',\n  PRODUCTS_DATA: 'Products Data',\n  PAYMENT_METHOD_ADDED: 'Payment Method Added Successfully',\n  PAYMENT_METHOD_ADDED_TO_CUSTOMER: 'Payment method Added to Customer Successfully',\n  PAYMENT_METHOD_REMOVED_FROM_CUSTOMER:\n    'Payment method removed from Customer Successfully',\n  PAYMENT_METHODS: 'Payment methods',\n  SUBSCRIPTION_ADDED: 'Subscription Added Successfully',\n  SUBSCRIPTION_DATA: 'Subscription Details',\n  LESSON_IS_ALREADY_EXIST_IN_SAVED_LESSON: 'Lesson is already saved.',\n  ALL_COUPONS: 'All coupons data.',\n  COUPON_DETAILS: 'coupons details.',\n}\n","import React from 'react'\nimport {\n  IonButton,\n  IonCol,\n  IonIcon,\n  IonImg,\n  IonModal,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  isPlatform,\n  useIonToast,\n} from '@ionic/react'\nimport {close} from 'ionicons/icons'\nimport {upperFirst} from 'lodash'\nimport Highlighter from 'react-highlight-words'\nimport {msg} from '../../../language/translation.en'\nimport {\n  Phrase,\n  useGetProfileQuery,\n  useSearchDictionaryQuery,\n  useSetNoteMutation,\n} from '../../../schema/types-and-hooks';\nimport {useTextSelection} from 'use-text-selection';\nimport {useCurrentLesson} from './lessonHooks'\nimport {useLessonStore} from './useLessonStore'\nimport useSpeak from '../../../hooks/useSpeak'\n\nconst NO_TRANSLATION_TEXT =\n  'Sorry, the translation for this lesson is missing. Please report it to the team using the exclamation mark (!) at the upper right corner of the video.'\n\nexport default function ScriptView() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  let [showTranslation, setShowTranslation] = React.useState(false)\n  let [showInfo, setShowInfo] = React.useState(false)\n\n  console.log(\"showInfo\",showInfo)\n\n  const scene = lesson.scenes[sceneIdx]\n  // console.log(\"scene\", scene)\n  const langKey = profile.nativeLanguage.languageKey\n  // console.log(\"langKey\", langKey)\n  const script = scene.langs.En.txt\n  // console.log(\"script\", script)\n\n  const translation = scene.langs[langKey]\n    ? scene.langs[langKey].txt\n    : NO_TRANSLATION_TEXT\n\n    // console.log(\"translation\", translation)\n\n  const tip = scene.langs[langKey]?.tip\n  // console.log(\"tip\", tip.split(\".\"))\n\n  return (\n    <>\n      <div style={{display: 'flex', alignItems: 'flex-end'}}>\n        <div style={{flex: 1, color: '#747474'}}>Script:</div>\n        <IonButton\n          className=\"translation-btn\"\n          color=\"dark\"\n          mode=\"ios\"\n          shape=\"round\"\n          size=\"small\"\n          // id=\"script-label\"\n          id=\"translation\"\n          fill={showTranslation ? 'solid' : 'outline'}\n          onClick={() => setShowTranslation((v) => !v)}\n        >\n          Translation\n        </IonButton>\n        <div style={{padding: '4px'}} onClick={() => setShowInfo(true)}>\n          <IonImg\n            src=\"../../../../../assets/images/dictionary-icon.png\"\n            className=\" dictionary-icon pointer\"\n          ></IonImg>\n        </div>\n      </div>\n      <ScriptBox script={script} phrases={lesson.phrases} />\n      {showTranslation && (\n        <div className=\"ion-margin-top\">\n          <div style={{color: '#747474'}}>Translation:</div>\n          <div style={{marginTop: '4px'}}>{translation}</div>\n        </div>\n      )}\n      {tip && (\n        <div className=\"ion-margin-top\">\n          <div style={{color: '#747474'}}>#Tip:</div>\n          {tip.split('\\n').map((tip) => <div className=\"ion-padding-bottom\">{tip}</div>)}\n        </div>\n      )}\n\n      <IonModal\n        mode=\"ios\"\n        isOpen={showInfo}\n        cssClass=\"reviewingStepInfo\"\n        onDidDismiss={() => setShowInfo(false)}\n      >\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"9\" className=\"ion-align-self-center\">\n            <h4 className=\"ion-no-margin c-orange\">Use Dictionary</h4>\n          </IonCol>\n          <IonCol size=\"3\" className=\"ion-align-self-center ion-text-right\">\n            <IonIcon\n              mode=\"md\"\n              icon={close}\n              className=\"pointer\"\n              id=\"modal-dismiss\"\n              onClick={() => setShowInfo(false)}\n            ></IonIcon>\n          </IonCol>\n        </IonRow>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <p>\n              {isPlatform('mobile')\n                ? 'Long press any words to learn the meanings'\n                : 'Drag any words to learn the meanings'}\n            </p>\n          </IonCol>\n        </IonRow>\n      </IonModal>\n    </>\n  )\n}\n\nconst langKeyMap = {\n  En: 'Eng',\n  Ko: 'Kor',\n  Sp: 'Spa',\n  Vi: 'Vie',\n  Po: 'Por',\n}\n\ninterface WordDialogProps {\n  word: string\n  loading: boolean\n  saveDisabled?: boolean\n  onDismiss: () => void\n  onSaveClick: () => void\n}\n\nconst WordDialog: React.FC<WordDialogProps> = ({\n  word,\n  onDismiss,\n  onSaveClick,\n  loading,\n  children,\n  saveDisabled,\n}) => {\n  const speak = useSpeak()\n  return (\n    <IonRow>\n      <IonCol>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"9\" className=\"ion-align-self-center\">\n            <h5 className=\"ion-no-margin c-red header\">\n              <img\n                id=\"play-icon\"\n                className=\"pointer\"\n                src=\"../../../../../../assets/images/icon_play.svg\"\n                onClick={() => {\n                  speak(word)\n                }}\n              />\n              <strong>{word}</strong>\n            </h5>\n          </IonCol>\n          <IonCol size=\"3\" className=\"ion-align-self-center ion-text-right\">\n            <IonIcon\n              mode=\"md\"\n              icon={close}\n              className=\"pointer\"\n              id=\"modal-dismiss\"\n              onClick={onDismiss}\n              //   (click)=\"onDismiss()\"\n            ></IonIcon>\n          </IonCol>\n        </IonRow>\n        <IonRow\n          className=\"ion-align-items-center ion-justify-content-center\"\n          style={{top: '17%'}}\n        >\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            {children}\n          </IonCol>\n        </IonRow>\n\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <IonButton\n            className=\"button-c\"\n              mode=\"ios\"\n              // color=\"danger\"\n              shape=\"round\"\n              expand=\"block\"\n              onClick={onSaveClick}\n              disabled={saveDisabled || loading}\n            >\n              {loading ? <IonSpinner /> : <strong>SAVE</strong>}\n            </IonButton>\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n\nfunction PhraseMeaning({\n  phraseWord,\n  onDismiss,\n}: {\n  phraseWord: Phrase\n  onDismiss: () => void\n}) {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const [presentToast] = useIonToast()\n  const [setNote, {loading: saveLoading}] = useSetNoteMutation({\n    onCompleted: (data) => {\n      if (data.setNote) {\n        presentToast(msg[data.setNote], 2000)\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  const languageKey = profile?.nativeLanguage?.languageKey\n  \n  const engMean =\n    phraseWord.meanings.find((m) => m.lang === langKeyMap.En)?.meaning ||\n    phraseWord.meaning\n\n    // console.log(\"engMean\", engMean)\n  const myMean = phraseWord.meanings.find((m) => m.lang === langKeyMap[languageKey])\n    // console.log(\"myMean\", myMean)\n  function handleSave() {\n    setNote({\n      variables: {\n        wordData: {\n          word: phraseWord.word,\n          meaning: engMean,\n          kor: myMean?.meaning || '',\n          noun: '',\n          verb: '',\n          adv: '',\n          adj: '',\n        },\n      },\n    })\n  }\n\n  return (\n    <WordDialog\n      word={phraseWord.word}\n      loading={saveLoading}\n      onSaveClick={handleSave}\n      onDismiss={onDismiss}\n    >\n      <p>\n        <b className=\"c-orange\">(Eng)</b> {engMean}\n      </p>\n      {myMean && (\n        <p>\n          <b className=\"c-orange\">({myMean.lang})</b> {myMean.meaning}\n        </p>\n      )}\n    </WordDialog>\n  )\n}\n\nfunction WordMeaning({word, onDismiss}) {\n  const [presentToast] = useIonToast()\n  const [notFound, setNotFound] = React.useState(false)\n  const {loading, data, error} = useSearchDictionaryQuery({\n    variables: {search: word},\n    onCompleted: (data) => {\n      if (!data.dictionary) {\n        presentToast('Word not found', 2000)\n        setNotFound(true)\n        // onDismiss()\n      }\n    },\n  })\n  const keys = ['korean', 'noun', 'verb', 'adverb', 'adjective']\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n\n  const [setNote, {loading: saveLoading}] = useSetNoteMutation({\n    onCompleted: (data) => {\n      if (data.setNote) {\n        presentToast(msg[data.setNote], 2000)\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  const languageKey = profile?.nativeLanguage?.languageKey\n\n  function handleSave() {\n    if (notFound) {\n      return\n    }\n    const {dictionary} = data\n\n    setNote({\n      variables: {\n        wordData: {\n          word: word,\n          meaning: '',\n          kor: languageKey === 'Ko' ? data.dictionary.meaning.korean : '',\n          noun: dictionary.meaning.noun,\n          verb: dictionary.meaning.verb,\n          adv: dictionary.meaning.adverb,\n          adj: dictionary.meaning.adjective,\n        },\n      },\n    })\n  }\n\n  return (\n    <WordDialog\n      word={word}\n      loading={saveLoading}\n      onSaveClick={handleSave}\n      saveDisabled={notFound}\n      onDismiss={onDismiss}\n    >\n      {loading ? (\n        <>\n          <IonSkeletonText />\n          <IonSkeletonText />\n          <IonSkeletonText />\n        </>\n      ) : notFound ? (\n        <div style={{color: '#e22d2d'}}>Word not Found</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : !data?.dictionary ? (\n        <div>not found </div>\n      ) : (\n        keys\n          .filter((key) => data.dictionary.meaning[key])\n          .map((key) => (\n            <p\n              key={key}\n              // *ngIf=\"meaning?.korean && userSubTitleLanguage?.languageKey === 'Ko'\"\n            >\n              <b className=\"c-orange\">({upperFirst(key)})</b>{' '}\n              {data.dictionary.meaning[key]}\n            </p>\n          ))\n      )}\n    </WordDialog>\n  )\n}\n\nfunction ScriptBox({script, phrases}) {\n  const ref = React.useRef()\n  const {clientRect, textContent, isCollapsed} = useTextSelection(ref.current)\n  const [dicWord, setDicWord] = React.useState(null)\n  const [selection, setSelection] = React.useState(null)\n  const [phraseWord, setPhraseWord] = React.useState<Phrase>(null)\n\n\n\n  React.useEffect(() => {\n    if (clientRect && textContent && ref.current) {\n      //@ts-ignore\n      const scriptRect = ref.current.getClientRects()[0]\n\n      const x = clientRect.x - scriptRect.x\n      const y = clientRect.y - scriptRect.y\n      const width = clientRect.width\n      const height = clientRect.height\n      const rect = {\n        x: x,\n        y: y,\n        width: clientRect.width,\n        height: clientRect.height,\n        top: height >= 0 ? y : y + height,\n        right: width >= 0 ? x + width : x,\n        bottom: height >= 0 ? y + height : y,\n        left: width >= 0 ? x : x + width,\n      }\n\n      setSelection({clientRect: rect, textContent})\n    } else {\n      let to = setTimeout(() => {\n        setSelection(null)\n      }, 20)\n      return () => {\n        clearTimeout(to)\n      }\n    }\n  }, [clientRect, textContent])\n\n  return (\n    <>\n      <div\n        style={{\n          position: 'relative',\n        }}\n      >\n        <div\n          ref={ref}\n          id=\"subTitle\"\n          style={{\n            marginTop: 4,\n            userSelect: 'text',\n            position: 'relative',\n          }}\n        >\n          <Highlighter\n            highlightClassName=\"phrase\"\n            searchWords={phrases\n              .map((p) => p.word)\n              .filter((word) => new RegExp(`\\\\b${word}\\\\b`, 'ig').test(script))}\n            autoEscape={true}\n            textToHighlight={script}\n            highlightTag={({children, highlightIndex}) => {\n              // console.log({children, highlightIndex})\n\n              return (\n                <div\n                  style={{\n                    userSelect: 'none',\n                    display: 'inline',\n                    backgroundColor: '#e0e0ff',\n                  }}\n                  onClick={() => {\n                    setPhraseWord(\n                      phrases.find(\n                        (p) => p.word.toUpperCase() === children.toUpperCase(),\n                      ),\n                    )\n                  }}\n                  className=\"highlighted-text\"\n                >\n                  {children}\n                </div>\n              )\n            }}\n          />\n        </div>\n        {selection && (\n          <div\n            style={{\n              zIndex: 1000,\n              userSelect: 'none',\n              position: 'absolute',\n              left: selection.clientRect.left + selection.clientRect.width / 2,\n              top: selection.clientRect.bottom + 10,\n            }}\n            className=\"indicator\"\n          >\n            <div className=\"indicator__cta\">\n              <div\n                className=\"indicator__cta-link\"\n                style={{zIndex: 100, cursor: \"pointer\"}}\n                onClick={(e) => {\n                  \n                  e.preventDefault()\n                  setDicWord(selection.textContent)\n                }}\n                onTouchEnd = {(e) => {\n                  e.preventDefault()\n                  setDicWord(selection.textContent)\n                }}\n              >\n                Meaning of {selection.textContent}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!phraseWord}\n        cssClass=\"dictionaryModal\"\n        onDidDismiss={() => setPhraseWord(undefined)}\n      >\n        {phraseWord && (\n          <PhraseMeaning\n            phraseWord={phraseWord}\n            onDismiss={() => setPhraseWord(undefined)}\n          />\n        )}\n      </IonModal>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!dicWord}\n        cssClass=\"dictionaryModal\"\n        onDidDismiss={() => setDicWord(undefined)}\n        onWillDismiss={() => setDicWord(undefined)}\n      >\n        {dicWord && (\n          <WordMeaning word={dicWord} onDismiss={() => setDicWord(undefined)} />\n        )}\n      </IonModal>\n    </>\n  )\n}\n","import React, {useEffect, useState} from 'react'\nimport {IonText} from '@ionic/react'\nimport clsx from 'clsx'\nimport {range} from 'lodash'\nimport {useGetDictationQuery} from '../../../schema/types-and-hooks'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {diffText} from './diffScript'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\nimport {NextButton} from './NextButton'\nimport ReviewScript from './ReviewScript'\nimport {useLessonStore} from './useLessonStore'\nimport {useHelpGuide} from '../../../hooks/useHelpGuide'\n\n\nfunction useHelpReviewGuide() {\n  return useHelpGuide('isHelpScreenForReviewStepDone', [\n    {\n      element: '#translation',\n      popover: {\n        title: 'See translation and tips',\n        description: 'Check your translation in your native language.',\n        position: 'top-right',\n      },\n    },\n  ])\n}\n\nexport function LessonStepReview({Footer}) {\n  const repeat = 3 // 10\n  const [count, setCount] = useState(0)\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const {showHelpGuide} = useHelpReviewGuide()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    showHelpGuide().then(() => {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    })\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count > 0) {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    }\n  }, [count])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <>\n      <ActionBar />\n      <div className=\"reviewing ion-padding\">\n        <div className=\"ion-text-center  ion-align-self-center\">\n          {counts.map((c) => (\n            <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n              <span className={clsx(c.done && 'c-red')}>{c.num}</span>\n            </IonText>\n          ))}\n        </div>\n        <h5>Analyze what you missed</h5>\n        <ReviewScript />\n        <DiffView />\n      </div>\n\n      <Footer>\n        <NextButton onClick={() => moveNext()} />\n      </Footer>\n    </>\n  )\n}\n\nfunction DiffView() {\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const {data} = useGetDictationQuery({\n    variables: {\n      sceneIdx,\n    },\n  })\n\n  const scene = lesson.scenes[sceneIdx]\n  const script = scene.langs.En.txt\n  const rs = diffText(script, data.dictation)\n\n  return (\n    <>\n      <div className=\"ion-margin-top\">\n        <div style={{color: '#747474'}}>What you typed:</div>\n        <div\n          // border=\"1px solid #ddd\" borderRadius={3} minH={6} p={1}\n          className=\"review-diffs\"\n        >\n          {rs.map(({value, added, removed}, i) => (\n            <div\n              key={i}\n              style={{\n                display: 'inline',\n                color: removed ? '#f22' : '#333',\n                textDecoration: added ? 'line-through' : 'none',\n              }}\n            >\n              {value}\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n","import {createContext, useContext} from 'react'\n\ninterface ContextValue {\n  isRecording: boolean\n  isPlaying: boolean\n  setIsRecording: React.Dispatch<React.SetStateAction<boolean>>\n  setIsPlaying: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const PracticeContext = createContext<ContextValue>({\n  isRecording: false,\n  isPlaying: false,\n  setIsRecording: (v) => {},\n  setIsPlaying: (v) => {},\n})\n\nexport function usePracticeContext() {\n  return useContext(PracticeContext)\n}\n","import React from 'react'\nimport {IonCol, IonImg, IonRow, IonText} from '@ionic/react'\n\nexport function RecordButton({status, onRecordStart, onRecordStop}) {\n  return (\n    <IonRow className=\"ion-margin-top ion-align-items-center ion-justify-content-center\">\n      <IonCol\n        id=\"record-voice\"\n        style={{height: '70px'}}\n        size=\"6\"\n        className=\"ion-align-self-center ion-text-center\"\n      >\n        {status === 'idle' ? (\n          <>\n            <IonText>Tap to record</IonText>\n            <IonImg\n              onClick={onRecordStart}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/mic.png\"\n            />\n          </>\n        ) : status === 'recording' ? (\n          <>\n            <IonText className=\"c-red\">Tap to stop</IonText>\n            <IonImg\n              onClick={onRecordStop}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/recordingStarted.gif\"\n            />\n          </>\n        ) : status === 'stopped' ? (\n          <>\n            <IonText>Try Again</IonText>\n            <IonImg\n              onClick={onRecordStart}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/mic.png\"\n            />\n          </>\n        ) : status === 'prepare' ? (\n          <>\n            <IonText>Wait</IonText>\n            <IonImg\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/record-prepare.png\"\n            />\n          </>\n        ) : (\n          <>\n            <IonText>Try Again</IonText>\n            <IonImg\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/record-prepare.png\"\n            />\n          </>\n        )}\n      </IonCol>\n    </IonRow>\n  )\n}\n","import {Capacitor} from '@capacitor/core'\nimport {mean} from 'lodash'\nimport React from 'react'\n\nconst G_SPEECH_KEY = 'AIzaSyBbKxoaEv0Lgnm8ixXSZEbzJA7aePr9Od8'\n// const G_SPEECH_KEY = 'AIzaSyBbjo_hE0z1qwcUb6wpIOFlYgZeFX7zgFo'\n\ninterface SpeechToTextResult {\n  error?: boolean\n  confidence?: number\n  transcript?: string\n  percent?: number\n}\ninterface UseSpeechToTextResult {\n  loading: boolean\n  error?: any\n  data?: SpeechToTextResult\n}\n\nexport function fetchSpeechToText(\n  audioBase64: string,\n  sampleRate: number,\n): Promise<SpeechToTextResult> {\n  const platform = Capacitor.getPlatform()\n  let config: any = {\n    encoding: 'LINEAR16',\n    sampleRateHertz: sampleRate,\n    languageCode: 'en-US',\n    enableWordTimeOffsets: false,\n    audio_channel_count: 1,\n  }\n  if (platform === 'ios' || platform === 'android') {\n    config = {\n      encoding: 'MP3',\n      sampleRateHertz: 16000,\n      languageCode: 'en-US',\n    }\n  }\n\n  return fetch(\n    `https://speech.googleapis.com/v1p1beta1/speech:recognize?key=${G_SPEECH_KEY}`,\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n      },\n      body: JSON.stringify({\n        config,\n        audio: {\n          content: audioBase64,\n        },\n      }),\n    },\n  )\n    .then((res) => res.json())\n    .then((res) => {\n      // const result = res.results[0].alternatives[0]\n      const list = res.results.map((rs) => rs.alternatives[0])\n      const confidence = mean(list.map((alt) => alt.confidence))\n      const transcript = list.map((alt) => alt.transcript).join('. ')\n      const percent = parseInt((confidence * 100).toFixed(), 10)\n\n      return Promise.resolve({\n        confidence,\n        transcript,\n        percent,\n      })\n    })\n}\n\nexport function useSpeechToText(\n  audioBase64,\n  sampleRate,\n  {onCompleted} = {onCompleted: null},\n) {\n  const [state, setState] = React.useState<UseSpeechToTextResult>({loading: true})\n\n  React.useEffect(() => {\n    fetchSpeechToText(audioBase64, sampleRate)\n      .then((data) => {\n        setState({\n          loading: false,\n          data,\n        })\n        onCompleted && onCompleted({...data, error: false})\n      })\n      .catch((err) => {\n        setState({loading: false, error: err})\n        onCompleted &&\n          onCompleted({error: true, confidence: null, transcript: null, percent: null})\n      })\n  }, [audioBase64, sampleRate])\n  return state\n  // return res\n  // console.log(res)\n}\n","import React from 'react'\n// import {Box, Flex, Spinner, Text} from '@chakra-ui/react'\nimport {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonIcon,\n  IonImg,\n  IonProgressBar,\n  IonSpinner,\n  IonText,\n} from '@ionic/react'\nimport clsx from 'clsx'\nimport {checkmark} from 'ionicons/icons'\nimport {useSpeechToText} from './useSpeechToText'\n\nexport function RecordResultItem({\n  loading,\n  error = undefined,\n  data,\n  index,\n  isPlaying,\n  onPlay,\n  onStop,\n}) {\n  return (\n    <IonCard className=\"confidence-level \" mode=\"ios\">\n      {data && index === 0 && (\n        <IonCardHeader>\n          <IonCardTitle id=\"checkmark-icon\">\n            <IonIcon mode=\"md\" icon={checkmark}></IonIcon>\n            <IonText>\n              {data.percent >= 93\n                ? 'You got it! English must be your mother tongue!'\n                : data.percent >= 80\n                ? 'You are pretty good.'\n                : data.percent >= 70\n                ? 'You are not bad.'\n                : \"That doesn't sound good. You can try again.\"}\n            </IonText>\n          </IonCardTitle>\n        </IonCardHeader>\n      )}\n      <IonCardContent>\n        <div style={{display: 'flex'}}>\n          {loading ? (\n            <div style={{flex: 1}}>\n              <IonSpinner />\n            </div>\n          ) : error ? (\n            <div style={{flex: 1}}>Can not evaluate. Try again</div>\n          ) : (\n            <div style={{flex: 1}}>\n              <IonText className=\"percent\">\n                {index === 0 ? 'Latest' : index + 1}: {data.percent}%{' '}\n              </IonText>\n\n              <IonProgressBar\n                className={clsx(index === 0 ? 'latest-confidence' : 'old-confidence')}\n                mode=\"md\"\n                value={data.confidence}\n              ></IonProgressBar>\n              <div style={{marginTop: '8px'}}>\n                <div style={{color: index === 0 ? '#e22d2d' : '#444'}}>\n                  {data.transcript}\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div style={{height: '40px', width: '40px'}}>\n            {!isPlaying ? (\n              <IonImg\n                className=\"pointer\"\n                onClick={onPlay}\n                style={{height: '100%'}}\n                src=\"../../../../../assets/images/play.png\"\n              />\n            ) : (\n              <IonImg\n                className=\"pointer\"\n                onClick={onStop}\n                style={{height: '100%'}}\n                src=\"../../../../../assets/images/audioFilePlaying.png\"\n              />\n            )}\n          </div>\n        </div>\n      </IonCardContent>\n    </IonCard>\n  )\n}\n\nexport function RecordView({\n  audioAsBase64,\n  sampleRate,\n  index,\n  isPlaying,\n  onPlay,\n  onStop,\n  onCompleted,\n}) {\n  const {data, error, loading} = useSpeechToText(audioAsBase64, sampleRate, {onCompleted})\n  return (\n    <RecordResultItem\n      data={data}\n      error={error}\n      loading={loading}\n      index={index}\n      isPlaying={isPlaying}\n      onStop={onStop}\n      onPlay={onPlay}\n    />\n  )\n}\n","import React from 'react'\nimport * as RecordRTC from 'recordrtc'\nimport {currentLessonIdVar, recordsVar} from '../../../../apollo/apollo-client'\nimport {useLessonStore} from '../useLessonStore'\n\nfunction getAudioContext() {\n  // @ts-ignore\n  const AudioContext = window.AudioContext || window.webkitAudioContext\n  if (AudioContext) {\n    return new AudioContext()\n  }\n}\nconst sampleRate = getAudioContext().sampleRate || 44100\n\nconst RECORD_TIMEOUT_MS = 20 * 1000\n\nexport function useRecordRtc({onStop}) {\n  const [status, setStatus] = React.useState('idle')\n  const [mediaBlobUrl, setMediaBlobUrl] = React.useState<string | null>(null)\n  const [recorder, setRecorder] = React.useState<any>()\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const stopRecording = React.useCallback(async () => {\n    try {\n      await recorder.stopRecording()\n      const blob = await recorder.getBlob()\n      const sampleRate = (await recorder.getInternalRecorder()).sampleRate\n      const audioAsBase64 = (await recorder.getDataURL()).replace(/^.+base64,/, '')\n      const audioUrl = URL.createObjectURL(blob)\n      console.log({sampleRate, audioAsBase64, audioUrl})\n      setStatus('stopped')\n      setMediaBlobUrl(audioUrl)\n      onStop &&\n        onStop({\n          audioAsBase64,\n          audioUrl,\n          sampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }, [recorder, setStatus, setMediaBlobUrl, onStop])\n\n  // async function stopRecording() {\n  //   try {\n  //     await recorder.stopRecording()\n  //     const blob = await recorder.getBlob()\n  //     const sampleRate = (await recorder.getInternalRecorder()).sampleRate\n  //     const audioAsBase64 = (await recorder.getDataURL()).replace(/^.+base64,/, '')\n  //     const audioUrl = URL.createObjectURL(blob)\n  //     console.log({sampleRate, audioAsBase64, audioUrl})\n  //     setStatus('stopped')\n  //     setMediaBlobUrl(audioUrl)\n  //     onStop &&\n  //       onStop({\n  //         audioAsBase64,\n  //         audioUrl,\n  //         sampleRate,\n  //       })\n  //   } catch (err) {\n  //     console.log({err})\n  //   }\n  // }\n\n  async function startRecording() {\n    ytPlayer.pauseVideo()\n    const stream = await navigator.mediaDevices.getUserMedia({audio: true})\n    const recorder = new RecordRTC.RecordRTCPromisesHandler(stream, {\n      type: 'audio',\n      mimeType: 'audio/webm',\n      recorderType: RecordRTC.StereoAudioRecorder,\n      sampleRate: sampleRate, // RecordRTC: 22050 and 96000 , Google STT: 8000 - 48000\n      numberOfAudioChannels: 1,\n    })\n    recorder.startRecording()\n    setRecorder(recorder)\n    setStatus('recording')\n  }\n\n  React.useEffect(() => {\n    if (status === 'recording') {\n      const to = setTimeout(() => {\n        stopRecording()\n      }, RECORD_TIMEOUT_MS)\n      return () => clearTimeout(to)\n    }\n  }, [status, stopRecording])\n\n  return {\n    status,\n    sampleRate,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","import React from 'react'\nimport {useGetRecordsQuery} from '../../../../schema/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordRtc} from './useRecordRtc'\n\nexport default function RecordingView() {\n  const audioRef = React.useRef<HTMLAudioElement>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n  const practiceState = usePracticeContext()\n\n  const {status, startRecording, stopRecording, mediaBlobUrl} = useRecordRtc({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(url) {\n    const audioEl = audioRef.current\n    if (audioEl) {\n      ytPlayer.pauseVideo()\n      audioEl.src = url\n      audioEl.play()\n\n      practiceState.setIsPlaying(true)\n      setAudioPaying(true)\n    }\n  }\n\n  async function handleAudioStop() {\n    const audioEl = audioRef.current\n    if (audioEl) {\n      audioEl.pause()\n      audioEl.currentTime = 0\n      practiceState.setIsPlaying(false)\n    }\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    practiceState.setIsRecording(true)\n    startRecording()\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    practiceState.setIsRecording(false)\n  }\n\n  return (\n    <>\n      <audio\n        ref={audioRef}\n        hidden\n        onPlaying={() => {\n          setAudioPaying(true)\n        }}\n        onPause={() => {\n          setAudioPaying(false)\n        }}\n        onEnded={() => {\n          setAudioPaying(false)\n        }}\n      />\n\n      {audioRef.current && (\n        <>\n          {data.records.map((r, i) =>\n            r.stt ? (\n              <RecordResultItem\n                key={r.audioUrl}\n                data={r.stt}\n                loading={false}\n                error={r.stt.error}\n                index={i}\n                isPlaying={\n                  !audioRef.current.paused &&\n                  audioRef.current.src === r.audioUrl &&\n                  audioPlaying\n                }\n                onPlay={() => {\n                  handleAudioPlay(r.audioUrl)\n                }}\n                onStop={handleAudioStop}\n              />\n            ) : (\n              <RecordView\n                key={r.audioUrl}\n                audioAsBase64={r.audioAsBase64}\n                sampleRate={r.sampleRate}\n                index={i}\n                isPlaying={\n                  !audioRef.current.paused &&\n                  audioRef.current.src === r.audioUrl &&\n                  audioPlaying\n                }\n                onPlay={() => {\n                  handleAudioPlay(r.audioUrl)\n                }}\n                onStop={handleAudioStop}\n                onCompleted={(data) => {\n                  console.log('oncomplt', {data})\n                  setRecordSTT(sceneIdx, i, data)\n                }}\n              />\n            ),\n          )}\n        </>\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","import React from 'react'\nimport {currentLessonIdVar, recordsVar} from '../../../../apollo/apollo-client'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {Plugins} from '@capacitor/core'\nconst {Filesystem} = Plugins\n\nconst iosSampleRate = 16000\n\nexport function useRecordIos({onStop}) {\n  const [status, setStatus] = React.useState('idle')\n  const [fileName, setFileName] = React.useState<string>()\n  const [audioFile, setAudioFile] = React.useState<MediaObject>()\n\n  async function stopRecording() {\n    try {\n      audioFile.stopRecord()\n      audioFile.release()\n      //@ts-ignore\n      const file = new File()\n\n      let data = await Filesystem.readFile({\n        path: file.tempDirectory + fileName,\n      })\n      if (data) {\n        console.log({data})\n      }\n\n      setStatus('stopped')\n\n      onStop &&\n        onStop({\n          audioAsBase64: data?.data,\n          audioUrl: fileName,\n\n          sampleRate: iosSampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }\n\n  async function startRecording() {\n    //@ts-ignore\n    const file = new File()\n    //@ts-ignore\n    const media = new Media()\n\n    let fileName = `record-${+new Date()}.m4a`\n\n    await file.createFile(file.tempDirectory, fileName, true)\n\n    const audioFile = media.create(\n      file.tempDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.startRecord()\n\n    setAudioFile(audioFile)\n    setFileName(fileName)\n    setStatus('recording')\n  }\n\n  return {\n    status,\n    sampleRate: iosSampleRate,\n    startRecording,\n    stopRecording,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","import React from 'react'\nimport {Diagnostic} from '@ionic-native/diagnostic'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {useIonAlert} from '@ionic/react'\nimport {useGetRecordsQuery} from '../../../../schema/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordIos} from './useRecordIos'\n\ninterface AudioMedia {\n  audioFile: MediaObject\n  fileName: string\n}\n\nexport default function IosRecordingView() {\n  const {setIsPlaying, setIsRecording} = usePracticeContext()\n  const [audioMedia, setAudioMedia] = React.useState<AudioMedia>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n  //@ts-ignore\n  const diagnostic = React.useMemo(() => new Diagnostic(), [])\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [present] = useIonAlert()\n\n  const {status, startRecording, stopRecording} = useRecordIos({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(fileName: string) {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    //@ts-ignore\n    const media = new Media()\n    //@ts-ignore\n    const file = new File()\n    const audioFile = media.create(\n      file.tempDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.play()\n    setAudioMedia({audioFile, fileName})\n    audioFile.onStatusUpdate.subscribe((status) => {\n      console.log({status})\n      if (status === media.MEDIA_STOPPED) {\n        handleAudioStop()\n      }\n    })\n\n    setAudioPaying(true)\n    setIsPlaying(true)\n  }\n\n  async function handleAudioStop() {\n    if (audioMedia) {\n      const {audioFile, fileName} = audioMedia\n      audioFile.stop()\n      audioFile.release()\n      setAudioMedia(null)\n    }\n    setAudioPaying(false)\n    setIsPlaying(false)\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n\n    const status = await diagnostic.getMicrophoneAuthorizationStatus()\n    if (status === 'authorized') {\n      // this.startIosRecording()\n    } else if (status === 'not_determined') {\n      const reqStatus = await diagnostic.requestMicrophoneAuthorization()\n      if (reqStatus === 'authorized') {\n        // this.startIosRecording()\n      } else {\n        // this.recordingAction = 'Try Again'\n        // this.recording = false\n        // this.recordingPrepare = false\n        present('No Mic Permisson')\n      }\n    } else {\n      present('No Mic Permisson')\n      // this.recordingAction = 'Try Again'\n      // this.recording = false\n      // this.recordingPrepare = false\n      // this.micPermissionAlert()\n    }\n\n    startRecording()\n    setIsRecording(true)\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    setIsRecording(false)\n  }\n\n  return (\n    <>\n      {data.records.map((r, i) =>\n        r.stt ? (\n          <RecordResultItem\n            key={r.audioUrl}\n            data={r.stt}\n            loading={false}\n            error={r.stt.error}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n          />\n        ) : (\n          <RecordView\n            key={r.audioUrl}\n            audioAsBase64={r.audioAsBase64}\n            sampleRate={r.sampleRate}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n            onCompleted={(data) => {\n              console.log('oncomplt', {data})\n              setRecordSTT(sceneIdx, i, data)\n            }}\n          />\n        ),\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","import {IonButton, IonCol, IonRow} from '@ionic/react'\nimport React from 'react'\nimport {useLessonStore} from '../useLessonStore'\n\nexport function ScriptView() {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n\n  const [showScript, setShowScript] = React.useState(true)\n\n  const scene = lesson.scenes[sceneIdx]\n  const script = scene.langs.En.txt\n\n  console.log(\"script\", script)\n  console.log(\"scene\", scene)\n  \n\n  return (\n    <>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"6\" className=\"ion-align-self-center\">\n          <p className=\"c-dark-grey ion-no-margin\">Script:</p>\n        </IonCol>\n        <IonCol size=\"6\" className=\"ion-align-self-center\">\n          {showScript ? (\n            <IonButton\n              onClick={() => setShowScript(false)}\n              className=\"ion-float-right translation-btn\"\n              color=\"dark\"\n              mode=\"ios\"\n              shape=\"round\"\n              size=\"small\"\n              fill=\"outline\"\n              id=\"script-label\"\n            >\n              Hide\n            </IonButton>\n          ) : (\n            <IonButton\n              onClick={() => setShowScript(true)}\n              className=\"ion-float-right translation-btn\"\n              color=\"dark\"\n              mode=\"ios\"\n              fill=\"solid\"\n              shape=\"round\"\n              size=\"small\"\n            >\n              Show\n            </IonButton>\n          )}\n        </IonCol>\n      </IonRow>\n      {showScript && (\n        <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <p className=\"ion-no-margin\" id=\"subTitle\">\n              {script}\n            </p>\n          </IonCol>\n        </IonRow>\n      )}\n    </>\n  )\n}\n","//@ts-nocheck\nimport React from 'react'\nimport {currentLessonIdVar, recordsVar} from '../../../../apollo/apollo-client'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {Plugins} from '@capacitor/core'\nconst {Filesystem} = Plugins\n\nconst androidSampleRate = 16000\n\ntype RecordStatus = 'idle' | 'stopped' | 'recording'\n\nexport function useRecordAndroid({onStop}) {\n  const [status, setStatus] = React.useState<RecordStatus>('idle')\n  const [fileName, setFileName] = React.useState<string>()\n  const [audioFile, setAudioFile] = React.useState<MediaObject>()\n\n  async function stopRecording() {\n    try {\n      audioFile.stopRecord()\n      audioFile.release()\n      setAudioFile(null)\n      const file = new File()\n\n      let data = await Filesystem.readFile({\n        path: file.externalDataDirectory + fileName,\n      })\n      if (data) {\n        console.log({data})\n      }\n\n      setStatus('stopped')\n\n      onStop &&\n        onStop({\n          audioAsBase64: data?.data,\n          audioUrl: fileName,\n          sampleRate: androidSampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }\n\n  async function startRecording() {\n    const file = new File()\n    const media = new Media()\n\n    let fileName = `record-${+new Date()}.mp3`\n\n    // await file.createFile(file.tempDirectory, fileName, true)\n    const filePath = file.externalDataDirectory.replace(/^file:\\/\\//, '') + fileName\n    const audioFile = media.create(filePath)\n    audioFile.startRecord()\n\n    setAudioFile(audioFile)\n    setFileName(fileName)\n    setStatus('recording')\n  }\n\n  return {\n    status,\n    sampleRate: androidSampleRate,\n    startRecording,\n    stopRecording,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","import React from 'react'\nimport {Diagnostic} from '@ionic-native/diagnostic'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {useIonAlert} from '@ionic/react'\nimport {useGetRecordsQuery} from '../../../../schema/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordAndroid} from './useRecordAndroid'\nimport {AndroidPermissions} from '@ionic-native/android-permissions'\nimport {zip} from 'lodash'\n\ninterface AudioMedia {\n  audioFile: MediaObject\n  fileName: string\n}\n\n//@ts-ignore\nasync function checkMicrophonePermission(androidPermissions: AndroidPermissions) {\n  const permissions = [\n    androidPermissions.PERMISSION.RECORD_AUDIO,\n    androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,\n    androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE,\n  ]\n  const results = await Promise.all(\n    permissions.map((p) => androidPermissions.checkPermission(p)),\n  )\n  const hasPermissions = results.map((r) => r.hasPermission)\n  const reqPerms = zip(hasPermissions, permissions)\n    .filter(([hasPerm]) => !hasPerm)\n    .map(([_, perm]) => perm)\n\n  console.log(reqPerms)\n\n  if (reqPerms.length > 0) {\n    try {\n      const reqRes = await androidPermissions.requestPermissions(reqPerms)\n\n      console.log('reqRes', reqRes.hasPermission)\n      if (!reqRes.hasPermission) {\n        return false\n      }\n    } catch (err) {\n      console.log('err reqPerm', err)\n      return false\n    }\n  }\n\n  return true\n}\n\nexport default function AndroidRecordingView() {\n  const {setIsPlaying, setIsRecording} = usePracticeContext()\n  const [audioMedia, setAudioMedia] = React.useState<AudioMedia>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n\n  //@ts-ignore\n  const diagnostic = React.useMemo(() => new Diagnostic(), [])\n  //@ts-ignore\n  const androidPermissions = React.useMemo(() => new AndroidPermissions(), [])\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [present] = useIonAlert()\n\n  const {status, startRecording, stopRecording} = useRecordAndroid({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(fileName: string) {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    //@ts-ignore\n    const media = new Media()\n    //@ts-ignore\n    const file = new File()\n    const audioFile = media.create(\n      file.externalDataDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.play()\n    setAudioMedia({audioFile, fileName})\n    audioFile.onStatusUpdate.subscribe((status) => {\n      console.log({status})\n      if (status === media.MEDIA_STOPPED) {\n        handleAudioStop()\n      }\n    })\n\n    setAudioPaying(true)\n    setIsPlaying(true)\n  }\n\n  async function handleAudioStop() {\n    if (audioMedia) {\n      const {audioFile, fileName} = audioMedia\n      audioFile.stop()\n      audioFile.release()\n      setAudioMedia(null)\n    }\n    setAudioPaying(false)\n    setIsPlaying(false)\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n\n    const status = await checkMicrophonePermission(androidPermissions)\n    if (!status) {\n      return present('No Mic Permisson')\n    }\n\n    startRecording()\n    setIsRecording(true)\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    setIsRecording(false)\n  }\n\n  return (\n    <>\n      {data.records.map((r, i) =>\n        r.stt ? (\n          <RecordResultItem\n            key={r.audioUrl}\n            data={r.stt}\n            loading={false}\n            error={r.stt.error}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n          />\n        ) : (\n          <RecordView\n            key={r.audioUrl}\n            audioAsBase64={r.audioAsBase64}\n            sampleRate={r.sampleRate}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n            onCompleted={(data) => {\n              console.log('oncomplt', {data})\n              setRecordSTT(sceneIdx, i, data)\n            }}\n          />\n        ),\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","import {IonCol, IonRow, IonText} from '@ionic/react'\nimport clsx from 'clsx'\nimport {range} from 'lodash'\nimport React, {useEffect, useMemo, useState} from 'react'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {ActionBar} from '../ActionBar'\nimport {NextButton} from '../NextButton'\nimport WebRecordingView from './RecordingView'\nimport {useLessonStore} from '../useLessonStore'\nimport {Capacitor, Plugins} from '@capacitor/core'\n// import {useStore} from 'src/reactapp/useStore'\nimport IosRecordingView from './IosRecordingView'\nimport {ScriptView} from './ScriptView'\nimport {PracticeContext} from './PracticeContext'\nimport create from 'zustand'\nimport AndroidRecordingView from './AndroidRecordingView'\nconst {Device} = Plugins\n\n\nfunction RecordingView() {\n  const platform = Capacitor.getPlatform()\n  if (platform === 'web') {\n    return <WebRecordingView />\n  } else if (platform === 'ios') {\n    return <IosRecordingView />\n  } else if (platform === 'android') {\n    return <AndroidRecordingView />\n  }\n}\n\nfunction usePracticeState() {\n  const [isRecording, setIsRecording] = useState(false)\n  const [isPlaying, setIsPlaying] = useState(false)\n\n  return {\n    isRecording,\n    isPlaying,\n    setIsRecording,\n    setIsPlaying,\n  }\n}\n\nexport function LessonStepPractice({Footer}) {\n  const repeat = 3 // 10\n  const [count, setCount] = useState(0)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const lesson = useLessonStore((state) => state.lesson)\n  const practiceState = usePracticeState()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      setOverlay(null)\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count > 0) {\n      setOverlay(<h2>Repeat what you just heard.</h2>)\n      let to = setTimeout(() => {\n        setOverlay(null)\n        if (practiceState.isPlaying || practiceState.isRecording) {\n          return\n        }\n        if (count < 3) {\n          ytPlayer.seekTo(scene.start, true)\n          ytPlayer.playVideo()\n        }\n      }, 8000)\n      return () => clearTimeout(to)\n    }\n    // } else {\n    //   ytPlayer.seekTo(scene.start, true)\n    //   ytPlayer.playVideo()\n    // }\n  }, [count, practiceState.isRecording, practiceState.isPlaying])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <PracticeContext.Provider value={practiceState}>\n      <ActionBar />\n      <div className=\"practice \">\n        <div\n          className=\"ion-text-center ion-align-self-center shadowing\"\n          id=\"scene-iteration\"\n        >\n          {counts.map((c) => (\n            <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n              <span className={clsx(c.done && 'c-red')}>{c.num}</span>\n            </IonText>\n          ))}\n        </div>\n\n        <h5>1 ) Shadow (repeat what you hear)</h5>\n\n        <ScriptView />\n        <IonRow className=\"ion-margin-top ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <h5>2 ) Record your speech and get it evaluated</h5>\n          </IonCol>\n        </IonRow>\n        <RecordingView />\n      </div>\n\n      <Footer>\n        <NextButton onClick={() => moveNext()} />\n      </Footer>\n    </PracticeContext.Provider>\n  )\n}\n","import {Plugins} from '@capacitor/core'\n\nimport {\n  IonButton,\n  IonCol,\n  IonContent,\n  IonFooter,\n  IonGrid,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonModal,\n  IonPage,\n  IonProgressBar,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  IonText,\n  IonTextarea,\n  useIonToast,\n} from '@ionic/react'\nimport {close} from 'ionicons/icons'\nimport * as React from 'react'\nimport ReactDOM from 'react-dom'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {currentLessonIdVar} from '../../../apollo/apollo-client'\nimport {\n  Lesson,\n  useGetLessonDeatilQuery,\n  useGetProfileQuery,\n  useReportLessonIssueMutation,\n} from '../../../schema/types-and-hooks'\n// import {useStore} from 'src/reactapp/useStore'\nimport * as yup from 'yup'\n\n// import {getNativeStorage} from '../nativeStorage'\nimport {LessonPlayer} from './LessonPlayer'\nimport {LessonStepDictation} from './LessonStepDictation'\nimport {LessonStepHeader} from './LessonStepHeader'\nimport {LessonStepListen} from './LessonStepListen'\nimport {LessonStepReListen} from './LessonStepReListen'\nimport {LessonStepReview} from './LessonStepReview'\nimport {LessonStepPractice} from './step4Practice/LessonStepPractice'\nimport {useLessonStore} from './useLessonStore'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {msg} from '../../../language/translation.en'\nimport {storageHelper} from '../../../utils/storageHelper'\nimport {Device} from '@capacitor/device'\nimport {App} from '@capacitor/app'\nimport './LessonStepsPage.scss'\n\nconst {Keyboard, Filesystem} = Plugins\n\ninterface CommonData {\n  profile: any\n  acronymsList: [any]\n}\n\nconst lessonParamsSchema = yup.object().shape({\n  subLessonId: yup.string().required(),\n  isDraft: yup.boolean().required(),\n})\n\nconst lessonSteps = [\n  {\n    name: 'Step 1 : Listen',\n    _id: 'Listen',\n  },\n  {\n    name: 'Step 2 : Dictation',\n    _id: 'Dictation',\n  },\n  {\n    name: 'Step 3 : Review',\n    _id: 'Review',\n  },\n  {\n    name: 'Step 4 : Practice',\n    _id: 'Practice',\n  },\n  {\n    name: 'Step 5 : Re-listen',\n    _id: 'Re-listen',\n  },\n]\n\nasync function getUserPlatform() {\n  let appInfo\n  try {\n    appInfo = await App.getInfo()\n  } catch {}\n  const info = await Device.getInfo()\n  const userPlatform = `${info.manufacturer} ( ${info.platform} ) ${info.model} ( ${info.osVersion} ) - ${appInfo?.version}`\n  return userPlatform\n}\n\nfunction ReportIssueModal({isOpen, onDismiss}) {\n  const lesson = useLessonStore((state) => state.lesson)\n  const step = useLessonStore((state) => state.step)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [value, setValue] = React.useState('')\n  const [presentToast] = useIonToast()\n  const [reportIssue] = useReportLessonIssueMutation({\n    onCompleted: (data) => {\n      if (data.reportLessonIssue) {\n        presentToast(msg['CONTACT_US_REQUEST_SENT_SUCCESSFULLY'], 2000)\n        onDismiss()\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  async function handleSave() {\n    const message = value.trim()\n\n    if (message.length === 0) {\n      presentToast('Please enter a message.')\n      return\n    }\n\n    const userPlatform = await getUserPlatform()\n\n    const report = {\n      message: message,\n      scene: sceneIdx + 1,\n      step: lessonSteps[step - 1].name,\n      lessonName: lesson.lessonName,\n      userPlatform: userPlatform,\n    }\n    reportIssue({\n      variables: {\n        report,\n      },\n    })\n  }\n\n  return (\n    <IonModal\n      mode=\"ios\"\n      isOpen={isOpen}\n      cssClass=\"reportIssueModal\"\n      onWillDismiss={onDismiss}\n    >\n      <div className=\"app-report-issue\">\n        <IonRow>\n          <IonCol>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol size=\"11\" className=\"ion-align-self-center\">\n                <h4 className=\"ion-no-margin c-orange\">\n                  Would you like to report an issue?\n                </h4>\n              </IonCol>\n              <IonCol size=\"1\" className=\"ion-align-self-center ion-text-right\">\n                <IonIcon\n                  mode=\"md\"\n                  icon={close}\n                  className=\"pointer\"\n                  id=\"modal-dismiss\"\n                  onClick={onDismiss}\n                  // (click)=\"onDismiss()\"\n                ></IonIcon>\n              </IonCol>\n            </IonRow>\n\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol size=\"12\" className=\"ion-align-self-center report-block\">\n                <IonItem lines=\"none\" className=\"issue-textarea ion-margin-bottom\">\n                  <IonTextarea\n                    rows={5}\n                    placeholder=\"Please write the issue here...\"\n                    value={value}\n                    onIonChange={(e) => setValue(e.detail.value)}\n                  ></IonTextarea>\n                </IonItem>\n                <IonText>- Lesson : {lesson.lessonName}</IonText>\n                <br />\n                <IonText>- Scene : {sceneIdx + 1}</IonText>\n                <br />\n                <IonText>- {lessonSteps[step - 1].name}</IonText>\n              </IonCol>\n            </IonRow>\n\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol size=\"12\" className=\"ion-align-self-center\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={handleSave}\n                >\n                  Submit\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </IonCol>\n        </IonRow>\n      </div>\n    </IonModal>\n  )\n}\n\nfunction LessonStepPage() {\n  const ionContentRef = React.useRef<HTMLIonContentElement>()\n  const footerRef = React.useRef<any>()\n  const [showReportModal, setShowReportModal] = React.useState(false)\n  const lesson = useLessonStore((state) => state.lesson)\n  const setScrollTop = useLessonStore((state) => state.setScrollTop)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const step = useLessonStore((state) => state.step)\n  const stop = useLessonStore((state) => state.stop)\n  console.log(\"step and stop\", step, stop)\n\n  function Footer(props) {\n    const [myPortal, setMyPortal] = React.useState<any>(null)\n    React.useEffect(() => {\n      if (footerRef.current) {\n        const portal = ReactDOM.createPortal(props.children, footerRef.current)\n        setMyPortal(portal)\n      }\n    }, [footerRef.current, setMyPortal])\n    return myPortal\n  }\n\n  function handleReportIssue() {\n    stop()\n    setShowReportModal(true)\n  }\n\n  return (\n    <IonPage className=\"lesson-step-page\">\n      <LessonStepHeader />\n      <IonContent\n        id=\"ion-content\"\n        ref={ionContentRef}\n        scrollEvents={true}\n        onIonScroll={(e) => {\n          setScrollTop(e.detail.scrollTop)\n        }}\n      >\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"lesson ion-align-items-center ion-justify-content-center\">\n            <IonCol \n            \n            sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"10\" sizeLg=\"8\" sizeXl=\"8\">\n              {/* <Box className=\"lesson\"> */}\n              <LessonPlayer\n                youtubeId={lesson.youtubeId}\n                onClickReportIssue={handleReportIssue}\n              />\n\n              {ytPlayer && (\n                <>\n                  {step === 1 ? (\n                    <LessonStepListen Footer={Footer} />\n                  ) : step === 2 ? (\n                    <LessonStepDictation Footer={Footer} />\n                  ) : step === 3 ? (\n                    <LessonStepReview Footer={Footer} />\n                  ) : step === 4 ? (\n                    <LessonStepPractice Footer={Footer} />\n                  ) : step === 5 ? (\n                    <LessonStepReListen Footer={Footer} />\n                  ) : null}\n                </>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n        {showReportModal && (\n          <ReportIssueModal\n            isOpen={showReportModal}\n            onDismiss={() => setShowReportModal(false)}\n          />\n        )}\n      </IonContent>\n      <IonFooter mode=\"ios\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"lesson ion-align-items-center ion-justify-content-center\">\n            <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"10\" sizeLg=\"8\" sizeXl=\"8\">\n              <div ref={footerRef}></div>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonFooter>\n    </IonPage>\n  )\n}\n\nfunction ErrorFallback({error, resetErrorBoundary}) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  )\n}\n\nfunction LessonStepsPage() {\n  const params = useParams<any>()\n  const {subLessonId, isDraft} = lessonParamsSchema.cast(params)\n  const loading = useLessonStore((state) => state.loading)\n  const init = useLessonStore((state) => state.init)\n  const setLesson = useLessonStore((state) => state.setLesson)\n\n  React.useEffect(() => {\n    return () => {\n      init()\n    }\n  }, [])\n\n  const lessonRes = useGetLessonDeatilQuery({\n    // fetchPolicy: 'cache-and-network',\n    variables: {\n      id: subLessonId,\n    },\n    onCompleted: (data) => {\n      currentLessonIdVar(data.lesson._id)\n      setLesson(data.lesson as Lesson)\n      // console.log(data.lesson)\n      // setLessonDetails(data.lesson as Lesson)\n    },\n    skip: !subLessonId,\n  })\n\n  if (loading || !lessonRes.data) {\n    return <IonProgressBar />\n  }\n\n  return (\n    <ErrorBoundary\n      FallbackComponent={ErrorFallback}\n      onReset={() => {\n        // reset the state of your app so the error doesn't happen again\n      }}\n    >\n      <LessonStepPage />\n    </ErrorBoundary>\n  )\n}\n\nasync function blobUrlToBase64(url): Promise<string> {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then((data) => {\n        const blob = data.blob()\n        return blob\n      })\n      .then((blob) => {\n        let reader = new window.FileReader()\n\n        reader.onloadend = function () {\n          const data = reader.result.toString()\n          resolve(data)\n          // console.log(data)\n        }\n\n        reader.readAsDataURL(blob)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n\n// const sampleRate = getAudioContext().sampleRate || 44100\n\nfunction useLessonNav(subLessonId) {\n  const [step, setStep] = React.useState(0)\n  const [scene, setScene] = React.useState(0)\n\n  async function restoreLeftData() {\n    const leftOf = await storageHelper.getNativeStorage('leftOfData')\n    // console.log(leftOf)\n  }\n\n  React.useEffect(() => {\n    restoreLeftData()\n  }, [subLessonId])\n\n  return {\n    step,\n    scene,\n  }\n}\n\nexport default LessonStepsPage\n","export const environment = {\n    production: false,\n    API_URL: 'https://api.speakypeaky.com/api/v1',\n    GRAPHQL_URL: 'https://api.speakypeaky.com/graphql',\n    // API_URL: 'https://api-dev.speakypeaky.com/api/v1',\n    // GRAPHQL_URL: 'https://api-dev.speakypeaky.com/graphql',\n    // GRAPHQL_URL: 'http://localhost:4044/',\n    // GRAPHQL_URL: 'http://192.168.0.3:4044/',\n    // API_URL: 'http://localhost:4043/api/v1',\n    // API_URL: 'http://localhost:4044/dev/api/v1',\n  \n    // S3 Bucket\n    accessKeyId: 'AKIAIQV2FPU2ROUJB2QA',\n    secretAccessKey: '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',\n    region: 'us-east-1',\n    bucket: 'start-english-learning',\n    assetBaseUrl: 'https://asset.speakypeaky.com/',\n  \n    // This is for Speaky Peaky\n    validatorURL:\n      'https://validator.fovea.cc/v1/validate?appName=com.summer.startenglishnow&apiKey=f8ba72c1-7125-4f97-9c57-da5ae62fbc45',\n  \n    stripePublicKey: 'pk_test_J2UsK5W9xq4swWJN0ZdhEn0W00uGeII06q',\n  \n    firebase: {\n      apiKey: 'AIzaSyBcuf15jDOG-Q6pIyc2ZNYCjiV1u5pTLHU',\n      authDomain: 'start-english-now-android.firebaseapp.com',\n      databaseURL: 'https://start-english-now-android.firebaseio.com',\n      projectId: 'start-english-now-android',\n      storageBucket: 'start-english-now-android.appspot.com',\n      messagingSenderId: '73688891988',\n      appId: '1:73688891988:web:74a17a3e4bf8a063',\n    },\n  }","import {\n  IonButtons,\n  IonBackButton,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonCard,\n  IonCardContent,\n  IonToolbar,\n  IonModal,\n  IonButton,\n  IonIcon,\n  useIonRouter,\n  IonRouterLink,\n  useIonAlert,\n  useIonLoading,\n  useIonToast,\n  useIonViewWillEnter,\n  useIonViewWillLeave,\n  useIonViewDidEnter,\n} from '@ionic/react'\nimport Cookies from 'js-cookie'\nimport {isPlatform} from '@ionic/react'\nimport {environment} from '../../enviornment'\nimport React, {useEffect, useState} from 'react'\nimport {InAppPurchase2 as Store} from '@ionic-native/in-app-purchase-2'\nimport {IAPProduct} from '@ionic-native/in-app-purchase-2'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport {fetchApi} from '../../fetchApis'\n\nimport './SubscriptionPlans.scss'\nimport { download } from 'ionicons/icons'\n\ninterface androidTransaction {\n  id: string\n  purchaseState: number\n  purchaseToken: string\n  receipt: string\n  signature: string\n  type: string\n}\n\ninterface androidReceipt {\n  orderId: string\n  packageName: string\n  productId: string\n  purchaseTime: number\n  purchaseState: number\n  purchaseToken: string\n  obfuscatedAccountId: string\n  autoRenewing: boolean\n  acknowledged: boolean\n}\n\nconst SubscriptionPlans: React.FC = () => {\n  \n  const router = useIonRouter()\n  const [showModal, setShowModal] = useState(false)\n  const [modal, setModal] = useState(false)\n  const {data} = useGetProfileQuery()\n  const [pres, dismi] = useIonLoading()\n  const [presen, dismiss] = useIonToast()\n  const [purchsed, setPurchsed] = useState(false)\n  const [present] = useIonAlert()\n  const [err, setErr] = useState({})\n  console.log('profile', data?.profile)\n  const [isProductLoaded, setIsProductLoaded] = useState(false)\n  const validatorUrl = environment.validatorURL\n  let orderProduct = null\n  const [products, setProducts] = useState([])\n\n\n  useEffect(() => {\n  \n  },[data?.profile])\n\n  const googlePlay = () => {\n    window.open(\n      'https://play.google.com/store/apps/details?id=com.summer.startenglishnow',\n      '_blank',\n    )\n  }\n  const appleplay = () => {\n    window.open('https://apps.apple.com/us/app/speaky-peaky/id1486127431', '_blank')\n  }\n  const productTypes = {\n    'com.startenglishnow.yearly': 'yearly',\n    'com.startenglishnow.6months': '6_months',\n    'com.startenglishnow.monthly': 'monthly',\n  }\n\n  const productIds = [\n    'com.startenglishnow.yearly',\n    'com.startenglishnow.6months',\n    'com.startenglishnow.monthly',\n  ]\n\n  const verifyEmail = async (profile) => {\n    try {\n      pres('Please wait...')\n\n      const res = await fetchApi('/user/resend-email', {\n        method: 'POST',\n        body: JSON.stringify({\n          email: profile.email,\n        }),\n      })\n      if (res.error) {\n        dismi()\n        presen(`${res.error}`, 3000)\n\n        console.log('res.error', res.error)\n      } else {\n        dismi()\n        presen(`${res.message}`, 3000)\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  function enter() {\n    if (!isPlatform('cordova' || 'capacitor')) {\n      setModal(true);\n    }\n    if (isPlatform('cordova' || 'capacitor')) {\n      Store.verbosity = Store.DEBUG\n\n      Store.register([{\n        id: 'com.startenglishnow.yearly',\n        alias: 'com.startenglishnow.yearly',\n        type: Store.PAID_SUBSCRIPTION,\n      },\n      {\n        id: 'com.startenglishnow.6months',\n        alias: 'com.startenglishnow.6months',\n        type: Store.PAID_SUBSCRIPTION,\n      },\n      {\n        id: 'com.startenglishnow.monthly',\n        alias: 'com.startenglishnow.monthly',\n        type: Store.PAID_SUBSCRIPTION,\n      }])\n \n      Store.validator = validatorUrl\n      Store.applicationUsername = data?.profile._id\n\n        Store.when('subscription').updated( (product: IAPProduct) => {\n          const producties = productIds.map((p) => Store.get(p))\n          if (producties.every((v) => v && v.valid)) {\n            if (producties?.length >= 3) {\n              producties.forEach((p, i) => {\n                setProducts[i] = p\n              })\n            } else {\n              setProducts(producties)\n            }\n            //@ts-ignore\n            if (Store.ready()) {\n              setIsProductLoaded(true)\n            }\n          }\n        });\n\n        // Run some code only when the store is ready to be used\n        Store.ready(() =>  {\n          console.log('Store is ready');\n          console.log('Products: ' + Store.products);\n          console.log(JSON.stringify(Store.get('com.startenglishnow.monthly')));\n        });\n      Store.refresh()\n    }\n  }\n\n  async function finishCheckout(product: IAPProduct) {\n    // console.log('Checkout', product.owned)\n    // console.log(\"checkout susbscription\", data?.profile.currentPackage)\n    if (product.owned) {\n      // console.log(data?.profile.currentPackage)\n      presen('Subscribed successfully. Enjoy learning English!',2000)\n      router.push('/subscription')\n    } else {\n      presen('Something went wrong', 2000)\n    }\n  }\n\n  const checkoutIAP = async (productId) => {\n    if (!isPlatform('cordova' || 'capacitor')) {\n      setShowModal(true)\n    } else {\n      try {\n        if (data?.profile.status === 'NotVerified') {\n          present({\n            header: 'Speaky Peaky',\n            message:\n              \"It seems like you haven't verified your account. <br> Please check your email for verification.\",\n            buttons: [\n              {\n                text: 'Cancel',\n                role: 'cancel',\n                cssClass: 'danger',\n                handler: (blah) => {\n                  console.log('Confirm Cancel: blah')\n                },\n              },\n              {\n                text: 'Resend',\n                handler: () => {\n                  verifyEmail(data?.profile)\n                },\n              },\n            ],\n          })\n          return\n        }\n        orderProduct = Store.get(productId)\n\n        Store.order(productId, {\n          applicationUsername: data?.profile._id,\n        })\n        .error((err) => {\n          console.log({err})\n          orderProduct = null\n        })\n        .then((product: IAPProduct) => {\n            orderProduct = product\n            console.log('then', product.id)\n            \n        })\n         console.log('ordered')\n         console.log('ordered', orderProduct)\n         Store.when(productId).registered( (product: IAPProduct) => {\n          console.log('registered' + product.alias)\n        });\n\n        // Updated\n        \n\n        Store.when(productId).expired( (product: IAPProduct) => {\n          console.log('expired', product.id)\n          dismi()\n          product.finish()  \n        })\n\n        Store.when(productId).approved( (product: IAPProduct) => {\n          console.log('approved', orderProduct?.id, product.id, product.owned)\n            if (orderProduct?.id === product.id) {\n              product.verify()\n            } else {\n              product.finish()\n            }\n        })\n\n        Store.when(productId).verified( (product: IAPProduct) => {\n          console.log('verified', product.description, JSON.stringify(product))\n            setSubscription(product)\n              .then((success) => {\n                console.log({success})\n                if (success) {\n                  product.finish()\n                }\n              })\n              .catch((err) => {\n                dismi()\n                console.log({err})\n              })\n        })\n        Store.when(productId).finished( (product: IAPProduct) => {\n          console.log('finished', product.id, product.owned)\n        })\n\n        Store.when(productId).owned( (product: IAPProduct) => {\n          console.log(\"owned\", orderProduct?.id , \"&&\", product.id , \"&&\", product.owned)\n          if (orderProduct?.id === product.id && product.owned) {\n            finishCheckout(product)\n            dismi()\n          } else {\n            dismi()\n            console.log(product)\n          }\n        })\n        // Track all store errors\n        Store.error(function(error) {\n          setErr({ error: `ERROR ${error.code}: ${error.message}` });\n          setTimeout(function() {\n              setErr({ error: `` });\n          }, 10000);\n        });\n      } \n      catch (err) {\n        console.log('Error Ordering ' + err)\n        //  present(err)\n      } \n    }\n  }\n  \n const downloading = () => {\n   if (isPlatform('ios')) {\n    window.open('https://apps.apple.com/us/app/speaky-peaky/id1486127431', '_blank')\n   } else if (isPlatform('android')) {\n    window.open(\n      'https://play.google.com/store/apps/details?id=com.summer.startenglishnow',\n      '_blank',\n    )\n   }\n\n }\n async function setSubscriptionAndroid(product: IAPProduct) {\n\n  const response = JSON.stringify(product)\n  const parseResponse = JSON.parse(response)\n  console.log(\"response\", parseResponse)\n  const transaction: androidTransaction = parseResponse.transaction\n  console.log(\"transaction\", transaction)\n \n  const receipt: androidReceipt = JSON.parse(transaction.receipt)\n  \n    console.log(\"receipt\",receipt)\n\n  if (!receipt.autoRenewing) {\n    throw new Error('no autoRenewing')\n  }\n\n  const productType = productTypes[product.id]\n  const data = {\n    orderId: receipt.orderId,\n    packageName: receipt.packageName,\n    productId: receipt.productId,\n    purchaseToken: receipt.purchaseToken,\n    type: 'Android',\n    productType: productType,\n  }\n\n  console.log(\"data\", JSON.stringify(data))\n\n  const res = await fetchApi('/userSubscription/setUserSubscription', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n  console.log(\"res\", res)\n  if (res.message.startsWith('Subscribed successfully.')) {\n    return true\n  } else {\n    throw new Error('server error')\n  }\n}\n\nasync function setSubscriptionIOS(product: IAPProduct) {\n  const response = JSON.stringify(product)\n  const parseResponse = JSON.parse(response)\n  if (!parseResponse.transaction) {\n    return\n  }\n  const receipt = parseResponse.transaction\n  const productType = productTypes[product.id]\n  const data = {\n    orderId: receipt.transaction_id,\n    packageName: 'com.summer.startenglishnow',\n    productId: receipt.product_id,\n    purchaseToken: receipt.appStoreReceipt,\n    type: 'iOS',\n    productType: productType,\n  }\n  const res = await fetchApi('/userSubscription/setUserSubscription', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n  if (res.message.startsWith('Subscribed successfully.')) {\n    return true\n  } else {\n    throw new Error('server error')\n  }\n}\n\n async function setSubscription(product: IAPProduct) {\n  if (isPlatform('android')) {\n    return setSubscriptionAndroid(product)\n  } else if (isPlatform('ios')) {\n    return setSubscriptionIOS(product)\n  }\n}\n\n  useIonViewWillEnter(() => {\n    console.log('entering')\n    enter()\n  })\n  useIonViewDidEnter(() => {\n    // console.log('enter')\n  })\n  useEffect(() => {\n    // console.log('enter', products)\n  }, [products])\n\n  useIonViewWillLeave(() => {\n    // console.log('leave')\n  })\n\n  return (\n    <IonPage>\n       <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting/account\">\n              <IonIcon\n                color=\"dark\"\n                // mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Subscription Plans</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonModal  isOpen={showModal}  cssClass=\"myModal\">\n          <IonHeader mode=\"ios\" class=\"ion-no-border\">\n            <IonToolbar mode=\"ios\" no-border>\n              <IonButtons slot=\"end\">\n                <IonButton mode=\"md\" onClick={() => setShowModal(false)}>\n                  <IonIcon mode=\"md\" slot=\"icon-only\" name=\"close\"></IonIcon>\n                </IonButton>\n              </IonButtons>\n            </IonToolbar>\n          </IonHeader>\n\n          <IonContent className=\"modal\">\n            <IonGrid>\n              <IonRow>\n                <div className=\"heading\">\n                  <h1>\n                    여러분의 핸드폰을 이용하여 <span>모바일 어플</span>에서 수강권을\n                    구매해 주세요{' '}\n                  </h1>\n                  <h6 className=\"subtite\">스피키피키 어플 다운로드받기 </h6>\n                </div>\n              </IonRow>\n              <IonRow className=\"ion-justify-content-center ion-align-content-center\">\n                <IonCol className=\"ion-justify-content-center ion-align-content-center\">\n\n                  <div className=\"android-content\">\n                    <img src=\"./assets/images/single.png\" alt=\"placeholder\" />\n                    <img src=\"./assets/images/scan.png\" alt=\"placeholder\" />\n                   \n                    \n                  </div>\n                  <IonButton\n                     id=\"modal-button\"\n                     shape=\"round\"\n                  expand=\"block\"\n                     className=\"button-c\"\n                     onClick={downloading}\n                     >\n                       LET'S START\n                    </IonButton>\n                </IonCol>\n              </IonRow>\n            </IonGrid>\n          </IonContent>\n        </IonModal>\n\n        {/* Modal on loading page in desktop */}\n        <IonModal isOpen={modal} cssClass=\"myModal\">\n          <IonHeader class=\"ion-no-border\">\n            <IonToolbar no-border>\n              <IonButtons slot=\"end\">\n                <IonButton mode=\"md\" onClick={() => setModal(false)}>\n                  <IonIcon slot=\"icon-only\" name=\"close\"></IonIcon>\n                </IonButton>\n              </IonButtons>\n            </IonToolbar>\n          </IonHeader>\n\n          <IonContent className=\"modal\">\n            <IonGrid>\n              <IonRow>\n                <div className=\"heading\">\n                  <h1>\n                    여러분의 핸드폰을 이용하여 <span>모바일 어플</span>에서 수강권을\n                    구매해 주세요{' '}\n                  </h1>\n                  <h6 className=\"subtite\">스피키피키 어플 다운로드받기 </h6>\n                </div>\n              </IonRow>\n              <IonRow className=\"ion-justify-content-center ion-align-content-center\">\n                <IonCol className=\"ion-justify-content-center ion-align-content-center\">\n                  <div className=\"android-content\">\n                    <img src=\"./assets/images/single.png\" alt=\"placeholder\" />\n                    <img src=\"./assets/images/scan.png\" alt=\"placeholder\" />\n                  </div>\n                  <IonButton\n                  id=\"modal-button\"\n                  shape=\"round\"\n                  expand=\"block\"\n                     className=\"button-c\"\n                     onClick={downloading}\n                     >\n                       LET'S START\n                    </IonButton>\n                </IonCol>\n              </IonRow>\n            </IonGrid>\n          </IonContent>\n        </IonModal>\n\n        <IonGrid className=\"ion-padding main\">\n          <IonRow className=\"ion-align-items-center\">\n            <IonCol size=\"12\" className=\"ion-align-self-center\">\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  className=\"ion-align-self-center\"\n                >\n                  {/* <h1 className=\"ion-no-margin heading\">Subscription Status</h1> */}\n                  <p className=\"subheading\">\n                    Unlock the journey to speak English fluently\n                  </p>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  className=\"ion-align-self-center\"\n                >\n    \n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeLg=\"4\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonCard\n                        onClick={() => checkoutIAP(productIds[2])}\n                        className=\"ion-margin-top subscription-card monthly ion-no-margin\"\n                      >\n                        <IonCardContent>\n                          <h1 className=\"subscription-title ion-text-center\">MONTHLY</h1>\n                          <h1 className=\"subscription-amount ion-text-center\">\n                            US $9.99 / <span>month</span>\n                          </h1>\n                          <ul className=\"monthly-list\">\n                            <li>40 lessons per month</li>\n                            <li>Dictionary</li>\n                            <li>Saving words</li>\n                            <li>Instant feedback on listening and pronunciation</li>\n                          </ul>\n                          <p className=\"ion-text-center card-bottom\">\n                            Recurring monthly payment. Cancel anytime.\n                          </p>\n                        </IonCardContent>\n                      </IonCard>\n                    </IonCol>\n\n                    {/* <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeLg=\"4\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonCard\n                        onClick={() => checkoutIAP(productIds[0])}\n                        className=\"ion-margin-top subscription-card year ion-no-margin\"\n                      >\n                        <IonCardContent>\n                          <h1 className=\"subscription-title ion-text-center\">1 YEAR</h1>\n                          <h1 className=\"subscription-amount ion-text-center\">\n                            US $5.98 / month\n                          </h1>\n                          <h3 className=\"subscription-amount2 ion-text-center\">\n                            (US $71.8 / year)\n                          </h3>\n                          <ul className=\"yearly-list\">\n                            <li>Unlimited lessons</li>\n                            <li>Dictionary</li>\n                            <li>Saving words</li>\n                            <li>Instant feedback on listening and pronunciation</li>\n                          </ul>\n                          <p className=\"ion-text-center\">\n                            Billed as one payment. Recurring monthly payment. Cancel\n                            anytime.\n                          </p>\n                        </IonCardContent>\n                      </IonCard>\n                    </IonCol> */}\n\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeLg=\"4\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonCard\n                        onClick={() => checkoutIAP(productIds[1])}\n                        className=\"ion-margin-top subscription-card half-year ion-no-margin\"\n                      >\n                        <IonCardContent>\n                          <h1 className=\"subscription-title ion-text-center\">6 MONTHS</h1>\n                          <h1 className=\"subscription-amount ion-text-center\">\n                            US $7.99 / month{' '}\n                          </h1>\n                          <h3 className=\"subscription-amount2 ion-text-center\">\n                            (US $47.9 / 6 months)\n                          </h3>\n                          <ul className=\"yearly-list\">\n                            <li>Unlimited lessons</li>\n                            <li>Dictionary</li>\n                            <li>Saving words</li>\n                            <li>Instant feedback on listening and pronunciation</li>\n                          </ul>\n                          <p className=\"ion-text-center\">\n                            Billed as one payment. Recurring monthly payment. Cancel\n                            anytime.\n                          </p>\n                        </IonCardContent>\n                      </IonCard>\n                    </IonCol>\n                  </IonRow>\n                </IonCol>\n              </IonRow>\n\n              <IonRow className=\"ion-align-items-center ion-justify-content-center subscribed\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"10\"\n                  className=\"ion-align-self-center subs-image\"\n                  style={{backgroundImage: \"url('./assets/images/Capture1.PNG')\"}}\n                >\n                  <div className=\"subs-me\">\n                    <IonRow className=\"ion-fle\">\n                      <IonCol className=\"ion-justify-content-center ion-align-content-center\">\n                        <div className=\"android-content\">\n                          <img\n                            src=\"./assets/images/googleplay.png\"\n                            className=\"googlePlay\"\n                            alt=\"placeholder\"\n                            onClick={googlePlay}\n                          />\n                          <img\n                            src=\"./assets/images/Android_qr-code 2.png\"\n                            alt=\"placeholder\"\n                          />\n                          <img src=\"./assets/images/scan.png\" alt=\"placeholder\" />\n                        </div>\n                      </IonCol>\n                      <IonCol\n                        sizeMd=\"6\"\n                        className=\"ion-justify-content-center ion-align-content-center\"\n                      >\n                        <div className=\"apple-content\">\n                          <img\n                            src=\"./assets/images/appleplay.png\"\n                            className=\"googlePlay\"\n                            alt=\"placeholder\"\n                            onClick={appleplay}\n                          />\n                          <img src=\"./assets/images/appleqr.png\" alt=\"placeholder\" />\n                          <img src=\"./assets/images/scan.png\" alt=\"placeholder\" />\n                        </div>\n                      </IonCol>\n                    </IonRow>\n                  </div>\n                  {/* <img src=\"../../../../../../assets/images/Capture1.PNG\" />\n                      <button className=\"google\" (click)=\"googlePlay()\"></button>\n                      <button class=\"apple\" (click)=\"applePlay()\"></button> */}\n                </IonCol>\n              </IonRow>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default SubscriptionPlans\n","import {\n  IonBackButton,\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  useIonViewWillEnter,\n  useIonViewDidEnter,\n  IonText,\n  IonImg,\n} from '@ionic/react'\nimport { Media as media, MediaObject } from '@ionic-native/media'\nimport { isPlatform } from '@ionic/react'\nimport {fetchApi} from '../../fetchApis'\nimport {environment} from '../../enviornment'\nimport * as moment from 'moment'\nimport {Device} from '@capacitor/device'\nimport React, {useState, useEffect} from 'react'\n\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\nimport './LessonComplete.scss'\n\nconst LessonComplete: React.FC = () => {\n  const router = useIonRouter()\n  const {data , loading, error, refetch} = useGetProfileQuery()\n  const [completedLesson, setCompletedLesson] = useState([])\n  const [subscribeCompletedLesson, setSubscribeCompletedLesson] = useState([])\n\n  const logDeviceInfo = async () => {\n    let device\n    const info = await Device.getInfo()\n    const isApp = ['ios', 'android'].includes(info.platform)\n    const isMobileWeb =\n      info.platform === 'web' && ['ios', 'android'].includes(info.operatingSystem)\n    const isDesktop = info.platform === 'web' && !isMobileWeb\n    device = {...info, isApp, isMobileWeb, isDesktop}\n    \n  }\n\n  \n  let date = new Date()\n  let months = new Array()\n  moment.locale('en')\n  months = moment.months()\n  let currentMonth = months[new Date().getMonth()]\n  let subStartDate = new Date(`${data?.profile.userSubscriptionStartDate}`).toDateString()\n  let subEndDate = new Date(`${data?.profile.userSubscriptionEndDate}`).toDateString()\n\n  \n\n  const monthStartDate = new Date(date.getFullYear(), date.getMonth(), 1).toISOString()\n  const monthEndDate = new Date(date.getFullYear(), date.getMonth() + 1, 0).toISOString()\n\n\n  const getCompletedLessonsByCurrentMonth = async (startDate, endDate) => {\n    try {\n      const res = await fetchApi('/lesson/completedLessons-within-timeRange', {\n        method: 'POST',\n        body: JSON.stringify({\n          startDate: startDate,\n          endDate: endDate,\n        }),\n      })\n\n      if (res) {\n        if (res.data.length) {\n          setCompletedLesson(res.data)\n          \n        }\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const getCompletedLessonsInSubscriptionSchedule = async (startDate, endDate) => {\n    try {\n      const res = await fetchApi('/lesson/completedLessons-within-timeRange', {\n        method: 'POST',\n        body: JSON.stringify({\n          startDate: startDate,\n          endDate: endDate,\n        }),\n      })\n\n      if (res) {\n        if (res.data.length) {\n          setSubscribeCompletedLesson(res.data)\n        }\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  useEffect(() => {\n    getCompletedLessonsInSubscriptionSchedule(\n      data?.profile.userSubscriptionStartDate,\n      data?.profile.userSubscriptionEndDate,\n    )\n  }, [data])\n  useEffect(() => {\n    // console.log('completedLesson')\n  }, [completedLesson])\n  useEffect(() => {\n    // console.log('subscribeCompletedLesson')\n  }, [subscribeCompletedLesson])\n\n  useIonViewDidEnter(() => {\n    if (isPlatform('ios')) {\n      const file: MediaObject = media.create(\n       environment.assetBaseUrl + 'audioFile/SMALL_CROWD_APPLAUSE.wav',\n     )\n     file.play()\n   } else {\n     const file: MediaObject = media.create(\n       environment.assetBaseUrl + 'audioFile/SMALL_CROWD_APPLAUSE.mp3',\n     )\n     file.play()\n   }\n  })\n  \n\n  useIonViewWillEnter(() => {\n    refetch()\n    logDeviceInfo()\n    if (monthStartDate && monthEndDate) {\n      getCompletedLessonsByCurrentMonth(monthStartDate, monthEndDate)\n    }\n  })\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent className=\"ion-padding ion-padding-top lesson-complete\">\n        <IonGrid className=\"h-100 ion-padding\">\n          <IonRow className=\"h-100 auth-form ion-align-items-center\">\n            <IonCol className=\"ion-align-self-center\">\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"6\"\n                  sizeLg=\"4\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center\"\n                >\n                  <IonImg\n                    className=\"lesson-progress\"\n                    src=\"../../../../../assets/images/lesson-completed-celebration.png\"\n                    alt=\"lesson-progress\"\n                  ></IonImg>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center ion-text-center\"\n                >\n                  <h1>\n                    <strong>\n                      Great job. <br />\n                      You made it!\n                    </strong>\n                  </h1>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top ion-margin-bottom\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center ion-no-padding\"\n                >\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      size-xs=\"2\"\n                      size-sm=\"2\"\n                      size-md=\"1\"\n                      size-xl=\"1\"\n                      size-lg=\"1\"\n                      className=\"ion-align-self-center ion-no-padding\"\n                    >\n                      <IonImg\n                        src=\"../../../../../assets/images/checkmark-grey.png\"\n                        className=\"checkmark-grey\"\n                      ></IonImg>\n                    </IonCol>\n                    <IonCol\n                      size-xs=\"10\"\n                      size-sm=\"10\"\n                      size-md=\"11\"\n                      size-xl=\"11\"\n                      size-lg=\"11\"\n                      className=\"ion-align-self-center ion-no-padding\"\n                    >\n                      <h2>\n                        <IonText color=\"danger\">\n                          <strong className=\"completed-lessons-count\">\n                            &nbsp; {completedLesson.length} &nbsp;\n                          </strong>\n                        </IonText>\n                        {completedLesson.length <= 1 ? (\n                          <small>lesson in {currentMonth}</small>\n                        ) : (\n                          <small>lessons in {currentMonth}</small>\n                        )}\n                      </h2>\n                    </IonCol>\n                  </IonRow>\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      size-xs=\"2\"\n                      size-sm=\"2\"\n                      size-md=\"1\"\n                      size-xl=\"1\"\n                      size-lg=\"1\"\n                      className=\"ion-align-self-center ion-no-padding\"\n                    >\n                      <IonImg\n                        src=\"../../../../../assets/images/checkmark-grey.png\"\n                        className=\"checkmark-grey\"\n                      ></IonImg>\n                    </IonCol>\n                    <IonCol\n                      size-xs=\"10\"\n                      size-sm=\"10\"\n                      size-md=\"11\"\n                      size-xl=\"11\"\n                      size-lg=\"11\"\n                      className=\"ion-align-self-center ion-no-padding\"\n                    >\n                      {data?.profile.currentPackage === 'Subscription' ? (\n                        <h2>\n                          <IonText color=\"danger\">\n                            <strong className=\"completed-lessons-count\">\n                              &nbsp; {subscribeCompletedLesson.length} &nbsp;\n                            </strong>\n                          </IonText>\n                          {subscribeCompletedLesson.length <= 1 ? (\n                            <small>\n                              {' '}\n                              lesson in subscription month ({subStartDate} -{subEndDate} )\n                            </small>\n                          ) : (\n                            <small>\n                              lessons in subscription month ({subStartDate} - {subEndDate}{' '}\n                              )\n                            </small>\n                          )}\n                        </h2>\n                      ) : (\n                        <h2>\n                          <IonText color=\"danger\">\n                            <strong className=\"completed-lessons-count\">\n                              &nbsp; {data?.profile.completedLesson}\n                            </strong>\n                          </IonText>\n                          {data?.profile.completedLesson <= 1 ? (\n                            <small> &nbsp; lesson in Free Trial</small>\n                          ) : (\n                            <small> &nbsp; lessons in Free Trial</small>\n                          )}\n                        </h2>\n                      )}\n                    </IonCol>\n                  </IonRow>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-padding-top ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center IonText-center\"\n                >\n                  <IonButton\n                  className=\"subs\"\n                    mode=\"ios\"\n                    // color=\"danger\"\n                    shape=\"round\"\n                    expand=\"block\"\n                    onClick={() => router.push('dashboard/library')}\n                  >\n                    More lessons\n                  </IonButton>\n                </IonCol>\n              </IonRow>\n              <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                <IonCol\n                  sizeXs=\"12\"\n                  sizeSm=\"12\"\n                  sizeMd=\"7\"\n                  sizeLg=\"6\"\n                  sizeXl=\"4\"\n                  className=\"ion-align-self-center IonText-center\"\n                >\n                  <IonButton\n                  style={{textTransform: \"inherit\"}}\n                    // mode=\"ios\"\n                    color=\"danger\"\n                    fill=\"outline\"\n                    shape=\"round\"\n                    expand=\"block\"\n                    onClick={() => router.push('/dashboard/review')}\n                  >\n                    Review saved words / expressions\n                  </IonButton>\n                </IonCol>\n              </IonRow>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default LessonComplete;\n","import {\n  IonBackButton,\n  IonButton,\n  IonIcon,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonTitle,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonToolbar,\n  useIonRouter,\n  IonSkeletonText,\n  useIonViewDidEnter,\n  useIonViewDidLeave,\n  useIonViewWillEnter,\n  useIonViewWillLeave,\n  IonText,\n  useIonAlert,\n  useIonToast,\n  IonProgressBar,\n  useIonLoading,\n} from '@ionic/react'\nimport './Subscription.scss'\nimport {userProfile, fetchApi} from '../../fetchApis'\n\nimport React, {useState, useEffect} from 'react'\nimport {useGetProfileQuery} from '../../schema/types-and-hooks'\n\nconst Subscription: React.FC = () => {\n  const router = useIonRouter()\n  const [present] = useIonToast()\n  const [presen] = useIonAlert()\n  const [pres, dismiss] = useIonLoading();\n  const [user, setUser] = useState({\n    fullName: '',\n    email: '',\n    currentPackage: '',\n    subscriptionLabel: '',\n    subscriptionType: '',\n    promotionalLesson: '',\n    endDate: '',\n    startDate: '',\n  })\n\n  // const [user.subscriptionType != \"Promotion\", setIsProduct] = useState(false)\n  const [subscriptionDetails, setSubscriptionDetails] = useState({\n    productType: '',\n    userSubscriptionStartDate: '',\n    autoRenewal: '',\n    userSubscriptionEndDate: '',\n    subscriptionType: '',\n    productId: '',\n    subscriptionId: '',\n  })\n\n  const checkIsExpired = async (subscriptionType) => {\n    try {\n      const res = await fetchApi('/userSubscription/getUserSubscription', {\n        method: 'POST',\n        body: JSON.stringify({\n          subscriptionType,\n        }),\n      })\n\n      return res.message === 'Your subscription has been canceled.'\n    } catch (error) {\n      console.log(error)\n    }\n    return false\n  }\n\n  const getSubscriptionDetails = async (subscriptionType) => {\n    try {\n      const res = await fetchApi('/userSubscription/getUserSubscription', {\n        method: 'POST',\n        body: JSON.stringify({\n          subscriptionType,\n        }),\n      }).then((res) => {\n        if (res.message === 'Please verify your email to subscribe the package.') {\n          present(`${res.message}`, 3000)\n          router.push('/setting')\n        } else if (res.message === 'Your subscription has been canceled.') {\n          router.push('/subscriptionplans')\n        } else {\n          setSubscriptionDetails(res.data)\n        }\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const userProfile = async () => {\n    const SUBSCRIPTION_LABELS = {\n      Subscription: 'Subscription',\n      SubscriptionExpired: 'Subscription Expired',\n      Trial: 'Free Trial',\n    }\n    try {\n      const {data: profile} = await fetchApi('/user/get-profile')\n      if (profile.currentPackage !== 'Subscription') {\n        router.push('/subscriptionplans', 'forward')\n        return\n      }\n      if (\n        profile.currentPackage === 'Subscription' &&\n        profile.subscriptionType &&\n        (await checkIsExpired(profile.subscriptionType))\n      ) {\n        profile.currentPackage = 'SubscriptionExpired'\n      }\n\n      setUser({\n        fullName: profile.fullName,\n        email: profile.email,\n        currentPackage: profile.currentPackage,\n        subscriptionLabel: SUBSCRIPTION_LABELS[profile.currentPackage],\n        subscriptionType: profile.subscriptionType,\n        promotionalLesson: profile.subscriptionLesson,\n        endDate: new Date(`${profile.userSubscriptionEndDate}`).toLocaleDateString(\n          'en-US',\n          {year: 'numeric', month: 'long', day: 'numeric'},\n        ),\n        startDate: new Date(`${profile.userSubscriptionStartDate}`).toLocaleDateString(\n          'en-US',\n          {year: 'numeric', month: 'long', day: 'numeric'},\n        ),\n      })\n      getSubscriptionDetails(profile.subscriptionType || 'Android')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const turnOffStripeAutoRenewal= async() => {\n    try {\n    pres('Please wait...')\n    const res = await fetchApi('/payments/updateSubscription/', {\n      method: 'POST',\n      body: JSON.stringify({\n        subscriptionId : subscriptionDetails.subscriptionId\n      }),\n    })\n\n    await getSubscriptionDetails('Stripe')\n    } catch (error) {\n      console.log(error)\n    } finally {\n      dismiss()\n    }\n  }\n  const turnOffAutoRenewal = () => {\n    presen({\n      message: 'Are you sure you want to exit lesson?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah')\n          },\n        },\n        {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay')\n\n            if (user.subscriptionType === 'Stripe') {\n              turnOffStripeAutoRenewal()\n            } else if (user.subscriptionType === 'iOS') {\n              window.open('itms-apps://apps.apple.com/account/subscriptions', '_blank')\n              // this.store.manageSubscriptions()\n            } else if (user.subscriptionType === 'Android') {\n              window.open(\n                'https://play.google.com/store/account/subscriptions?sku=' +\n                  subscriptionDetails.productId +\n                  '&package=' +\n                  'com.startenglishnow.speakypeaky',\n              )\n            }\n          },\n        },\n      ],\n    })\n  }\n  useIonViewDidLeave(() => {\n    // console.log('ionViewDidLeave event fired');\n  })\n\n  useIonViewWillLeave(() => {\n    // console.log('ionViewWillLeave event fired');\n  })\n\n  useIonViewWillEnter(() => {\n    userProfile()\n  })\n\n  return (\n    <IonPage>\n       <IonHeader mode=\"ios\">\n        <IonToolbar mode=\"ios\">\n          <IonButtons slot=\"start\">\n            <IonButton mode=\"md\" routerLink=\"/setting\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                name=\"chevron-back\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>\n          <div style={{textAlign: 'center'}}>\n          <b>Subscription</b>\n          </div>\n          </IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton mode=\"md\" routerLink=\"/dashboard/lessons\" routerDirection=\"root\">\n              <IonIcon\n                color=\"dark\"\n                mode=\"md\"\n                slot=\"icon-only\"\n                src=\"./assets/images/home.svg\"\n              ></IonIcon>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding subscribe\">\n        {/* <IonProgressBar type=\"indeterminate\"></IonProgressBar> */}\n\n        {user.subscriptionType === 'Promotion' ? (\n          <IonGrid className=\"ion-padding\">\n            <IonRow className=\"ion-align-items-center\">\n              <IonCol size=\"12\" className=\"ion-align-self-center\">\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <h1 className=\"ion-no-margin\">Subscription Status</h1>\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonText color=\"medium\">Type</IonText>\n                    <h3 className=\"mt-5\">p{user?.subscriptionType}</h3>\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonText color=\"medium\">Start Date</IonText>\n                    <h3 className=\"mt-5\">{user?.startDate}</h3>\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonText color=\"medium\">Start Date</IonText>\n                    <h3 className=\"mt-5\">{user?.endDate}</h3>\n                  </IonCol>\n                </IonRow>\n              </IonCol>\n            </IonRow>\n          </IonGrid>\n        ) : subscriptionDetails.productType ? (\n          <IonGrid className=\"ion-padding\">\n            <IonRow className=\"ion-align-items-center\">\n              <IonCol size=\"12\" className=\"ion-align-self-center\">\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    sizeLg=\"6\"\n                    sizeXl=\"4\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <h1 className=\"ion-no-margin\">Subscription Status</h1>\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonText color=\"medium\">Type</IonText>\n                    {subscriptionDetails.productType === 'yearly' ? (\n                      <h3 className=\"mt-5\">Annual</h3>\n                    ) : subscriptionDetails.productType === '6_months' ? (\n                      <h3 className=\"mt-5\">6 Months</h3>\n                    ) : subscriptionDetails.productType === 'monthly' ? (\n                      <h3 className=\"mt-5\">Monthly</h3>\n                    ) : (\n                      ''\n                    )}\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    <IonText color=\"medium\">Start Date</IonText>\n                    <h3 className=\"mt-5\">\n                      {new Date(\n                        `${subscriptionDetails?.userSubscriptionStartDate}`,\n                      ).toDateString()}\n                      \n                    </h3>\n                  </IonCol>\n                </IonRow>\n                <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n                  <IonCol\n                    sizeXs=\"12\"\n                    sizeSm=\"12\"\n                    sizeMd=\"7\"\n                    className=\"ion-align-self-center\"\n                  >\n                    {subscriptionDetails.autoRenewal ? (\n                      <IonText color=\"medium\">Subscription Renews On</IonText>\n                    ) : (\n                      <IonText color=\"medium\">Subscription Expires On</IonText>\n                    )}\n                    <h3 className=\"mt-5\">\n                      {new Date(\n                        `${subscriptionDetails.userSubscriptionEndDate}`,\n                      ).toDateString()}\n                    </h3>\n                  </IonCol>\n                </IonRow>\n                {subscriptionDetails.autoRenewal ? (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeMd=\"7\"\n                      className=\"ion-align-self-center\"\n                      onClick={turnOffAutoRenewal}\n                    >\n                      <IonText id=\"auto-renewal\" color=\"medium\">\n                        Turn off auto-renewal\n                      </IonText>\n                    </IonCol>\n                  </IonRow>\n                ) : (\n                  ''\n                )}\n                {subscriptionDetails.subscriptionType === 'Stripe' ? (\n                  <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n                    <IonCol\n                      sizeXs=\"12\"\n                      sizeSm=\"12\"\n                      sizeMd=\"7\"\n                      className=\"ion-align-self-center\"\n                    >\n                      <IonText id=\"auto-renewal\" color=\"medium\">\n                        Manage Stripe Cards\n                      </IonText>\n                    </IonCol>\n                  </IonRow>\n                ) : (\n                  ''\n                )}\n              </IonCol>\n            </IonRow>\n          </IonGrid>\n        ) : (\n          \n          [0, 1, 2, 3, 4].map((i) => (\n            <IonRow key={i}\n            class=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol\n                sizeXs=\"12\"\n                sizeSm=\"12\"\n                sizeMd=\"7\"\n                sizeLg=\"6\"\n                sizeXl=\"4\"\n                class=\"ion-align-self-center\"\n              >\n                <IonItem mode=\"ios\">\n                  <IonLabel>\n                    <IonSkeletonText animated style={{width: '40%'}}></IonSkeletonText>\n                    <h3>\n                      <IonSkeletonText animated style={{width: '70%'}}></IonSkeletonText>\n                    </h3>\n                  </IonLabel>\n                  <IonButton slot=\"end\" color=\"danger\" mode=\"ios\" fill=\"clear\">\n                    <IonSkeletonText animated style={{width: '20%'}}></IonSkeletonText>\n                  </IonButton>\n                </IonItem>\n              </IonCol>\n            </IonRow>\n          ))\n        )}\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Subscription\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// import {useIonAlert} from '@ionic/react'\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n  onWaiting?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      if (registration.waiting) {\n        if (config && config.onWaiting) {\n          config.onWaiting(registration);\n        }\n      }\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n              \n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n      \n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: {'Service-Worker': 'script'},\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import {Redirect, Route} from 'react-router-dom'\nimport {IonApp, IonRouterOutlet, useIonAlert, isPlatform} from '@ionic/react'\nimport {IonReactRouter} from '@ionic/react-router'\nimport Home from './pages/Home'\nimport './styles/global.scss'\nimport Cookies from 'js-cookie'\nimport {storageHelper} from './utils/storageHelper'\nimport {useEffect, useState} from 'react'\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css'\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css'\nimport '@ionic/react/css/structure.css'\nimport '@ionic/react/css/typography.css'\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css'\nimport '@ionic/react/css/float-elements.css'\nimport '@ionic/react/css/text-alignment.css'\nimport '@ionic/react/css/text-transformation.css'\nimport '@ionic/react/css/flex-utils.css'\nimport '@ionic/react/css/display.css'\n\n/* Theme variables */\nimport './theme/variables.css'\nimport Dashboard from './pages/Dashboard'\nimport LessonIntro from './pages/lessons/LessonIntro'\nimport {settingRoutes} from './pages/setting/Setting'\nimport OnBoarding from './pages/onBoarding/OnBoarding'\nimport AuthPage from './pages/onBoarding/Authentication'\nimport ForgotPassword from './pages/onBoarding/ForgotPassword'\nimport PostBoarding from './pages/onBoarding/PostBording'\nimport {ApolloProvider} from '@apollo/client'\nimport {client} from './apollo/apollo-client'\nimport {QueryClient, QueryClientProvider} from 'react-query'\nimport LessonsHome from './pages/lessons/LessonsHome'\nimport {useGetProfileQuery} from './schema/types-and-hooks'\nimport SearchList from './pages/library/SearchListPage'\nimport CourseListPage from './pages/lessons/CourseList'\nimport PopularLessonList from './pages/lessons/PopularLessonList'\nimport NewUploadsList from './pages/lessons/NewUploadsList'\nimport SavedLessonsList from './pages/lessons/SavedLessonsList'\nimport DraftLessonsList from './pages/lessons/DraftLessonsList'\nimport LessonDetailsPage from './pages/lessons/LessonDetails'\nimport CourseDetailsPage from './pages/lessons/CourseDetailsPage'\nimport LessonStepsPage from './pages/lessons/lessonSteps/LessonStepsPage'\nimport SubscriptionPlans from './pages/Subscription/Subscriptionplans'\nimport LessonComplete from './pages/lessons/LessonComplete'\nimport Subscription from './pages/Subscription/Subscription'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\n\nconst queryClient = new QueryClient()\n\nconst WithProfile: React.FC = ({children}) => {\n  const {loading, data} = useGetProfileQuery()\n  if (loading) {\n    return null\n  }\n  if (!data?.profile) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return <>{children}</>\n}\n\nconst App: React.FC = () => {\n  const [present] = useIonAlert()\n  const [local, setLocal] = useState('')\n  let ios\n  const [newVersionAvailable, setNewVersionAvailable] = useState(false)\n  const [waitingWorker, setWaitingWorker] = useState(null)\n  const [dispatch, setDispatch] = useState(false)\n  \n\n  const updateServiceWorker = async () => {\n    if (waitingWorker) {\n      waitingWorker.postMessage({type: 'SKIP_WAITING'})\n\n      waitingWorker.addEventListener('statechange', (e) => {\n        if (e.target.state === 'activated') {\n          window.location.reload()\n        }\n      })\n    }\n    setNewVersionAvailable(false)\n  }\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'production') {\n      serviceWorkerRegistration.register({\n        onSuccess: () => setDispatch(true),\n        onUpdate: (registration) => {\n          setWaitingWorker(registration.waiting)\n          setNewVersionAvailable(true)\n        },\n        onWaiting: (registration) => {\n          setWaitingWorker(registration.waiting)\n          setNewVersionAvailable(true)\n        },\n      })\n    }\n  }, [])\n\n  if (newVersionAvailable) {\n    present({\n      message: 'A new version is available. Want to load the new version?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {\n            console.log('not installing new version')\n          },\n        },\n        {\n          text: 'Okay',\n          handler: () => {\n            updateServiceWorker()\n          },\n        },\n      ],\n    })\n  }\n\n  useEffect(() => {}, [newVersionAvailable, local])\n\n  useEffect(() => {\n    storageHelper.getNativeStorage('token').then((token) => {\n      if (token?.data) {\n        setLocal('/dashboard/lessons')\n      } else {\n        setLocal('/on-boarding')\n      }\n    })\n  }, [])\n\n  if (isPlatform('mobileweb') && !Cookies.get('did-suggest-app')) {\n    present({\n      header: 'Hey there,',\n      message: 'For better experience, would you like to download the Speaky Peaky app?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {\n            Cookies.set('did-suggest-app', 'yes', {expires: 7})\n          },\n        },\n        {\n          text: 'Download',\n          handler: () => {\n            Cookies.set('did-suggest-app', 'yes', {expires: 7})\n            window.open('https://speakypeaky.page.link/home')\n          },\n        },\n      ],\n    })\n  }\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ApolloProvider client={client}>\n        <IonApp\n        \n        >\n          <IonReactRouter>\n            <IonRouterOutlet>\n              <Route exact path=\"/home\">\n                <Home />\n              </Route>\n              <Route path=\"/dashboard\">\n                <WithProfile>\n                  <Dashboard />\n                </WithProfile>\n              </Route>\n              <Route path=\"/lessons\" exact>\n                <LessonsHome />\n              </Route>\n              <Route path=\"/lessons/intro\">\n                <LessonIntro />\n              </Route>\n              <Route path=\"/lesson-details/:subLessonId\">\n                <WithProfile>\n                  <LessonDetailsPage />\n                </WithProfile>\n              </Route>\n              <Route path=\"/course-details/:lessonId\">\n                <WithProfile>\n                  <CourseDetailsPage />\n                </WithProfile>\n              </Route>\n              <Route path=\"/lesson-steps/:subLessonId/:isDraft\" exact={false}>\n                <WithProfile>\n                  <LessonStepsPage />\n                </WithProfile>\n              </Route>\n              <Route exact path=\"/on-boarding\">\n                <OnBoarding />\n              </Route>\n              <Route exact path=\"/post-boarding\">\n                <PostBoarding />\n              </Route>\n\n              <Route exact path=\"/login\">\n                <AuthPage />\n              </Route>\n              <Route exact path=\"/sign-up\">\n                <AuthPage />\n              </Route>\n              <Route exact path=\"/forgot-pw\">\n                <ForgotPassword />\n              </Route>\n\n              <Route exact path=\"/my-courses\">\n                <CourseListPage />\n              </Route>\n              <Route exact path=\"/popular\">\n                <PopularLessonList />\n              </Route>\n              <Route exact path=\"/new-uploads\">\n                <WithProfile>\n                  <NewUploadsList />\n                </WithProfile>\n              </Route>\n              <Route exact path=\"/subscription\">\n                <WithProfile>\n                  <Subscription />\n                </WithProfile>\n              </Route>\n              <Route exact path=\"/saved-lessons\">\n                <SavedLessonsList />\n              </Route>\n              <Route exact path=\"/draft-lessons\">\n                <DraftLessonsList />\n              </Route>\n              <Route exact path=\"/library/:topicId\">\n                <SearchList />\n              </Route>\n\n              <Route exact path=\"/subscriptionplans\">\n                <SubscriptionPlans />\n              </Route>\n              <Route exact path=\"/lesson-complete\">\n                <LessonComplete />\n              </Route>\n\n              {settingRoutes.map((route) => (\n                <Route key={route.path} {...route} />\n              ))}\n\n              <Route exact path=\"/\">\n                <Redirect to={local} />\n              </Route>\n            </IonRouterOutlet>\n          </IonReactRouter>\n        </IonApp>\n      </ApolloProvider>\n    </QueryClientProvider>\n  )\n}\n\nexport default App\n","import {ReportHandler} from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {defineCustomElements} from '@ionic/pwa-elements/loader'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\n\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root'),\n)\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n\n// Call the element loader after the platform has been bootstrapped\ndefineCustomElements(window)\n\n\n"],"sourceRoot":""}